(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8450],{94253:function(e,t,r){Promise.resolve().then(r.bind(r,3067))},93730:function(e,t,r){"use strict";r.d(t,{d:function(){return c}});var n=r(31229),a=r(62290),i=r(47539),l=r(5433),o=r(59533);function s(e){return e.substring(2).toLowerCase()}function c(e){let{children:t,disableReactTree:r=!1,mouseEvent:c="onClick",onClickAway:u,touchEvent:d="onTouchEnd"}=e,m=n.useRef(!1),g=n.useRef(null),h=n.useRef(!1),p=n.useRef(!1);n.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);let f=(0,a.Z)(t.ref,g),x=(0,i.Z)(e=>{let t=p.current;p.current=!1;let n=(0,l.Z)(g.current);if(h.current&&g.current&&(!("clientX"in e)||!(n.documentElement.clientWidth<e.clientX)&&!(n.documentElement.clientHeight<e.clientY))){if(m.current){m.current=!1;return}(e.composedPath?e.composedPath().indexOf(g.current)>-1:!n.documentElement.contains(e.target)||g.current.contains(e.target))||!r&&t||u(e)}}),v=e=>r=>{p.current=!0;let n=t.props[e];n&&n(r)},b={ref:f};return!1!==d&&(b[d]=v(d)),n.useEffect(()=>{if(!1!==d){let e=s(d),t=(0,l.Z)(g.current),r=()=>{m.current=!0};return t.addEventListener(e,x),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,x),t.removeEventListener("touchmove",r)}}},[x,d]),!1!==c&&(b[c]=v(c)),n.useEffect(()=>{if(!1!==c){let e=s(c),t=(0,l.Z)(g.current);return t.addEventListener(e,x),()=>{t.removeEventListener(e,x)}}},[x,c]),(0,o.jsx)(n.Fragment,{children:n.cloneElement(t,b)})}},6083:function(e,t,r){"use strict";r.r(t);var n=r(59533),a=r(31229),i=r(30253),l=r(73815),o=r(91975);let s=(0,l.ZP)(i.Z)(e=>{let{skin:t,color:r,size:n,theme:a}=e;return{...r&&"light"===t&&{backgroundColor:"var(--mui-palette-".concat(r,"-lightOpacity)"),color:"var(--mui-palette-".concat(r,"-main)")},...r&&"light-static"===t&&{backgroundColor:(0,o.$n)(a.palette[r].main,.84),color:"var(--mui-palette-".concat(r,"-main)")},...r&&"filled"===t&&{backgroundColor:"var(--mui-palette-".concat(r,"-main)"),color:"var(--mui-palette-".concat(r,"-contrastText)")},...n&&{height:n,width:n}}}),c=(0,a.forwardRef)((e,t)=>{let{color:r,skin:a="filled",...i}=e;return(0,n.jsx)(s,{color:r,skin:a,ref:t,...i})});t.default=c},79505:function(e,t,r){"use strict";r.r(t);var n=r(59533),a=r(31229),i=r(96353),l=r(10358),o=r(66873),s=r(51442),c=r(6532),u=r(50529),d=r(93730),m=r(72315),g=r(46355),h=r(84448),p=r(48111),f=r(72860),x=r.n(f),v=r(59787);let b=e=>{let{tooltipProps:t,children:r}=e;return(null==t?void 0:t.title)?(0,n.jsx)(l.Z,{...t,children:r}):r},j=e=>{let{children:t,option:r}=e;return r.href?(0,n.jsx)(o.Z,{component:i.default,href:r.href,...r.linkProps,children:t}):(0,n.jsx)(n.Fragment,{children:t})};t.default=e=>{let{tooltipProps:t,icon:r,iconClassName:i,options:l,leftAlignMenu:o,iconButtonProps:f}=e,[y,w]=(0,a.useState)(!1),C=(0,a.useRef)(null),{settings:N}=(0,v.r)(),S=e=>{C.current&&C.current.contains(e.target)||w(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{tooltipProps:t,children:(0,n.jsx)(h.Z,{ref:C,size:"small",onClick:()=>{w(e=>!e)},...f,children:"string"==typeof r?(0,n.jsx)("i",{className:x()(r,i)}):r||(0,n.jsx)("i",{className:x()("ri-more-2-line",i)})})}),(0,n.jsx)(s.Z,{open:y,anchorEl:C.current,placement:o?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:e=>{let{TransitionProps:t}=e;return(0,n.jsx)(m.Z,{...t,children:(0,n.jsx)(g.Z,{className:"bordered"===N.skin?"border shadow-none":"shadow-lg",children:(0,n.jsx)(d.d,{onClickAway:S,children:(0,n.jsx)(u.Z,{autoFocusItem:y,children:l.map((e,t)=>"string"==typeof e?(0,n.jsx)(c.Z,{onClick:S,children:e},t):"divider"in e?e.divider&&(0,n.jsx)(p.Z,{...e.dividerProps},t):(0,n.jsx)(c.Z,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:t=>{S(t),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,n.jsxs)(j,{option:e,children:[("string"==typeof e.icon?(0,n.jsx)("i",{className:e.icon}):e.icon)||null,e.text]})},t))})})})})}})]})}},64825:function(e,t,r){"use strict";r.d(t,{J:function(){return c},SettingsProvider:function(){return u}});var n=r(59533),a=r(31229),i=r(23310),l=r(13231),o=r(75443);let s=(e,t)=>{let[r,n]=(0,o.Z)(e);return[(0,a.useMemo)(()=>r?JSON.parse(r):t,[r]),e=>{n(JSON.stringify(e))}]},c=(0,a.createContext)(null),u=e=>{let t={mode:i.Z.mode,skin:i.Z.skin,semiDark:i.Z.semiDark,layout:i.Z.layout,navbarContentWidth:i.Z.navbar.contentWidth,contentWidth:i.Z.contentWidth,footerContentWidth:i.Z.footer.contentWidth,primaryColor:l.Z[0].main},r={...t,mode:e.mode||i.Z.mode},[o,u]=s(i.Z.settingsCookieName,"{}"!==JSON.stringify(e.settingsCookie)?e.settingsCookie:r),[d,m]=(0,a.useState)("{}"!==JSON.stringify(o)?o:r),g=(e,t)=>{let{updateCookie:r=!0}=t||{};m(t=>{let n={...t,...e};return r&&u(n),n})},h=(0,a.useMemo)(()=>JSON.stringify(t)!==JSON.stringify(d),[d]);return(0,n.jsx)(c.Provider,{value:{settings:d,updateSettings:g,isSettingsChanged:h,resetSettings:()=>{g(t)},updatePageSettings:e=>(g(e,{updateCookie:!1}),()=>g(o,{updateCookie:!1}))},children:e.children})}},59787:function(e,t,r){"use strict";r.d(t,{r:function(){return i}});var n=r(31229),a=r(64825);let i=()=>{let e=(0,n.useContext)(a.J);if(!e)throw Error("useSettingsContext must be used within a SettingsProvider");return e}},42648:function(e,t,r){"use strict";r.d(t,{Pg:function(){return o},c7:function(){return a},sE:function(){return l},uH:function(){return n},zh:function(){return i}});let n={completed:"success",rejected:"error","received token":"info","picking up":"primary",processing:"warning",delivering:"secondary"},a={pending:"warning",completed:"success",accepted:"info",rejected:"error",negotiation:"primary"},i={delivering:"secondary",completed:"success",ordered:"info",preparing:"primary",refunded:"warning",canceled:"error"},l={paid:"secondary","partially paid":"info",rejected:"error",unpaid:"primary",pending:"warning"},o={verified:"success",pending:"warning",unverified:"primary",disable:"error"}},99954:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});let n={defaultLocale:"en",locales:["en","fr","ar"],langDirection:{en:"ltr",fr:"ltr",ar:"rtl"}}},13231:function(e,t){"use strict";t.Z=[{name:"primary-1",light:"#A379FF",main:"#8C57FF",dark:"#7E4EE6"},{name:"primary-2",light:"#4EB0B1",main:"#0D9394",dark:"#096B6C"},{name:"primary-3",light:"#F0718D",main:"#EB3D63",dark:"#AC2D48"},{name:"primary-4",light:"#FFC25A",main:"#FFAB1D",dark:"#BA7D15"},{name:"primary-5",light:"#5CAFF1",main:"#2092EC",dark:"#176BAC"}]},23310:function(e,t){"use strict";t.Z={templateName:"ALPHA",homePageUrl:"/user/list",settingsCookieName:"Alpha",mode:"system",skin:"default",semiDark:!1,layout:"vertical",layoutPadding:24,compactContentWidth:1440,navbar:{type:"fixed",contentWidth:"compact",floating:!1,detached:!0,blur:!0},contentWidth:"compact",footer:{type:"static",contentWidth:"compact",detached:!0},disableRipple:!1,toastPosition:"top-right"}},348:function(e,t,r){"use strict";r.d(t,{Q:function(){return n}});let n=e=>e.split(/\s/).reduce((e,t)=>e+=t.slice(0,1),"")},84148:function(e,t,r){"use strict";r.d(t,{U:function(){return l}});var n=r(99954);let a=(e,t)=>e.startsWith(t)?e:"".concat(t).concat(e),i=e=>n.a.locales.every(t=>!(e.startsWith("/".concat(t,"/"))||e==="/".concat(t))),l=(e,t)=>{if(!e||!t)throw Error("URL or Language Code can't be empty");return i(e)?"/".concat(t).concat(a(e,"/")):e}},3067:function(e,t,r){"use strict";var n=r(59533),a=r(31229),i=r(96353),l=r(61250),o=r(76778),s=r(54323),c=r(29900),u=r(84323),d=r(84448),m=r(61732),g=r(13954),h=r(72860),p=r.n(h),f=r(19880),x=r(65841),v=r(51480);r(79505),r(6083),r(42648),r(348);var b=r(84148),j=r(67875),y=r.n(j),w=r(40877),C=r(31029);r(29349);var N=r(3050);let S=(e,t,r,n)=>{let a=(0,f.O4)(e.getValue(t),r);return n({itemRank:a}),a.passed},_=e=>{let{value:t,onChange:r,debounce:i=500,...l}=e,[o,s]=(0,a.useState)(t);return(0,a.useEffect)(()=>{s(t)},[t]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{r(o)},i);return()=>clearTimeout(e)},[o]),console.log("value ",o),(0,n.jsx)(m.Z,{...l,value:o,onChange:e=>s(e.target.value),size:"small"})},k=(0,x.Cl)(),Z=[{label:"E-Warranty Number",key:"ewarranty_number"},{label:"Customer Name",key:"customer_name"},{label:"Customer Phone",key:"customer_phone"},{label:"Model Number",key:"model_number"},{label:"Serial Number",key:"serial_number"},{label:"Shop Name",key:"shop_name"},{label:"Created At",key:"created_at"},{label:"Updated At",key:"updated_at"}];t.default=()=>{let{data:e}=(0,w.kJ)(C.yP),{data:t}=(0,w.kJ)(C.DF),[r,m]=(0,a.useState)(""),[h,f]=(0,a.useState)({}),[j,P]=(0,a.useState)(e.ewarranties),[E,F]=(0,a.useState)(j),[R,D]=(0,a.useState)(""),{lang:L}=(0,l.useParams)(),W=E.map(e=>({...e,ewarranty_number:e.ewarranty_number,customer_name:e.customer_name,customer_phone:e.customer_phone,model_number:e.model_number,serial_number:e.serial_number,shop_name:e.shop_name,created_at:new Date(e.created_at).toLocaleString(),updated_at:new Date(e.updated_at).toLocaleString()})),A=(0,a.useMemo)(()=>[k.accessor("ewarranty_number",{header:"E-Warranty Number",cell:e=>{var t;let{row:r}=e;return(0,n.jsx)(u.Z,{component:i.default,href:(0,b.U)("/ewarranties/details/".concat(r.original.id),L),color:"primary",children:"".concat(null===(t=r.original)||void 0===t?void 0:t.ewarranty_number)})}}),k.accessor("customer_name",{header:"Customer Name",cell:e=>{var t,r;let{row:a}=e;return(0,n.jsx)("div",{className:"flex items-center gap-4 ",children:(0,n.jsxs)("div",{className:"flex flex-col w-60 text-wrap",children:[(0,n.jsx)(u.Z,{className:"font-medium",color:"text.primary",children:null===(t=a.original)||void 0===t?void 0:t.customer_name}),(0,n.jsx)(u.Z,{variant:"body2",children:null===(r=a.original)||void 0===r?void 0:r.customer_phone})]})})}}),k.accessor("model_number",{header:"Model Number",cell:e=>{var t;let{row:r}=e;return(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)(u.Z,{className:"font-medium",color:"text.primary",children:null===(t=r.original)||void 0===t?void 0:t.model_number})})})}}),k.accessor("serial_number",{header:"Serial Number",cell:e=>{var t;let{row:r}=e;return(0,n.jsx)(u.Z,{children:"".concat(null!==r.original.serial_number?null===(t=r.original)||void 0===t?void 0:t.serial_number:"-")})}}),k.accessor("created_at",{header:"Date",cell:e=>{let{row:t}=e;return(0,n.jsx)(u.Z,{children:new Date(t.original.created_at).toLocaleString()})}}),k.accessor("action",{header:"Action",cell:e=>{var t;let{row:r}=e;return(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(i.default,{href:(0,b.U)("/ewarranties/details/".concat(null===(t=r.original)||void 0===t?void 0:t.id),L),className:"flex",children:(0,n.jsx)("i",{className:"ri-eye-line text-textSecondary"})})})})},enableSorting:!1})],[j,E]),I=(0,v.b7)({data:E,columns:A,filterFns:{fuzzy:S},state:{rowSelection:h,globalFilter:R},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:S,onRowSelectionChange:f,getCoreRowModel:(0,x.sC)(),onGlobalFilterChange:D,getFilteredRowModel:(0,x.vL)(),getSortedRowModel:(0,x.tj)(),getPaginationRowModel:(0,x.G_)(),getFacetedRowModel:(0,x.o6)(),getFacetedUniqueValues:(0,x.JG)(),getFacetedMinMaxValues:(0,x.HO)()});return(0,a.useEffect)(()=>{F(null==j?void 0:j.filter(e=>!r||e.status.toLowerCase().replace(/\s+/g,"-")===r))},[r,j,F]),(0,n.jsxs)(o.Z,{children:[(0,n.jsxs)(s.Z,{className:"flex justify-between gap-4 flex-wrap flex-col sm:flex-row items-center",children:[(0,n.jsx)("div",{className:"flex flex-col sm:flex-row max-sm:is-full items-center gap-4",children:(0,n.jsx)(_,{value:null!=R?R:"",onChange:e=>D(String(e)),placeholder:"Search E-Warranty",className:"max-sm:is-full min-is-[200px]"})}),(0,n.jsx)(c.Z,{color:"secondary",variant:"outlined",startIcon:(0,n.jsx)("i",{className:"ri-upload-2-line text-xl"}),className:"max-sm:is-full",children:(0,n.jsx)(N.CSVLink,{className:"exportBtn",data:W,headers:Z,filename:"all-ewarranties-".concat(new Date().toISOString(),".csv"),children:"Export"})})]}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:y().table,children:[(0,n.jsx)("thead",{children:I.getHeaderGroups().map(e=>(0,n.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,n.jsx)("th",{children:e.isPlaceholder?null:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:p()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,v.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:(0,n.jsx)("i",{className:"ri-arrow-up-s-line text-xl"}),desc:(0,n.jsx)("i",{className:"ri-arrow-down-s-line text-xl"})})[e.column.getIsSorted()])&&void 0!==t?t:null]})})},e.id)})},e.id))}),0===I.getFilteredRowModel().rows.length?(0,n.jsx)("tbody",{children:(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:I.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):(0,n.jsx)("tbody",{children:I.getRowModel().rows.slice(0,I.getState().pagination.pageSize).map(e=>(0,n.jsx)("tr",{className:p()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>(0,n.jsx)("td",{children:(0,v.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,n.jsx)(g.Z,{rowsPerPageOptions:[10,25,50],component:"div",className:"border-bs",count:I.getFilteredRowModel().rows.length,rowsPerPage:I.getState().pagination.pageSize,page:I.getState().pagination.pageIndex,SelectProps:{inputProps:{"aria-label":"rows per page"}},onPageChange:(e,t)=>{I.setPageIndex(t)},onRowsPerPageChange:e=>I.setPageSize(Number(e.target.value))})]})}},67875:function(e){e.exports={table:"table_table__cB3AL",cellWithInput:"table_cellWithInput__N6u24"}}},function(e){e.O(0,[3307,6086,5278,6353,1378,8190,5266,1802,1732,6479,9276,9124,1166,3302,3347,9295,559,4772,3954,6084,1029,9349,4170,6842,1744],function(){return e(e.s=94253)}),_N_E=e.O()}]);