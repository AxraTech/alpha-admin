(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6804],{91448:function(e,t,r){Promise.resolve().then(r.bind(r,607))},49758:function(e,t,r){"use strict";r.r(t);var a=r(57437),l=r(2265),n=r(96303),i=r(48024),s=r(22305);let o=(0,i.ZP)(n.Z)(e=>{let{skin:t,color:r,size:a,theme:l}=e;return{...r&&"light"===t&&{backgroundColor:"var(--mui-palette-".concat(r,"-lightOpacity)"),color:"var(--mui-palette-".concat(r,"-main)")},...r&&"light-static"===t&&{backgroundColor:(0,s.$n)(l.palette[r].main,.84),color:"var(--mui-palette-".concat(r,"-main)")},...r&&"filled"===t&&{backgroundColor:"var(--mui-palette-".concat(r,"-main)"),color:"var(--mui-palette-".concat(r,"-contrastText)")},...a&&{height:a,width:a}}}),c=(0,l.forwardRef)((e,t)=>{let{color:r,skin:l="filled",...n}=e;return(0,a.jsx)(o,{color:r,skin:l,ref:t,...n})});t.default=c},81128:function(e,t,r){"use strict";r.r(t);var a=r(57437),l=r(2265),n=r(87138),i=r(31655),s=r(91326),o=r(27316),c=r(11656),d=r(42748),u=r(24134),m=r(95635),g=r(28027),h=r(60335),x=r(14595),p=r(56800),f=r.n(p),j=r(92110);let v=e=>{let{tooltipProps:t,children:r}=e;return(null==t?void 0:t.title)?(0,a.jsx)(i.Z,{...t,children:r}):r},y=e=>{let{children:t,option:r}=e;return r.href?(0,a.jsx)(s.Z,{component:n.default,href:r.href,...r.linkProps,children:t}):(0,a.jsx)(a.Fragment,{children:t})};t.default=e=>{let{tooltipProps:t,icon:r,iconClassName:n,options:i,leftAlignMenu:s,iconButtonProps:p}=e,[b,Z]=(0,l.useState)(!1),C=(0,l.useRef)(null),{settings:k}=(0,j.r)(),w=e=>{C.current&&C.current.contains(e.target)||Z(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{tooltipProps:t,children:(0,a.jsx)(h.Z,{ref:C,size:"small",onClick:()=>{Z(e=>!e)},...p,children:"string"==typeof r?(0,a.jsx)("i",{className:f()(r,n)}):r||(0,a.jsx)("i",{className:f()("ri-more-2-line",n)})})}),(0,a.jsx)(o.Z,{open:b,anchorEl:C.current,placement:s?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:e=>{let{TransitionProps:t}=e;return(0,a.jsx)(m.Z,{...t,children:(0,a.jsx)(g.Z,{className:"bordered"===k.skin?"border shadow-none":"shadow-lg",children:(0,a.jsx)(u.d,{onClickAway:w,children:(0,a.jsx)(d.Z,{autoFocusItem:b,children:i.map((e,t)=>"string"==typeof e?(0,a.jsx)(c.Z,{onClick:w,children:e},t):"divider"in e?e.divider&&(0,a.jsx)(x.Z,{...e.dividerProps},t):(0,a.jsx)(c.Z,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:t=>{w(t),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,a.jsxs)(y,{option:e,children:[("string"==typeof e.icon?(0,a.jsx)("i",{className:e.icon}):e.icon)||null,e.text]})},t))})})})})}})]})}},44156:function(e,t,r){"use strict";r.d(t,{J:function(){return c},SettingsProvider:function(){return d}});var a=r(57437),l=r(2265),n=r(36887),i=r(60625),s=r(97271);let o=(e,t)=>{let[r,a]=(0,s.Z)(e);return[(0,l.useMemo)(()=>r?JSON.parse(r):t,[r]),e=>{a(JSON.stringify(e))}]},c=(0,l.createContext)(null),d=e=>{let t={mode:n.Z.mode,skin:n.Z.skin,semiDark:n.Z.semiDark,layout:n.Z.layout,navbarContentWidth:n.Z.navbar.contentWidth,contentWidth:n.Z.contentWidth,footerContentWidth:n.Z.footer.contentWidth,primaryColor:i.Z[0].main},r={...t,mode:e.mode||n.Z.mode},[s,d]=o(n.Z.settingsCookieName,"{}"!==JSON.stringify(e.settingsCookie)?e.settingsCookie:r),[u,m]=(0,l.useState)("{}"!==JSON.stringify(s)?s:r),g=(e,t)=>{let{updateCookie:r=!0}=t||{};m(t=>{let a={...t,...e};return r&&d(a),a})},h=(0,l.useMemo)(()=>JSON.stringify(t)!==JSON.stringify(u),[u]);return(0,a.jsx)(c.Provider,{value:{settings:u,updateSettings:g,isSettingsChanged:h,resetSettings:()=>{g(t)},updatePageSettings:e=>(g(e,{updateCookie:!1}),()=>g(s,{updateCookie:!1}))},children:e.children})}},92110:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});var a=r(2265),l=r(44156);let n=()=>{let e=(0,a.useContext)(l.J);if(!e)throw Error("useSettingsContext must be used within a SettingsProvider");return e}},9188:function(e,t,r){"use strict";r.d(t,{ApolloWrapper:function(){return g},q:function(){return m}});var a=r(57437),l=r(37736),n=r(33128),i=r(42090),s=r(23064),o=r(2265);let c=(0,o.createContext)();function d(){let e=new n.u({uri:"https://alpha.axra.app/v1/graphql",fetchOptions:{cache:"no-store"}}),t=(0,s.v)(async(e,t)=>{let{headers:r}=t;try{return{headers:{...r,"x-hasura-admin-secret":"alphapassword"}}}catch(e){return{headers:r}}});return new i.fe({cache:new i.h4,link:u.concat(t).concat(e)})}let u=(0,l.q)(e=>{let{graphQLErrors:t,networkError:r}=e;t&&(console.log("graphql",t),t.forEach(e=>{let{extensions:t}=e;("invalid-headers"===t.code||"invalid-jwt"===t.code)&&(localStorage.clear(),window.location.assign("".concat(window.location.origin,"/login")))})),r&&(console.log("[Network error]: ".concat(r)),alert("network connection problem"))}),m=()=>(0,o.useContext)(c);function g(e){let{children:t}=e,[r,l]=(0,o.useState)(null),[n,s]=(0,o.useState)(!1);return(0,a.jsx)(i.e$,{makeClient:d,children:(0,a.jsx)(c.Provider,{value:{globalMsg:r,setGlobalMsg:l,loading:n,setLoading:s},children:t})})}},47380:function(e,t,r){"use strict";var a=r(57437);r(2265);var l=r(3550),n=r(9188);t.Z=()=>{let{globalMsg:e,setGlobalMsg:t}=(0,n.q)();return(0,a.jsx)("div",{children:(0,a.jsx)(l.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>t(null),message:e})})}},14996:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});let a={defaultLocale:"en",locales:["en","fr","ar"],langDirection:{en:"ltr",fr:"ltr",ar:"rtl"}}},60625:function(e,t){"use strict";t.Z=[{name:"primary-1",light:"#A379FF",main:"#8C57FF",dark:"#7E4EE6"},{name:"primary-2",light:"#4EB0B1",main:"#0D9394",dark:"#096B6C"},{name:"primary-3",light:"#F0718D",main:"#EB3D63",dark:"#AC2D48"},{name:"primary-4",light:"#FFC25A",main:"#FFAB1D",dark:"#BA7D15"},{name:"primary-5",light:"#5CAFF1",main:"#2092EC",dark:"#176BAC"}]},36887:function(e,t){"use strict";t.Z={templateName:"ALPHA",homePageUrl:"/user/list",settingsCookieName:"Alpha",mode:"system",skin:"default",semiDark:!1,layout:"vertical",layoutPadding:24,compactContentWidth:1440,navbar:{type:"fixed",contentWidth:"compact",floating:!1,detached:!0,blur:!0},contentWidth:"compact",footer:{type:"static",contentWidth:"compact",detached:!0},disableRipple:!1,toastPosition:"top-right"}},63920:function(e,t,r){"use strict";r.d(t,{U:function(){return i}});var a=r(14996);let l=(e,t)=>e.startsWith(t)?e:"".concat(t).concat(e),n=e=>a.a.locales.every(t=>!(e.startsWith("/".concat(t,"/"))||e==="/".concat(t))),i=(e,t)=>{if(!e||!t)throw Error("URL or Language Code can't be empty");return n(e)?"/".concat(t).concat(l(e,"/")):e}},607:function(e,t,r){"use strict";r.d(t,{default:function(){return T}});var a=r(57437),l=r(44514),n=r(43808),i=r(33037),s=r(2265),o=r(76520),c=r(55205),d=r(83719),u=r(32804),m=r(56800),g=r.n(m),h=r(49758),x=e=>{let{count:t,title:r}=e;return(0,u.Z)(e=>e.breakpoints.down("md")),(0,u.Z)(e=>e.breakpoints.down("sm")),(0,a.jsx)(o.Z,{children:(0,a.jsxs)(c.Z,{className:"flex justify-between gap-1 ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-grow",children:[(0,a.jsx)(d.Z,{color:"text.primary",variant:"h3",children:t}),(0,a.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:(0,a.jsx)(d.Z,{variant:"h5",color:"".concat("Active"===r?"green":"Brand"===r?"yellow":"Category"===r?"orange":"red"),children:r})})]}),(0,a.jsx)(h.default,{skin:"light",variant:"rounded",size:42,children:(0,a.jsx)("i",{className:"".concat("Active"===r?"ri-check-double-fill":"Brand"===r?"ri-store-3-fill":"Category"===r?"ri-discount-percent-fill":"ri-close-circle-fill")})})]})})},p=r(87138),f=r(16463),j=r(20248),v=r(75519),y=r(14595),b=r(60335),Z=r(67838),C=r(48965),k=r(13541),w=r(54175),S=r(33514),N=r(28549),P=r(67351),_=r(11656),F=r(19004);let A={"In Stock":!0,"Out of Stock":!1};var D=e=>{let{setData:t,productData:r}=e,[o,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[g,h]=(0,s.useState)(""),{data:x}=(0,n.kJ)(l.xH);return(0,s.useEffect)(()=>{let e=null==r?void 0:r.filter(e=>(!o||e.product_category.title===o)&&(!u||e.stock===A[u])&&(""===g||e.disabled===("false"===g)));t(null!=e?e:[])},[o,u,g,r]),(0,a.jsx)(c.Z,{children:(0,a.jsx)(i.ZP,{container:!0,spacing:6,children:(0,a.jsx)(i.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsxs)(N.Z,{fullWidth:!0,children:[(0,a.jsx)(P.Z,{id:"category-select",children:"Category"}),(0,a.jsxs)(F.Z,{fullWidth:!0,id:"select-category",value:o,onChange:e=>d(e.target.value),label:"Category",labelId:"category-select",children:[(0,a.jsx)(_.Z,{value:"",children:"Select Category"}),x.product_categories.map(e=>(0,a.jsx)(_.Z,{value:e.title,children:e.title},e.id))]})]})})})})};r(81128);var I=r(63920),E=r(18156),W=r.n(E),O=r(23944),R=r(96303),B=r(1552),M=r(9188),z=r(47380),J=r(95412);let L=(e,t,r,a)=>{let l=(0,k.O4)(e.getValue(t),r);return a({itemRank:l}),l.passed},U=e=>{let{value:t,onChange:r,debounce:l=500,...n}=e,[i,o]=(0,s.useState)(t);return(0,s.useEffect)(()=>{o(t)},[t]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{r(i)},l);return()=>clearTimeout(e)},[i]),(0,a.jsx)(C.Z,{...n,value:i,onChange:e=>o(e.target.value),size:"small"})},q=(0,w.Cl)(),H=[{label:"Product Name",key:"title"},{label:"Product Brand",key:"title"},{label:"Product Category",key:"title"},{label:"Price",key:"price"},{label:"Serial Number",key:"serial_number"},{label:"Created At",key:"created_at"},{label:"Updated At",key:"updated_at"}];var V=()=>{let{setGlobalMsg:e}=(0,M.q)(),{data:t}=(0,n.kJ)(l.tT,{fetchPolicy:"network-only"}),[r]=(0,O.D)(B.u7),[i,c]=(0,s.useState)({}),[u,m]=(0,s.useState)(t.products),[h,x]=(0,s.useState)(u),[C,k]=(0,s.useState)(""),{lang:N}=(0,f.useParams)(),P=h.map(e=>({...e,title:e.brand.title,title:e.product_category.title,created_at:new Date(e.created_at).toLocaleString(),updated_at:new Date(e.updated_at).toLocaleString()})),_=(0,s.useMemo)(()=>[q.accessor("title",{header:"Product",cell:e=>{var t,r;let{row:l}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-4 ",children:[(0,a.jsx)("img",{src:null===(r=l.original)||void 0===r?void 0:null===(t=r.product_medias[0])||void 0===t?void 0:t.media_url,width:38,height:38,className:"rounded bg-actionHover"}),(0,a.jsxs)("div",{className:"flex flex-col w-60 text-wrap",children:[(0,a.jsx)(d.Z,{className:"font-medium",color:"text.primary",children:l.original.title}),(0,a.jsx)(d.Z,{variant:"body2",children:l.original.brand.title})]})]})}}),q.accessor("product_category.title",{header:"Category",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(R.Z,{src:t.original.product_category.image_url}),(0,a.jsx)(d.Z,{color:"text.primary",children:t.original.product_category.title})]})}}),q.accessor("serial_number",{header:"Serial No.",cell:e=>{let{row:t}=e;return(0,a.jsx)(d.Z,{children:t.original.serial_number?t.original.serial_number:"-"})}}),q.accessor("price",{header:"Price",cell:e=>{let{row:t}=e;return(0,a.jsx)(d.Z,{children:t.original.price.toLocaleString()})}}),q.accessor("created_at",{header:"Date",cell:e=>{let{row:t}=e;return(0,a.jsx)(d.Z,{children:t.original.created_at.substring(0,10)})}}),q.accessor("actions",{header:"Actions",cell:e=>{let{row:t}=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{size:"small",children:(0,a.jsx)(p.default,{href:(0,I.U)("/products/edit/".concat(t.original.id),N),className:"flex",children:(0,a.jsx)("i",{className:"ri-edit-box-line text-[22px] "})})}),(0,a.jsx)(b.Z,{children:(0,a.jsx)(p.default,{href:(0,I.U)("/products/details/".concat(t.original.id),N),className:"flex",children:(0,a.jsx)("i",{className:"ri-eye-line text-textSecondary"})})})]})},enableSorting:!1})],[u,h]),F=(0,S.b7)({data:h,columns:_,filterFns:{fuzzy:L},state:{rowSelection:i,globalFilter:C},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:L,onRowSelectionChange:c,getCoreRowModel:(0,w.sC)(),onGlobalFilterChange:k,getFilteredRowModel:(0,w.vL)(),getSortedRowModel:(0,w.tj)(),getPaginationRowModel:(0,w.G_)(),getFacetedRowModel:(0,w.o6)(),getFacetedUniqueValues:(0,w.JG)(),getFacetedMinMaxValues:(0,w.HO)()});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(j.Z,{title:"Filters",className:"pbe-4"}),(0,a.jsx)(D,{setData:x,productData:u}),(0,a.jsx)(y.Z,{}),(0,a.jsxs)("div",{className:"flex justify-between flex-col items-start sm:flex-row sm:items-center gap-y-4 p-5",children:[(0,a.jsx)(U,{value:null!=C?C:"",onChange:e=>k(String(e)),placeholder:"Search Product",className:"max-sm:is-full"}),(0,a.jsxs)("div",{className:"flex items-center max-sm:flex-col gap-4 max-sm:is-full is-auto",children:[(0,a.jsx)(v.Z,{color:"secondary",variant:"outlined",startIcon:(0,a.jsx)("i",{className:"ri-upload-2-line text-xl"}),className:"max-sm:is-full",children:(0,a.jsx)(J.CSVLink,{className:"exportBtn",data:P,headers:H,filename:"all-products-".concat(new Date().toISOString(),".csv"),children:"Export"})}),(0,a.jsx)(v.Z,{variant:"contained",component:p.default,href:(0,I.U)("/products/add",N),startIcon:(0,a.jsx)("i",{className:"ri-add-line"}),className:"max-sm:is-full is-auto",children:"Add Product"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:W().table,children:[(0,a.jsx)("thead",{children:F.getHeaderGroups().map(e=>(0,a.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,a.jsx)("th",{children:e.isPlaceholder?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:g()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,S.ie)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:(0,a.jsx)("i",{className:"ri-arrow-up-s-line text-xl"}),desc:(0,a.jsx)("i",{className:"ri-arrow-down-s-line text-xl"})})[e.column.getIsSorted()])&&void 0!==t?t:null]})})},e.id)})},e.id))}),0===F.getFilteredRowModel().rows.length?(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:F.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):(0,a.jsx)("tbody",{children:F.getRowModel().rows.slice(0,F.getState().pagination.pageSize).map(e=>(0,a.jsx)("tr",{className:g()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>(0,a.jsx)("td",{children:(0,S.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,a.jsx)(Z.Z,{rowsPerPageOptions:[10,25,50],component:"div",className:"border-bs",count:F.getFilteredRowModel().rows.length,rowsPerPage:F.getState().pagination.pageSize,page:F.getState().pagination.pageIndex,onPageChange:(e,t)=>{F.setPageIndex(t)},onRowsPerPageChange:e=>F.setPageSize(Number(e.target.value))})]}),(0,a.jsx)(z.Z,{})]})},T=()=>{let{data:e}=(0,n.kJ)(l.ld);return(0,a.jsxs)(i.ZP,{container:!0,spacing:6,children:[(0,a.jsx)(i.ZP,{item:!0,xs:12,md:3,sm:6,children:(0,a.jsx)(x,{count:e.activeProduct.aggregate.count,title:"Active"})}),(0,a.jsx)(i.ZP,{item:!0,xs:12,md:3,sm:6,children:(0,a.jsx)(x,{count:e.brandProduct.aggregate.count,title:"Brand"})}),(0,a.jsx)(i.ZP,{item:!0,xs:12,md:3,sm:6,children:(0,a.jsx)(x,{count:e.categoryProduct.aggregate.count,title:"Category"})}),(0,a.jsx)(i.ZP,{item:!0,xs:12,children:(0,a.jsx)(V,{})})]})}},18156:function(e){e.exports={table:"table_table__cB3AL",cellWithInput:"table_cellWithInput__N6u24"}}},function(e){e.O(0,[956,1441,9580,9855,8329,7660,7800,8965,6715,6805,8325,6101,7212,5313,8674,481,7172,4175,3550,779,7838,1046,4514,1552,2971,7023,1744],function(){return e(e.s=91448)}),_N_E=e.O()}]);