(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5974],{39865:function(e,t,r){Promise.resolve().then(r.bind(r,3427))},76778:function(e,t,r){"use strict";var i=r(99683),n=r(57221),l=r(31229),a=r(27494),s=r(80810),o=r(73815),c=r(96013),d=r(46355),u=r(9002),h=r(59533);let x=["className","raised"],f=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},u.y,t)},m=(0,o.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),p=l.forwardRef(function(e,t){let r=(0,c.i)({props:e,name:"MuiCard"}),{className:l,raised:s=!1}=r,o=(0,n.Z)(r,x),d=(0,i.Z)({},r,{raised:s}),u=f(d);return(0,h.jsx)(m,(0,i.Z)({className:(0,a.Z)(u.root,l),elevation:s?8:void 0,ref:t,ownerState:d},o))});t.Z=p},9002:function(e,t,r){"use strict";r.d(t,{y:function(){return l}});var i=r(31157),n=r(483);function l(e){return(0,n.ZP)("MuiCard",e)}let a=(0,i.Z)("MuiCard",["root"]);t.Z=a},17064:function(e,t,r){"use strict";r(31229);var i=r(89274),n=r(59533);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},14849:function(e,t,r){"use strict";r(31229);var i=r(89274),n=r(59533);t.Z=(0,i.Z)((0,n.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},3427:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var i=r(59533),n=r(91771),l=r(29900),a=r(84323),s=e=>{let{handleDiscardProduct:t,handleAddProduct:r}=e;return(0,i.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Z,{variant:"h4",className:"mbe-1",children:"Add a new product"}),(0,i.jsx)(a.Z,{children:"Orders placed across your store"})]}),(0,i.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[(0,i.jsx)(l.Z,{variant:"outlined",color:"secondary",onClick:t,children:"Discard"}),(0,i.jsx)(l.Z,{variant:"contained",onClick:r,children:"Publish Product"})]})]})},o=r(30054),c=r(91081),d=r(31229);r(18308),r(97392);var u=r(76778),h=r(11124),x=r(54323),f=r(61732),m=r(42821),p=e=>{let{price:t,setPrice:r,errors:n}=e;return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{title:"Pricing"}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(m.Z,{children:(0,i.jsx)(f.Z,{fullWidth:!0,type:"number",label:"Based Price",placeholder:"Enter Based Price",className:"mbe-5",value:t,onChange:e=>r(e.target.value),error:null!=n&&!!n.price,helperText:null==n?void 0:n.price})})})]})},v=r(83379),g=r(60753),j=r(6532),y=r(37911),Z=r(5176),b=r(40877),k=r(31029),P=r(64094),N=e=>{var t;let{brandId:r,setBrandId:n,catId:l,setCatId:a,errors:s}=e,{data:o}=(0,b.kJ)(k.BD),{data:c}=(0,b.kJ)(k.xH);return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{title:"Organize"}),(0,i.jsx)(x.Z,{children:(0,i.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[(0,i.jsxs)(v.Z,{fullWidth:!0,children:[(0,i.jsx)(g.Z,{children:"Select Product Brand"}),(0,i.jsx)(y.Z,{label:"Select Vendor",value:r||"",onChange:e=>n(e.target.value),error:null!=s&&!!s.brandId,helperText:null==s?void 0:s.brandId,children:null==o?void 0:null===(t=o.brands)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)(j.Z,{value:null==e?void 0:e.id,children:null==e?void 0:e.title},t))}),(0,i.jsx)(P.Z,{sx:{color:"red"},children:null==s?void 0:s.brandId})]}),(0,i.jsx)(Z.Z,{value:l,onChange:(e,t)=>{t?a(null==t?void 0:t.id):a(null)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:(null==c?void 0:c.product_categories)||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.title)||"",renderOption:(e,t,r)=>{let{selected:i}=r;return(0,d.createElement)("li",{...e,key:t.id},null==t?void 0:t.title)},renderInput:e=>(0,i.jsx)(f.Z,{...e,label:"Category",placeholder:"select category"})})]})})]})},w=r(45641),S=r(29349),A=r(76422),C=r(12895),_=r(66873),M=r(20397),z=r(61250),I=()=>{(0,z.useRouter)();let{setGlobalMsg:e,loading:t,setLoading:r}=(0,C.q)(),[l,a]=(0,d.useState)(),[u,h]=(0,d.useState)(),[x,f]=(0,d.useState)(),[m,v]=(0,d.useState)(),[g,j]=(0,d.useState)(),[y,Z]=(0,d.useState)(),[b,k]=(0,d.useState)(),[P,I]=(0,d.useState)(),[D,T]=(0,d.useState)([]),[O]=(0,w.D)(S.zN),[q]=(0,w.D)(S.Sf),E=async()=>{r(!0);let t={},i=!1;if(l||(t.title="Title field is required",i=!0),l||(t.title="Title field is required",i=!0),g||(t.price="Price field is required",i=!0),y||(t.sNo="Serial Number field is required",i=!0),b||(t.warrantyPeriod="Warranty Period field is required",i=!0),x||(t.brandId="Brand field is required",i=!0),m||(t.catId="Category field is required",i=!0),i){I({...t}),r(!1);return}try{let t=await Promise.all(D.map(async e=>{let t=await q({variables:{content_type:"image",folder:"products"}}),r=await (0,M.c)(e,t.data.getFileUploadUrl.fileUploadUrl,"image");return{media_type:"image",media_url:r}}));await O({variables:{title:l,description_html:u,brand_id:x,category_id:m,serial_number:y,warranty_period:b,price:Number(g),product_medias:{data:t}}}),r(!1),a(""),j(""),h(""),Z(""),f(""),v(""),e("➕ Add New Product")}catch(t){e("❌ Add Product Error"),console.log(t.response)}};return t?(0,i.jsx)(_.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(s,{handleDiscardProduct:()=>{a(""),h(""),j(""),Z(""),k(""),f(),T([])},handleAddProduct:E})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,i.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{setTitle:a,title:l,setSNo:Z,sNo:y,warrantyPeriod:b,setWarrantyPeriod:k,setDescription:h,description:u,errors:P})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(c.Z,{files:D,setFiles:T})})]})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(p,{price:g,setPrice:j,errors:P})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(N,{brandId:x,setBrandId:f,catId:m,setCatId:v,errors:P})})]})})]}),(0,i.jsx)(A.Z,{})]})}},91081:function(e,t,r){"use strict";var i=r(59533),n=r(31229),l=r(76778),a=r(11124),s=r(54323),o=r(29900),c=r(84448),d=r(71491),u=r(87616),h=r(84323),x=r(73815),f=r(62934);r(83762);var m=r(6083),p=r(70337);let v=(0,x.ZP)(p.Z)(e=>{let{theme:t}=e;return{"& .dropzone":{minHeight:"unset",padding:t.spacing(12),[t.breakpoints.down("sm")]:{paddingInline:t.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:t.typography.body1.fontWeight}}}});t.Z=e=>{let{files:t,setFiles:r}=e,[x,p]=(0,n.useState)([]),[g,j]=(0,n.useState)(!1),{getRootProps:y,getInputProps:Z}=(0,f.uI)({onDrop:e=>{let t=e.filter(e=>e.type.startsWith("image"));t.length!==e.length?j("Only image files are allowed."):j(""),r(t.map(e=>Object.assign(e)))}}),b=e=>e.type.startsWith("image")?(0,i.jsx)("img",{width:38,height:38,alt:e.name,src:URL.createObjectURL(e)}):(0,i.jsx)("i",{className:"ri-file-text-line"}),k=e=>{r([...t.filter(t=>t.name!==e.name)])},P=t.map(e=>(0,i.jsxs)(u.ZP,{className:"pis-4 plb-3",children:[(0,i.jsxs)("div",{className:"file-details",children:[(0,i.jsx)("div",{className:"file-preview",children:b(e)}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{className:"file-name font-medium",color:"text.primary",children:e.name}),(0,i.jsx)(h.Z,{className:"file-size",variant:"body2",children:Math.round(e.size/100)/10>1e3?"".concat((Math.round(e.size/100)/1e4).toFixed(1)," mb"):"".concat((Math.round(e.size/100)/10).toFixed(1)," kb")})]})]}),(0,i.jsx)(c.Z,{onClick:()=>k(e),children:(0,i.jsx)("i",{className:"ri-close-line text-xl"})})]},e.name));return(0,i.jsx)(v,{children:(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(a.Z,{title:"Product Image",sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)("div",{...y({className:"dropzone"}),children:[(0,i.jsx)("input",{...Z()}),(0,i.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[(0,i.jsx)(m.default,{variant:"rounded",skin:"light",color:"secondary",children:(0,i.jsx)("i",{className:"ri-upload-2-line"})}),(0,i.jsx)(h.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),(0,i.jsx)(h.Z,{color:"text.disabled",children:"or"}),(0,i.jsx)(o.Z,{variant:"outlined",size:"small",children:"Browse Image"})]})]}),g&&(0,i.jsx)(h.Z,{color:"error",variant:"body2",children:g}),t.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{children:P}),(0,i.jsx)("div",{className:"buttons",children:(0,i.jsx)(o.Z,{color:"error",variant:"outlined",onClick:()=>{r([])},children:"Remove All"})})]}):null]})]})})}},30054:function(e,t,r){"use strict";var i=r(59533),n=r(48111),l=r(91771),a=r(76778),s=r(11124),o=r(54323),c=r(61732),d=r(84323),u=r(72860),h=r.n(u),x=r(9772),f=r(67827),m=r(36706),p=r(40729),v=r(16798),g=r(18308);r(82156),r(31229);let j=e=>{let{editor:t}=e;return t?(0,i.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[(0,i.jsx)(g.Z,{...t.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().toggleBold().run(),children:(0,i.jsx)("i",{className:h()("ri-bold",{"text-textSecondary":!t.isActive("bold")})})}),(0,i.jsx)(g.Z,{...t.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().toggleUnderline().run(),children:(0,i.jsx)("i",{className:h()("ri-underline",{"text-textSecondary":!t.isActive("underline")})})}),(0,i.jsx)(g.Z,{...t.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().toggleItalic().run(),children:(0,i.jsx)("i",{className:h()("ri-italic",{"text-textSecondary":!t.isActive("italic")})})}),(0,i.jsx)(g.Z,{...t.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().toggleStrike().run(),children:(0,i.jsx)("i",{className:h()("ri-strikethrough",{"text-textSecondary":!t.isActive("strike")})})}),(0,i.jsx)(g.Z,{...t.isActive("bulletList")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().toggleBulletList().run(),children:(0,i.jsx)("i",{className:h()("ri-list-unordered",{"text-textSecondary":!t.isActive("bulletList")})})}),(0,i.jsx)(g.Z,{...t.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().setTextAlign("left").run(),children:(0,i.jsx)("i",{className:h()("ri-align-left",{"text-textSecondary":!t.isActive({textAlign:"left"})})})}),(0,i.jsx)(g.Z,{...t.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().setTextAlign("center").run(),children:(0,i.jsx)("i",{className:h()("ri-align-center",{"text-textSecondary":!t.isActive({textAlign:"center"})})})}),(0,i.jsx)(g.Z,{...t.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().setTextAlign("right").run(),children:(0,i.jsx)("i",{className:h()("ri-align-right",{"text-textSecondary":!t.isActive({textAlign:"right"})})})}),(0,i.jsx)(g.Z,{...t.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>t.chain().focus().setTextAlign("justify").run(),children:(0,i.jsx)("i",{className:h()("ri-align-justify",{"text-textSecondary":!t.isActive({textAlign:"justify"})})})})]}):null};t.Z=e=>{let{setTitle:t,title:r,setSNo:u,sNo:h,setDescription:g,description:y,errors:Z,productData:b,warrantyPeriod:k,setWarrantyPeriod:P}=e,N=(0,x.jE)({extensions:[f.V,p.V.configure({placeholder:"Write something here..."}),v.P.configure({types:["heading","paragraph"]}),m.v],content:y,onUpdate:e=>{let{editor:t}=e;g(t.getHTML())}});return(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(s.Z,{title:"Product Information"}),(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(l.ZP,{container:!0,spacing:5,className:"mbe-5",children:[(0,i.jsx)(l.ZP,{item:!0,xs:12,children:(0,i.jsx)(c.Z,{fullWidth:!0,label:"Product Name",placeholder:"Enter Product Name",value:r,onChange:e=>t(e.target.value),error:null!=Z&&!!Z.title,helperText:null==Z?void 0:Z.title})}),(0,i.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(c.Z,{fullWidth:!0,label:"Warranty Period",placeholder:"Enter Warranty Period",value:k,onChange:e=>P(e.target.value),error:null!=Z&&!!Z.warrantyPeriod,helperText:null==Z?void 0:Z.warrantyPeriod})}),(0,i.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(c.Z,{fullWidth:!0,label:"Serial Number",placeholder:"0123-4567",value:h,onChange:e=>u(e.target.value),error:null!=Z&&!!Z.sNo,helperText:null==Z?void 0:Z.sNo})})]}),(0,i.jsx)(d.Z,{className:"mbe-1",children:"Description"}),(0,i.jsx)(a.Z,{className:"p-0 border shadow-none",children:(0,i.jsxs)(o.Z,{className:"p-0",children:[(0,i.jsx)(j,{editor:N}),(0,i.jsx)(n.Z,{className:"mli-5"}),(0,i.jsx)(x.kg,{editor:N,className:"bs-[135px] overflow-y-auto flex "})]})})]})]})}},40877:function(e,t,r){"use strict";r.d(t,{kJ:function(){return j}});var i=r(75852),n=r(87078),l=r.t(n,2),a=r(61866),s=r(52720),o=r(41311),c=r(30364),d=r(51501),u=r(28533),h=Symbol.for("apollo.hook.wrappers"),x=r(88971),f=l.use||function(e){var t=(0,x.Bd)(e);switch(t.status){case"pending":throw t;case"rejected":throw t.reason;case"fulfilled":return t.value}},m=r(17839),p=r(22213),v=r(77207),g=Symbol.for("apollo.skipToken");function j(e,t){var r,i,n,l;return void 0===t&&(t=Object.create(null)),(r=y,(l=(n=(i=(0,d.x)("object"==typeof t?t.client:void 0).queryManager)&&i[h])&&n.useSuspenseQuery)?l(r):r)(e,t)}function y(e,t){var r,l,o,c,h,x,j,y=(0,d.x)(t.client),b=(0,p.Y)(y),k=(h=(r={client:y,query:e,options:t}).client,x=r.query,j=r.options,l=function(){if(j===g)return{query:x,fetchPolicy:"standby"};var e,t,r,n,l,s=j.fetchPolicy||(null===(l=h.defaultOptions.watchQuery)||void 0===l?void 0:l.fetchPolicy)||"cache-first",o=(0,i.pi)((0,i.pi)({},j),{fetchPolicy:s,query:x,notifyOnNetworkStatusChange:!1,nextFetchPolicy:void 0});return!1!==globalThis.__DEV__&&(t=o.query,r=o.fetchPolicy,n=o.returnPartialData,(0,u.Vp)(t,u.n_.Query),void 0===(e=r)&&(e="cache-first"),(0,a.kG)(["cache-first","network-only","no-cache","cache-and-network"].includes(e),58,e),"no-cache"===r&&n&&!1!==globalThis.__DEV__&&a.kG.warn(59)),j.skip&&(o.fetchPolicy="standby"),o},o=[h,j,x],(c=n.useRef()).current&&(0,m.D)(c.current.deps,o)||(c.current={value:l(),deps:o}),c.current.value),P=k.fetchPolicy,N=k.variables,w=t.queryKey,S=(0,i.ev)([e,(0,v.B)(N)],[].concat(void 0===w?[]:w),!0),A=b.getQueryRef(S,function(){return y.watchQuery(k)}),C=n.useState([A.key,A.promise]),_=C[0],M=C[1];_[0]!==A.key&&(_[0]=A.key,_[1]=A.promise);var z=_[1];A.didChangeOptions(k)&&(_[1]=z=A.applyOptions(k)),n.useEffect(function(){var e=A.retain(),t=A.listen(function(e){M([A.key,e])});return function(){t(),e()}},[A]);var I=n.useMemo(function(){var e=Z(A.result);return{loading:!1,data:A.result.data,networkStatus:e?s.Ie.error:s.Ie.ready,error:e}},[A.result]),D="standby"===P?I:f(z),T=n.useCallback(function(e){var t=A.fetchMore(e);return M([A.key,A.promise]),t},[A]),O=n.useCallback(function(e){var t=A.refetch(e);return M([A.key,A.promise]),t},[A]),q=A.observable.subscribeToMore;return n.useMemo(function(){return{client:y,data:D.data,error:Z(D),networkStatus:D.networkStatus,fetchMore:T,refetch:O,subscribeToMore:q}},[y,T,O,D,q])}function Z(e){return(0,c.O)(e.errors)?new o.cA({graphQLErrors:e.errors}):e.error}},28533:function(e,t,r){"use strict";r.d(t,{Vp:function(){return h},n_:function(){return n}});var i,n,l,a=r(61866),s=r(24506),o=r(68979),c=r(85033);function d(e){var t;switch(e){case n.Query:t="Query";break;case n.Mutation:t="Mutation";break;case n.Subscription:t="Subscription"}return t}function u(e){l||(l=new s.s(o.Q.parser||1e3));var t,r,i=l.get(e);if(i)return i;(0,a.kG)(!!e&&!!e.kind,62,e);for(var c=[],d=[],u=[],h=[],x=0,f=e.definitions;x<f.length;x++){var m=f[x];if("FragmentDefinition"===m.kind){c.push(m);continue}if("OperationDefinition"===m.kind)switch(m.operation){case"query":d.push(m);break;case"mutation":u.push(m);break;case"subscription":h.push(m)}}(0,a.kG)(!c.length||d.length||u.length||h.length,63),(0,a.kG)(d.length+u.length+h.length<=1,64,e,d.length,h.length,u.length),r=d.length?n.Query:n.Mutation,d.length||u.length||(r=n.Subscription);var p=d.length?d:u.length?u:h;(0,a.kG)(1===p.length,65,e,p.length);var v=p[0];t=v.variableDefinitions||[];var g={name:v.name&&"Name"===v.name.kind?v.name.value:"data",type:r,variables:t};return l.set(e,g),g}function h(e,t){var r=u(e),i=d(t),n=d(r.type);(0,a.kG)(r.type===t,66,i,i,n)}(i=n||(n={}))[i.Query=0]="Query",i[i.Mutation=1]="Mutation",i[i.Subscription=2]="Subscription",u.resetCache=function(){l=void 0},!1!==globalThis.__DEV__&&(0,c.zP)("parser",function(){return l?l.size:0})}},function(e){e.O(0,[5392,709,6777,7382,9423,6086,5278,6353,1378,8190,5266,1802,1732,6479,9276,9124,1166,1771,3302,3347,1711,6772,1467,2392,8942,7155,5176,7264,8503,911,4170,6842,1744],function(){return e(e.s=39865)}),_N_E=e.O()}]);