(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5974],{39865:function(e,r,t){Promise.resolve().then(t.bind(t,3427))},76778:function(e,r,t){"use strict";var i=t(99683),n=t(57221),l=t(31229),a=t(27494),s=t(80810),c=t(73815),o=t(96013),d=t(46355),u=t(9002),h=t(59533);let x=["className","raised"],m=e=>{let{classes:r}=e;return(0,s.Z)({root:["root"]},u.y,r)},f=(0,c.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})(()=>({overflow:"hidden"})),p=l.forwardRef(function(e,r){let t=(0,o.i)({props:e,name:"MuiCard"}),{className:l,raised:s=!1}=t,c=(0,n.Z)(t,x),d=(0,i.Z)({},t,{raised:s}),u=m(d);return(0,h.jsx)(f,(0,i.Z)({className:(0,a.Z)(u.root,l),elevation:s?8:void 0,ref:r,ownerState:d},c))});r.Z=p},9002:function(e,r,t){"use strict";t.d(r,{y:function(){return l}});var i=t(31157),n=t(483);function l(e){return(0,n.ZP)("MuiCard",e)}let a=(0,i.Z)("MuiCard",["root"]);r.Z=a},17064:function(e,r,t){"use strict";t(31229);var i=t(89274),n=t(59533);r.Z=(0,i.Z)((0,n.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},14849:function(e,r,t){"use strict";t(31229);var i=t(89274),n=t(59533);r.Z=(0,i.Z)((0,n.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},3427:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return z}});var i=t(59533),n=t(91771),l=t(29900),a=t(84323),s=e=>{let{handleDiscardProduct:r,handleAddProduct:t}=e;return(0,i.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Z,{variant:"h4",className:"mbe-1",children:"Add a new product"}),(0,i.jsx)(a.Z,{children:"Orders placed across your store"})]}),(0,i.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[(0,i.jsx)(l.Z,{variant:"outlined",color:"secondary",onClick:r,children:"Discard"}),(0,i.jsx)(l.Z,{variant:"contained",onClick:t,children:"Publish Product"})]})]})},c=t(30054),o=t(91081),d=t(31229);t(18308),t(97392);var u=t(76778),h=t(11124),x=t(54323),m=t(61732),f=t(42821),p=e=>{let{price:r,setPrice:t,errors:n,dealerPrice:l,setDealerPrice:a,consumerPrice:s,setConsumerPrice:c}=e;return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{title:"Pricing"}),(0,i.jsx)(x.Z,{children:(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(m.Z,{fullWidth:!0,type:"number",label:"Based Price",placeholder:"Enter Based Price",className:"mbe-5",value:r,onChange:e=>t(e.target.value),error:null!=n&&!!n.price,helperText:null==n?void 0:n.price}),(0,i.jsx)(m.Z,{fullWidth:!0,type:"number",label:"Dealer Price",placeholder:"Enter Dealer Price",className:"mbe-5",value:r,onChange:e=>a(e.target.value),error:null!=n&&!!n.dealerPrice,helperText:null==n?void 0:n.dealerPrice}),(0,i.jsx)(m.Z,{fullWidth:!0,type:"number",label:"Consumer Price",placeholder:"Enter Consumer Price",className:"mbe-5",value:s,onChange:e=>c(e.target.value),error:null!=n&&!!n.consumerPrice,helperText:null==n?void 0:n.consumerPrice})]})})]})},v=t(83379),g=t(60753),j=t(6532),y=t(37911),b=t(5176),Z=t(40877),P=t(31029),k=t(64094),N=e=>{var r;let{brandId:t,setBrandId:n,catId:l,setCatId:a,errors:s}=e,{data:c}=(0,Z.kJ)(P.BD),{data:o}=(0,Z.kJ)(P.xH);return(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{title:"Organize"}),(0,i.jsx)(x.Z,{children:(0,i.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[(0,i.jsxs)(v.Z,{fullWidth:!0,children:[(0,i.jsx)(g.Z,{children:"Select Product Brand"}),(0,i.jsx)(y.Z,{label:"Select Vendor",value:t||"",onChange:e=>n(e.target.value),error:null!=s&&!!s.brandId,helperText:null==s?void 0:s.brandId,children:null==c?void 0:null===(r=c.brands)||void 0===r?void 0:r.map((e,r)=>(0,i.jsx)(j.Z,{value:null==e?void 0:e.id,children:null==e?void 0:e.title},r))}),(0,i.jsx)(k.Z,{sx:{color:"red"},children:null==s?void 0:s.brandId})]}),(0,i.jsx)(b.Z,{value:l,onChange:(e,r)=>{r?a(null==r?void 0:r.id):a(null)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:(null==o?void 0:o.product_categories)||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.title)||"",renderOption:(e,r,t)=>{let{selected:i}=t;return(0,d.createElement)("li",{...e,key:r.id},null==r?void 0:r.title)},renderInput:e=>(0,i.jsx)(m.Z,{...e,label:"Category",placeholder:"select category"})})]})})]})},w=t(45641),S=t(29349),C=t(76422),A=t(12895),_=t(66873),M=t(20397),D=t(61250),z=()=>{(0,D.useRouter)();let{setGlobalMsg:e,loading:r,setLoading:t}=(0,A.q)(),[l,a]=(0,d.useState)(),[u,h]=(0,d.useState)(),[x,m]=(0,d.useState)(),[f,v]=(0,d.useState)(),[g,j]=(0,d.useState)(),[y,b]=(0,d.useState)(),[Z,P]=(0,d.useState)(),[k,z]=(0,d.useState)(),[T,I]=(0,d.useState)(),[q,O]=(0,d.useState)(),[E,W]=(0,d.useState)([]),[L]=(0,w.D)(S.zN),[Q]=(0,w.D)(S.Sf),B=async()=>{t(!0);let r={},i=!1;if(l||(r.title="Title field is required",i=!0),l||(r.title="Title field is required",i=!0),g||(r.price="Price field is required",i=!0),y||(r.dealerPrice="Dealer Price field is required",i=!0),Z||(r.consumerPrice="Consumer Price field is required",i=!0),k||(r.sNo="Serial Number field is required",i=!0),T||(r.warrantyPeriod="Warranty Period field is required",i=!0),x||(r.brandId="Brand field is required",i=!0),f||(r.catId="Category field is required",i=!0),i){O({...r}),t(!1);return}try{let r=await Promise.all(E.map(async e=>{let r=await Q({variables:{content_type:"image",folder:"products"}}),t=await (0,M.c)(e,r.data.getFileUploadUrl.fileUploadUrl,"image");return{media_type:"image",media_url:t}}));await L({variables:{title:l,description_html:u,brand_id:x,category_id:f,serial_number:k,warranty_period:T,price:Number(g),dealer_price:Number(y),consumer_price:Number(Z),product_medias:{data:r}}}),t(!1),a(""),j(""),h(""),z(""),b(""),P(""),m(""),v(""),e("➕ Add New Product")}catch(r){e("❌ Add Product Error"),console.log(r.response)}};return r?(0,i.jsx)(_.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(s,{handleDiscardProduct:()=>{a(""),h(""),j(""),z(""),b(""),P(""),I(""),m(),W([])},handleAddProduct:B})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,i.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(c.Z,{setTitle:a,title:l,setSNo:z,sNo:k,warrantyPeriod:T,setWarrantyPeriod:I,setDescription:h,description:u,errors:q})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{files:E,setFiles:W})})]})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(n.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(p,{price:g,setPrice:j,errors:q,dealerPrice:y,setDealerPrice:b,consumerPrice:Z,setConsumerPrice:P})}),(0,i.jsx)(n.ZP,{item:!0,xs:12,children:(0,i.jsx)(N,{brandId:x,setBrandId:m,catId:f,setCatId:v,errors:q})})]})})]}),(0,i.jsx)(C.Z,{})]})}},91081:function(e,r,t){"use strict";var i=t(59533),n=t(31229),l=t(76778),a=t(11124),s=t(54323),c=t(29900),o=t(84448),d=t(71491),u=t(87616),h=t(84323),x=t(73815),m=t(62934);t(83762);var f=t(6083),p=t(70337);let v=(0,x.ZP)(p.Z)(e=>{let{theme:r}=e;return{"& .dropzone":{minHeight:"unset",padding:r.spacing(12),[r.breakpoints.down("sm")]:{paddingInline:r.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:r.typography.body1.fontWeight}}}});r.Z=e=>{let{files:r,setFiles:t}=e,[x,p]=(0,n.useState)([]),[g,j]=(0,n.useState)(!1),{getRootProps:y,getInputProps:b}=(0,m.uI)({onDrop:e=>{let r=e.filter(e=>e.type.startsWith("image"));r.length!==e.length?j("Only image files are allowed."):j(""),t(r.map(e=>Object.assign(e)))}}),Z=e=>e.type.startsWith("image")?(0,i.jsx)("img",{width:38,height:38,alt:e.name,src:URL.createObjectURL(e)}):(0,i.jsx)("i",{className:"ri-file-text-line"}),P=e=>{t([...r.filter(r=>r.name!==e.name)])},k=r.map(e=>(0,i.jsxs)(u.ZP,{className:"pis-4 plb-3",children:[(0,i.jsxs)("div",{className:"file-details",children:[(0,i.jsx)("div",{className:"file-preview",children:Z(e)}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{className:"file-name font-medium",color:"text.primary",children:e.name}),(0,i.jsx)(h.Z,{className:"file-size",variant:"body2",children:Math.round(e.size/100)/10>1e3?"".concat((Math.round(e.size/100)/1e4).toFixed(1)," mb"):"".concat((Math.round(e.size/100)/10).toFixed(1)," kb")})]})]}),(0,i.jsx)(o.Z,{onClick:()=>P(e),children:(0,i.jsx)("i",{className:"ri-close-line text-xl"})})]},e.name));return(0,i.jsx)(v,{children:(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(a.Z,{title:"Product Image",sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)("div",{...y({className:"dropzone"}),children:[(0,i.jsx)("input",{...b()}),(0,i.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[(0,i.jsx)(f.default,{variant:"rounded",skin:"light",color:"secondary",children:(0,i.jsx)("i",{className:"ri-upload-2-line"})}),(0,i.jsx)(h.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),(0,i.jsx)(h.Z,{color:"text.disabled",children:"or"}),(0,i.jsx)(c.Z,{variant:"outlined",size:"small",children:"Browse Image"})]})]}),g&&(0,i.jsx)(h.Z,{color:"error",variant:"body2",children:g}),r.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{children:k}),(0,i.jsx)("div",{className:"buttons",children:(0,i.jsx)(c.Z,{color:"error",variant:"outlined",onClick:()=>{t([])},children:"Remove All"})})]}):null]})]})})}},30054:function(e,r,t){"use strict";var i=t(59533),n=t(48111),l=t(91771),a=t(76778),s=t(11124),c=t(54323),o=t(61732),d=t(84323),u=t(72860),h=t.n(u),x=t(9772),m=t(41238),f=t(36706),p=t(40729),v=t(16798),g=t(18308);t(82156),t(31229);let j=e=>{let{editor:r}=e;return r?(0,i.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[(0,i.jsx)(g.Z,{...r.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().toggleBold().run(),children:(0,i.jsx)("i",{className:h()("ri-bold",{"text-textSecondary":!r.isActive("bold")})})}),(0,i.jsx)(g.Z,{...r.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().toggleUnderline().run(),children:(0,i.jsx)("i",{className:h()("ri-underline",{"text-textSecondary":!r.isActive("underline")})})}),(0,i.jsx)(g.Z,{...r.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().toggleItalic().run(),children:(0,i.jsx)("i",{className:h()("ri-italic",{"text-textSecondary":!r.isActive("italic")})})}),(0,i.jsx)(g.Z,{...r.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().toggleStrike().run(),children:(0,i.jsx)("i",{className:h()("ri-strikethrough",{"text-textSecondary":!r.isActive("strike")})})}),(0,i.jsx)(g.Z,{...r.isActive("bulletList")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().toggleBulletList().run(),children:(0,i.jsx)("i",{className:h()("ri-list-unordered",{"text-textSecondary":!r.isActive("bulletList")})})}),(0,i.jsx)(g.Z,{...r.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().setTextAlign("left").run(),children:(0,i.jsx)("i",{className:h()("ri-align-left",{"text-textSecondary":!r.isActive({textAlign:"left"})})})}),(0,i.jsx)(g.Z,{...r.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().setTextAlign("center").run(),children:(0,i.jsx)("i",{className:h()("ri-align-center",{"text-textSecondary":!r.isActive({textAlign:"center"})})})}),(0,i.jsx)(g.Z,{...r.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().setTextAlign("right").run(),children:(0,i.jsx)("i",{className:h()("ri-align-right",{"text-textSecondary":!r.isActive({textAlign:"right"})})})}),(0,i.jsx)(g.Z,{...r.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>r.chain().focus().setTextAlign("justify").run(),children:(0,i.jsx)("i",{className:h()("ri-align-justify",{"text-textSecondary":!r.isActive({textAlign:"justify"})})})})]}):null};r.Z=e=>{let{setTitle:r,title:t,setSNo:u,sNo:h,setDescription:g,description:y,errors:b,productData:Z,warrantyPeriod:P,setWarrantyPeriod:k}=e,N=(0,x.jE)({extensions:[m.V,p.V.configure({placeholder:"Write something here..."}),v.P.configure({types:["heading","paragraph"]}),f.v],content:y,onUpdate:e=>{let{editor:r}=e;g(r.getHTML())}});return(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(s.Z,{title:"Product Information"}),(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)(l.ZP,{container:!0,spacing:5,className:"mbe-5",children:[(0,i.jsx)(l.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{fullWidth:!0,label:"Product Name",placeholder:"Enter Product Name",value:t,onChange:e=>r(e.target.value),error:null!=b&&!!b.title,helperText:null==b?void 0:b.title})}),(0,i.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(o.Z,{fullWidth:!0,label:"Warranty Period",placeholder:"Enter Warranty Period",value:P,onChange:e=>k(e.target.value),error:null!=b&&!!b.warrantyPeriod,helperText:null==b?void 0:b.warrantyPeriod})}),(0,i.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,i.jsx)(o.Z,{fullWidth:!0,label:"Serial Number",placeholder:"0123-4567",value:h,onChange:e=>u(e.target.value),error:null!=b&&!!b.sNo,helperText:null==b?void 0:b.sNo})})]}),(0,i.jsx)(d.Z,{className:"mbe-1",children:"Description"}),(0,i.jsx)(a.Z,{className:"p-0 border shadow-none",children:(0,i.jsxs)(c.Z,{className:"p-0",children:[(0,i.jsx)(j,{editor:N}),(0,i.jsx)(n.Z,{className:"mli-5"}),(0,i.jsx)(x.kg,{editor:N,className:"bs-[135px] overflow-y-auto flex "})]})})]})]})}},40877:function(e,r,t){"use strict";t.d(r,{kJ:function(){return j}});var i=t(75852),n=t(87078),l=t.t(n,2),a=t(61866),s=t(52720),c=t(41311),o=t(30364),d=t(51501),u=t(28533),h=Symbol.for("apollo.hook.wrappers"),x=t(88971),m=l.use||function(e){var r=(0,x.Bd)(e);switch(r.status){case"pending":throw r;case"rejected":throw r.reason;case"fulfilled":return r.value}},f=t(17839),p=t(22213),v=t(77207),g=Symbol.for("apollo.skipToken");function j(e,r){var t,i,n,l;return void 0===r&&(r=Object.create(null)),(t=y,(l=(n=(i=(0,d.x)("object"==typeof r?r.client:void 0).queryManager)&&i[h])&&n.useSuspenseQuery)?l(t):t)(e,r)}function y(e,r){var t,l,c,o,h,x,j,y=(0,d.x)(r.client),Z=(0,p.Y)(y),P=(h=(t={client:y,query:e,options:r}).client,x=t.query,j=t.options,l=function(){if(j===g)return{query:x,fetchPolicy:"standby"};var e,r,t,n,l,s=j.fetchPolicy||(null===(l=h.defaultOptions.watchQuery)||void 0===l?void 0:l.fetchPolicy)||"cache-first",c=(0,i.pi)((0,i.pi)({},j),{fetchPolicy:s,query:x,notifyOnNetworkStatusChange:!1,nextFetchPolicy:void 0});return!1!==globalThis.__DEV__&&(r=c.query,t=c.fetchPolicy,n=c.returnPartialData,(0,u.Vp)(r,u.n_.Query),void 0===(e=t)&&(e="cache-first"),(0,a.kG)(["cache-first","network-only","no-cache","cache-and-network"].includes(e),58,e),"no-cache"===t&&n&&!1!==globalThis.__DEV__&&a.kG.warn(59)),j.skip&&(c.fetchPolicy="standby"),c},c=[h,j,x],(o=n.useRef()).current&&(0,f.D)(o.current.deps,c)||(o.current={value:l(),deps:c}),o.current.value),k=P.fetchPolicy,N=P.variables,w=r.queryKey,S=(0,i.ev)([e,(0,v.B)(N)],[].concat(void 0===w?[]:w),!0),C=Z.getQueryRef(S,function(){return y.watchQuery(P)}),A=n.useState([C.key,C.promise]),_=A[0],M=A[1];_[0]!==C.key&&(_[0]=C.key,_[1]=C.promise);var D=_[1];C.didChangeOptions(P)&&(_[1]=D=C.applyOptions(P)),n.useEffect(function(){var e=C.retain(),r=C.listen(function(e){M([C.key,e])});return function(){r(),e()}},[C]);var z=n.useMemo(function(){var e=b(C.result);return{loading:!1,data:C.result.data,networkStatus:e?s.Ie.error:s.Ie.ready,error:e}},[C.result]),T="standby"===k?z:m(D),I=n.useCallback(function(e){var r=C.fetchMore(e);return M([C.key,C.promise]),r},[C]),q=n.useCallback(function(e){var r=C.refetch(e);return M([C.key,C.promise]),r},[C]),O=C.observable.subscribeToMore;return n.useMemo(function(){return{client:y,data:T.data,error:b(T),networkStatus:T.networkStatus,fetchMore:I,refetch:q,subscribeToMore:O}},[y,I,q,T,O])}function b(e){return(0,o.O)(e.errors)?new c.cA({graphQLErrors:e.errors}):e.error}},28533:function(e,r,t){"use strict";t.d(r,{Vp:function(){return h},n_:function(){return n}});var i,n,l,a=t(61866),s=t(24506),c=t(68979),o=t(85033);function d(e){var r;switch(e){case n.Query:r="Query";break;case n.Mutation:r="Mutation";break;case n.Subscription:r="Subscription"}return r}function u(e){l||(l=new s.s(c.Q.parser||1e3));var r,t,i=l.get(e);if(i)return i;(0,a.kG)(!!e&&!!e.kind,62,e);for(var o=[],d=[],u=[],h=[],x=0,m=e.definitions;x<m.length;x++){var f=m[x];if("FragmentDefinition"===f.kind){o.push(f);continue}if("OperationDefinition"===f.kind)switch(f.operation){case"query":d.push(f);break;case"mutation":u.push(f);break;case"subscription":h.push(f)}}(0,a.kG)(!o.length||d.length||u.length||h.length,63),(0,a.kG)(d.length+u.length+h.length<=1,64,e,d.length,h.length,u.length),t=d.length?n.Query:n.Mutation,d.length||u.length||(t=n.Subscription);var p=d.length?d:u.length?u:h;(0,a.kG)(1===p.length,65,e,p.length);var v=p[0];r=v.variableDefinitions||[];var g={name:v.name&&"Name"===v.name.kind?v.name.value:"data",type:t,variables:r};return l.set(e,g),g}function h(e,r){var t=u(e),i=d(r),n=d(t.type);(0,a.kG)(t.type===r,66,i,i,n)}(i=n||(n={}))[i.Query=0]="Query",i[i.Mutation=1]="Mutation",i[i.Subscription=2]="Subscription",u.resetCache=function(){l=void 0},!1!==globalThis.__DEV__&&(0,o.zP)("parser",function(){return l?l.size:0})}},function(e){e.O(0,[5392,709,6777,7382,9423,6086,5278,6353,1378,8190,5266,1802,1732,6479,9276,9124,1166,1771,3302,3347,1711,6772,1467,2392,8942,1668,5176,7264,8503,911,4170,6842,1744],function(){return e(e.s=39865)}),_N_E=e.O()}]);