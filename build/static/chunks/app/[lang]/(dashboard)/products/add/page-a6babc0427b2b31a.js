(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5974],{61303:function(e,i,t){Promise.resolve().then(t.bind(t,86387))},86387:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return R}});var r=t(57437),l=t(33037),n=t(15667),s=t(83719),a=e=>{let{handleDiscardProduct:i,handleAddProduct:t}=e;return(0,r.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{variant:"h4",className:"mbe-1",children:"Add a new product"}),(0,r.jsx)(s.Z,{children:"Orders placed across your store"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[(0,r.jsx)(n.Z,{variant:"outlined",color:"secondary",onClick:i,children:"Discard"}),(0,r.jsx)(n.Z,{variant:"contained",onClick:t,children:"Publish Product"})]})]})},c=t(14595),o=t(76520),d=t(20248),u=t(55205),x=t(48965),h=t(56800),m=t.n(h),p=t(23705),g=t(42214),j=t(2375),f=t(98041),v=t(38133),Z=t(40804);t(29641);var b=t(2265);let y=e=>{let{editor:i}=e;return i?(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[(0,r.jsx)(Z.Z,{...i.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().toggleBold().run(),children:(0,r.jsx)("i",{className:m()("ri-bold",{"text-textSecondary":!i.isActive("bold")})})}),(0,r.jsx)(Z.Z,{...i.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().toggleUnderline().run(),children:(0,r.jsx)("i",{className:m()("ri-underline",{"text-textSecondary":!i.isActive("underline")})})}),(0,r.jsx)(Z.Z,{...i.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().toggleItalic().run(),children:(0,r.jsx)("i",{className:m()("ri-italic",{"text-textSecondary":!i.isActive("italic")})})}),(0,r.jsx)(Z.Z,{...i.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().toggleStrike().run(),children:(0,r.jsx)("i",{className:m()("ri-strikethrough",{"text-textSecondary":!i.isActive("strike")})})}),(0,r.jsx)(Z.Z,{...i.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().setTextAlign("left").run(),children:(0,r.jsx)("i",{className:m()("ri-align-left",{"text-textSecondary":!i.isActive({textAlign:"left"})})})}),(0,r.jsx)(Z.Z,{...i.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().setTextAlign("center").run(),children:(0,r.jsx)("i",{className:m()("ri-align-center",{"text-textSecondary":!i.isActive({textAlign:"center"})})})}),(0,r.jsx)(Z.Z,{...i.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().setTextAlign("right").run(),children:(0,r.jsx)("i",{className:m()("ri-align-right",{"text-textSecondary":!i.isActive({textAlign:"right"})})})}),(0,r.jsx)(Z.Z,{...i.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>i.chain().focus().setTextAlign("justify").run(),children:(0,r.jsx)("i",{className:m()("ri-align-justify",{"text-textSecondary":!i.isActive({textAlign:"justify"})})})})]}):null};var N=e=>{let{setTitle:i,title:t,setSNo:n,sNo:a,setDescription:h,description:m,errors:Z,productData:N}=e,A=(0,p.jE)({extensions:[g.V,f.V.configure({placeholder:"Write something here..."}),v.P.configure({types:["heading","paragraph"]}),j.v],content:m,onUpdate:e=>{let{editor:i}=e;h(i.getHTML())}});return(0,b.useEffect)(()=>{N&&(i(N.title),n(N.serial_number))}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(d.Z,{title:"Product Information"}),(0,r.jsxs)(u.Z,{children:[(0,r.jsxs)(l.ZP,{container:!0,spacing:5,className:"mbe-5",children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(x.Z,{fullWidth:!0,label:"Product Name",placeholder:"Enter Product Name",value:t,onChange:e=>i(e.target.value),error:null!=Z&&!!Z.title,helperText:null==Z?void 0:Z.title})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(x.Z,{fullWidth:!0,label:"Serial Number",placeholder:"0123-4567",value:a,onChange:e=>n(e.target.value),error:null!=Z&&!!Z.sNo,helperText:null==Z?void 0:Z.sNo})})]}),(0,r.jsx)(s.Z,{className:"mbe-1",children:"Description (Optional)"}),(0,r.jsx)(o.Z,{className:"p-0 border shadow-none",children:(0,r.jsxs)(u.Z,{className:"p-0",children:[(0,r.jsx)(y,{editor:A}),(0,r.jsx)(c.Z,{className:"mli-5"}),(0,r.jsx)(p.kg,{editor:A,className:"bs-[135px] overflow-y-auto flex "})]})})]})]})};t(65249),t(42338);var A=t(1487),C=e=>{let{price:i,setPrice:t,errors:l}=e;return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(d.Z,{title:"Pricing"}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(A.Z,{children:(0,r.jsx)(x.Z,{fullWidth:!0,label:"Base Price",placeholder:"Enter Base Price",className:"mbe-5",value:i,onChange:e=>t(e.target.value),error:null!=l&&!!l.price,helperText:null==l?void 0:l.price})})})]})},P=t(28549),S=t(67351),k=t(11656),w=t(19004),I=t(91933),D=t(43808),_=t(44514),U=t(10437),z=e=>{var i;let{brandId:t,setBrandId:l,catId:n,setCatId:s,errors:a}=e,{data:c}=(0,D.kJ)(_.BD),{data:h}=(0,D.kJ)(_.xH);return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(d.Z,{title:"Organize"}),(0,r.jsx)(u.Z,{children:(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[(0,r.jsxs)(P.Z,{fullWidth:!0,children:[(0,r.jsx)(S.Z,{children:"Select Product Brand"}),(0,r.jsx)(w.Z,{label:"Select Vendor",value:t,onChange:e=>l(e.target.value),error:null!=a&&!!a.brandId,helperText:null==a?void 0:a.brandId,children:null==c?void 0:null===(i=c.brands)||void 0===i?void 0:i.map((e,i)=>(0,r.jsx)(k.Z,{value:null==e?void 0:e.id,children:null==e?void 0:e.title},i))}),(0,r.jsx)(U.Z,{sx:{color:"red"},children:null==a?void 0:a.brandId})]}),(0,r.jsx)(I.Z,{value:n,onChange:(e,i)=>{s(i.id)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:(null==h?void 0:h.product_categories)||[],disableCloseOnSelect:!0,getOptionLabel:e=>(null==e?void 0:e.title)||"",renderOption:(e,i,t)=>{let{selected:r}=t;return(0,b.createElement)("li",{...e,key:i.id},i.title)},renderInput:e=>(0,r.jsx)(x.Z,{...e,label:"Category",placeholder:"select category"})})]})})]})},E=t(23944),O=t(1552),T=t(47380),B=t(9188),q=t(91326),R=()=>{let{setGlobalMsg:e,loading:i,setLoading:t}=(0,B.q)(),[n,s]=(0,b.useState)(),[c,o]=(0,b.useState)(),[d,u]=(0,b.useState)(),[x,h]=(0,b.useState)(),[m,p]=(0,b.useState)(),[g,j]=(0,b.useState)(),[f,v]=(0,b.useState)(),[Z,y]=(0,b.useState)([]),[A]=(0,E.D)(O.zN),[P]=(0,E.D)(O.Sf),S=async()=>{t(!0);let i={},r=!1;if(n||(i.title="Title field is required",r=!0),n||(i.title="Title field is required",r=!0),m||(i.price="Price field is required",r=!0),g||(i.sNo="Serial Number field is required",r=!0),d||(i.brandId="Brand field is required",r=!0),x||(i.catId="Category field is required",r=!0),r){v({...i}),t(!1);return}try{await A({variables:{title:n,description_html:c,brand_id:d,category_id:x,serial_number:g,price:m}}),t(!1),s(""),p(""),o(""),j(""),u(""),h(""),e("➕ Add New Product")}catch(i){e("❌ Add Product Error"),console.log(i.response)}};return i?(0,r.jsx)(q.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(a,{handleDiscardProduct:()=>{s(""),o(""),p(0),j(0),h(""),u("")},handleAddProduct:S})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:8,children:(0,r.jsx)(l.ZP,{container:!0,spacing:6,children:(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(N,{setTitle:s,title:n,setSNo:j,sNo:g,setDescription:o,description:c,errors:f})})})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(l.ZP,{container:!0,spacing:6,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(C,{price:m,setPrice:p,errors:f})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(z,{brandId:d,setBrandId:u,catId:x,setCatId:h,errors:f})})]})})]}),(0,r.jsx)(T.Z,{})]})}},65249:function(e,i,t){"use strict";var r=t(57437),l=t(2265),n=t(76520),s=t(20248),a=t(55205),c=t(15667),o=t(60335),d=t(32184),u=t(7547),x=t(83719),h=t(48024),m=t(90307),p=t(38746);t(31155);var g=t(49758),j=t(36933),f=t(1552),v=t(23944),Z=t(9188);t(44785);let b=(0,h.ZP)(j.Z)(e=>{let{theme:i}=e;return{"& .dropzone":{minHeight:"unset",padding:i.spacing(12),[i.breakpoints.down("sm")]:{paddingInline:i.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:i.typography.body1.fontWeight}}}});i.Z=e=>{let{productId:i,productData:t}=e,[h,j]=(0,l.useState)([]),[y]=(0,v.D)(f.Sf),[N]=(0,v.D)(f.pE),[A]=(0,v.D)(f.si),{setGlobalMsg:C,loading:P,setLoading:S}=(0,Z.q)();(0,l.useEffect)(()=>{j(t.product_medias)},[i]);let{getRootProps:k,getInputProps:w}=(0,p.uI)({onDrop:e=>{j(i=>[...i,...e.map(e=>Object.assign(e))]),I(e)}});console.log("product data ",t);let I=async e=>{try{S(!0);let t=await y({variables:{content_type:"image",folder:"products"}}),r=await (0,m.c)(e[0],t.data.getFileUploadUrl.fileUploadUrl,"image");await N({variables:{data:{product_id:i,media_type:"image",media_url:r}}}),S(!1),C("✅ Image Upload Successful")}catch(e){console.log("Image upload error",e)}},D=e=>{var i;return(null==e?void 0:null===(i=e.type)||void 0===i?void 0:i.startsWith("image"))?(0,r.jsx)("img",{width:38,height:38,alt:e.name,src:URL.createObjectURL(e)}):(0,r.jsx)("img",{width:38,height:38,alt:e.name,src:e.media_url})},_=async e=>{await A({variables:{id:null==e?void 0:e.id}}),j([...h.filter(i=>i.name!==e.name)]),C("✅ Delete Successful")},U=h.map(e=>(0,r.jsxs)(u.ZP,{className:"pis-4 plb-3",children:[(0,r.jsx)("div",{className:"file-details",children:(0,r.jsx)("div",{className:"file-preview",children:D(e)})}),(0,r.jsx)(o.Z,{onClick:()=>_(e),children:(0,r.jsx)("i",{className:"ri-close-line text-xl"})})]},e.id));return(0,r.jsx)(b,{children:(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(s.Z,{title:"Product Image",sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)("div",{...k({className:"dropzone"}),children:[(0,r.jsx)("input",{...w()}),(0,r.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[(0,r.jsx)(g.default,{variant:"rounded",skin:"light",color:"secondary",children:(0,r.jsx)("i",{className:"ri-upload-2-line"})}),(0,r.jsx)(x.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),(0,r.jsx)(x.Z,{color:"text.disabled",children:"or"}),(0,r.jsx)(c.Z,{variant:"outlined",size:"small",loading:P,children:"Browse Image"})]})]}),h.length?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Z,{children:U})}):null]})]})})}},44785:function(e,i,t){"use strict";/*! js-cookie v3.0.5 | MIT */function r(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)e[r]=t[r]}return e}t.d(i,{Z:function(){return l}});var l=function e(i,t){function l(e,l,n){if("undefined"!=typeof document){"number"==typeof(n=r({},t,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in n)n[a]&&(s+="; "+a,!0!==n[a]&&(s+="="+n[a].split(";")[0]));return document.cookie=e+"="+i.write(l,e)+s}}return Object.create({set:l,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},l=0;l<t.length;l++){var n=t[l].split("="),s=n.slice(1).join("=");try{var a=decodeURIComponent(n[0]);if(r[a]=i.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,i){l(e,"",r({},i,{expires:-1}))},withAttributes:function(i){return e(this.converter,r({},this.attributes,i))},withConverter:function(i){return e(r({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(i)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[83,5223,1544,3572,7902,1441,9584,7138,9855,8329,7660,7800,8965,6715,6805,6101,7212,5313,8325,481,7172,3550,7683,3647,1757,3694,4366,9195,2460,7932,5512,2971,7023,1744],function(){return e(e.s=61303)}),_N_E=e.O()}]);