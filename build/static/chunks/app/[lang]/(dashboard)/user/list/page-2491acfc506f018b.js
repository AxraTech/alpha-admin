(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6387],{23021:function(e,r,t){Promise.resolve().then(t.bind(t,31225))},32870:function(e,r,t){"use strict";var l=t(99370),a=t(78845),n=t(31229),s=t(27494),i=t(92728),o=t(28095),c=t(28464),d=t(66030),u=t(83048),x=t(59533);let h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],m=e=>{let{classes:r}=e;return(0,i.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u.J,r)},g=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,r)=>(0,a.Z)({["& .".concat(u.Z.title)]:r.title,["& .".concat(u.Z.subheader)]:r.subheader},r.root)})({display:"flex",alignItems:"center",padding:16}),p=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,r)=>r.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,r)=>r.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),v=(0,d.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,r)=>r.content})({flex:"1 1 auto"}),j=n.forwardRef(function(e,r){let t=(0,c.i)({props:e,name:"MuiCardHeader"}),{action:n,avatar:i,className:d,component:u="div",disableTypography:j=!1,subheader:Z,subheaderTypographyProps:b,title:S,titleTypographyProps:w}=t,N=(0,l.Z)(t,h),P=(0,a.Z)({},t,{component:u,disableTypography:j}),C=m(P),y=S;null==y||y.type===o.Z||j||(y=(0,x.jsx)(o.Z,(0,a.Z)({variant:i?"body2":"h5",className:C.title,component:"span",display:"block"},w,{children:y})));let R=Z;return null==R||R.type===o.Z||j||(R=(0,x.jsx)(o.Z,(0,a.Z)({variant:i?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},b,{children:R}))),(0,x.jsxs)(g,(0,a.Z)({className:(0,s.Z)(C.root,d),as:u,ref:r,ownerState:P},N,{children:[i&&(0,x.jsx)(p,{className:C.avatar,ownerState:P,children:i}),(0,x.jsxs)(v,{className:C.content,ownerState:P,children:[y,R]}),n&&(0,x.jsx)(f,{className:C.action,ownerState:P,children:n})]}))});r.Z=j},83048:function(e,r,t){"use strict";t.d(r,{J:function(){return n}});var l=t(47678),a=t(11016);function n(e){return(0,a.ZP)("MuiCardHeader",e)}let s=(0,l.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);r.Z=s},31225:function(e,r,t){"use strict";t.d(r,{default:function(){return L}});var l=t(59533),a=t(95094),n=t(31229),s=t(96353),i=t(61250),o=t(26175),c=t(32870),d=t(45336),u=t(47867),x=t(66431),h=t(28095),m=t(3443),g=t(89749),p=t(66030),f=t(23524),v=t(72860),j=t.n(v),Z=t(19880),b=t(65841),S=t(51480),w=t(33386),N=t(82498),P=t(78911),C=t(30034),y=t(46162),R=t(17848),M=t(31029),k=e=>{let{setData:r,tableData:t}=e,[s,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),{data:x}=(0,R.kJ)(M.pR);return(0,n.useEffect)(()=>{r((null==t?void 0:t.filter(e=>(!s||e.role===s)&&(!o||e.currentPlan===o)&&(!d||e.status===d)))||[])},[s,o,d,t,r]),(0,l.jsx)(w.Z,{children:(0,l.jsxs)(a.ZP,{container:!0,spacing:5,children:[(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(N.Z,{fullWidth:!0,children:[(0,l.jsx)(P.Z,{id:"role-select",children:"Select Role"}),(0,l.jsxs)(y.Z,{fullWidth:!0,id:"select-role",value:s,onChange:e=>i(e.target.value),label:"Select Role",labelId:"role-select",inputProps:{placeholder:"Select Role"},children:[(0,l.jsx)(C.Z,{value:"",children:"Select Role"}),x.user_roles.map(e=>(0,l.jsx)(C.Z,{value:e.role_name,children:e.role_name},e.id))]})]})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,l.jsxs)(N.Z,{fullWidth:!0,children:[(0,l.jsx)(P.Z,{id:"status-select",children:"Select Status"}),(0,l.jsxs)(y.Z,{fullWidth:!0,id:"select-status",label:"Select Status",value:d,onChange:e=>u(e.target.value),labelId:"status-select",inputProps:{placeholder:"Select Status"},children:[(0,l.jsx)(C.Z,{value:"",children:"Select Status"}),(0,l.jsx)(C.Z,{value:"pending",children:"Pending"}),(0,l.jsx)(C.Z,{value:"verified",children:"Verified"}),(0,l.jsx)(C.Z,{value:"unverified",children:"UnVerified"}),(0,l.jsx)(C.Z,{value:"disable",children:"Disabled"})]})]})})]})})},D=t(5870),E=t(1026),_=t(20526),z=t(76399),F=t(29349);let I={company:"",country:"",contact:""};var T=e=>{let{open:r,handleClose:t,userData:a,setData:s}=e,[i]=(0,z.D)(F.jN),[o,c]=(0,n.useState)(I),{control:m,reset:p,handleSubmit:f,formState:{errors:v}}=(0,_.cI)({defaultValues:{name:"",phone:"",role:"",password:""}}),j=async e=>{s([...null!=a?a:[],await i({variables:{name:e.name,phone:e.phone,role:e.role,password:e.password}})]),t(),c(I),p({})},Z=()=>{t(),c(I)};return(0,l.jsxs)(D.ZP,{open:r,anchor:"right",variant:"temporary",onClose:Z,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,l.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[(0,l.jsx)(h.Z,{variant:"h5",children:"Add New User"}),(0,l.jsx)(g.Z,{size:"small",onClick:Z,children:(0,l.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,l.jsx)(d.Z,{}),(0,l.jsx)("div",{className:"p-5",children:(0,l.jsxs)("form",{onSubmit:f(e=>j(e)),className:"flex flex-col gap-5",children:[(0,l.jsx)(_.Qr,{name:"name",control:m,rules:{required:!0},render:e=>{let{field:r}=e;return(0,l.jsx)(x.Z,{...r,fullWidth:!0,label:"Name",placeholder:"Enter Name",...v.name&&{error:!0,helperText:"This field is required."}})}}),(0,l.jsx)(_.Qr,{name:"phone",control:m,rules:{required:!0},render:e=>{let{field:r}=e;return(0,l.jsx)(x.Z,{...r,fullWidth:!0,label:"Phone",placeholder:"Enter Phone",...v.phone&&{error:!0,helperText:"This field is required."}})}}),(0,l.jsx)(_.Qr,{name:"password",control:m,rules:{required:!0},render:e=>{let{field:r}=e;return(0,l.jsx)(x.Z,{...r,fullWidth:!0,type:"password",label:"Password",placeholder:"Enter Password",...v.password&&{error:!0,helperText:"This field is required."}})}}),(0,l.jsxs)(N.Z,{fullWidth:!0,children:[(0,l.jsx)(P.Z,{id:"country",error:!!v.role,children:"Select Role"}),(0,l.jsx)(_.Qr,{name:"role",control:m,rules:{required:!0},render:e=>{let{field:r}=e;return(0,l.jsxs)(y.Z,{label:"Select Role",...r,error:!!v.role,children:[(0,l.jsx)(C.Z,{value:"dealer",children:"Dealer"}),(0,l.jsx)(C.Z,{value:"consumer",children:"Consumer"})]})}}),v.role&&(0,l.jsx)(E.Z,{error:!0,children:"This field is required."})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(u.Z,{variant:"contained",type:"submit",children:"Submit"}),(0,l.jsx)(u.Z,{variant:"outlined",color:"error",type:"reset",onClick:()=>Z(),children:"Cancel"})]})]})})]})};t(79505);var U=t(6083),q=t(84148),H=t(67875),J=t.n(H),O=t(42648);(0,p.ZP)("i")({});let V=(e,r,t,l)=>{let a=(0,Z.O4)(e.getValue(r),t);return l({itemRank:a}),a.passed},W=e=>{let{value:r,onChange:t,debounce:a=500,...s}=e,[i,o]=(0,n.useState)(r);return(0,n.useEffect)(()=>{o(r)},[r]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{t(i)},a);return()=>clearTimeout(e)},[i]),(0,l.jsx)(x.Z,{...s,value:i,onChange:e=>o(e.target.value),size:"small"})},A=(0,b.Cl)();var Q=e=>{let{tableData:r}=e,[t,a]=(0,n.useState)(!1),[x,p]=(0,n.useState)({}),[v,Z]=(0,n.useState)(r),[w,N]=(0,n.useState)(v),[P,C]=(0,n.useState)(""),{lang:y}=(0,i.useParams)(),R=(0,n.useMemo)(()=>[A.accessor("name",{header:"User",cell:e=>{let{row:r}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[D({avatar:r.original.profile_picture_url}),(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)(h.Z,{variant:"body2",children:r.original.name})})]})}}),A.accessor("phone",{header:"Phone",cell:e=>{let{row:r}=e;return(0,l.jsx)(h.Z,{children:r.original.phone})}}),A.accessor("role",{header:"Role",cell:e=>{let{row:r}=e;return(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsx)(h.Z,{className:"capitalize",color:"text.primary",children:r.original.role})})}}),A.accessor("status",{header:"Status",cell:e=>{let{row:r}=e;return(0,l.jsx)("div",{className:"flex items-center gap-3",children:(0,l.jsx)(m.Z,{variant:"tonal",label:r.original.status,size:"small",color:O.Pg[r.original.status],className:"capitalize"})})}}),A.accessor("created_at",{header:"Join Date",cell:e=>{let{row:r}=e;return(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsx)(h.Z,{className:"capitalize",color:"text.primary",children:r.original.created_at.substring(0,10)})})}}),A.accessor("action",{header:"Action",cell:e=>{let{row:r}=e;return(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(g.Z,{children:(0,l.jsx)(s.default,{href:(0,q.U)("/user/view/"+r.original.id,y),className:"flex",children:(0,l.jsx)("i",{className:"ri-eye-line text-textSecondary"})})})})},enableSorting:!1})],[v,w]),M=(0,S.b7)({data:w,columns:R,filterFns:{fuzzy:V},state:{rowSelection:x,globalFilter:P},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:V,onRowSelectionChange:p,getCoreRowModel:(0,b.sC)(),onGlobalFilterChange:C,getFilteredRowModel:(0,b.vL)(),getSortedRowModel:(0,b.tj)(),getPaginationRowModel:(0,b.G_)(),getFacetedRowModel:(0,b.o6)(),getFacetedUniqueValues:(0,b.JG)(),getFacetedMinMaxValues:(0,b.HO)()}),D=e=>{let{avatar:r}=e;return(0,l.jsx)(U.default,{src:r,skin:"light",size:34})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.Z,{title:"Filters"}),(0,l.jsx)(k,{setData:N,tableData:v}),(0,l.jsx)(d.Z,{}),(0,l.jsx)("div",{className:"flex justify-between p-5 gap-4 flex-col items-start sm:flex-row sm:items-center",children:(0,l.jsxs)("div",{className:"flex items-center gap-x-4 gap-4 flex-col max-sm:is-full sm:flex-row",children:[(0,l.jsx)(W,{value:null!=P?P:"",onChange:e=>C(String(e)),placeholder:"Search User",className:"max-sm:is-full"}),(0,l.jsx)(u.Z,{variant:"contained",onClick:()=>a(!t),className:"max-sm:is-full",children:"Add New User"})]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:J().table,children:[(0,l.jsx)("thead",{children:M.getHeaderGroups().map(e=>(0,l.jsx)("tr",{children:e.headers.map(e=>{var r;return(0,l.jsx)("th",{children:e.isPlaceholder?null:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:j()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,S.ie)(e.column.columnDef.header,e.getContext()),null!==(r=({asc:(0,l.jsx)("i",{className:"ri-arrow-up-s-line text-xl"}),desc:(0,l.jsx)("i",{className:"ri-arrow-down-s-line text-xl"})})[e.column.getIsSorted()])&&void 0!==r?r:null]})})},e.id)})},e.id))}),0===M.getFilteredRowModel().rows.length?(0,l.jsx)("tbody",{children:(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:M.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):(0,l.jsx)("tbody",{children:M.getRowModel().rows.slice(0,M.getState().pagination.pageSize).map(e=>(0,l.jsx)("tr",{className:j()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{children:(0,S.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,l.jsx)(f.Z,{rowsPerPageOptions:[10,25,50],component:"div",className:"border-bs",count:M.getFilteredRowModel().rows.length,rowsPerPage:M.getState().pagination.pageSize,page:M.getState().pagination.pageIndex,SelectProps:{inputProps:{"aria-label":"rows per page"}},onPageChange:(e,r)=>{M.setPageIndex(r)},onRowsPerPageChange:e=>M.setPageSize(Number(e.target.value))})]}),(0,l.jsx)(T,{open:t,handleClose:()=>a(!t),userData:v,setData:Z})]})};t(52972);var G=e=>{let{count:r,title:t}=e;return(0,l.jsx)(o.Z,{children:(0,l.jsxs)(w.Z,{className:"flex justify-between gap-1 ",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1 flex-grow",children:[(0,l.jsx)(h.Z,{color:"text.primary",variant:"h3",children:r}),(0,l.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:(0,l.jsx)(h.Z,{variant:"h5",color:"".concat("Disable"===t?"red":"Pending"===t?"orange":"Dealer"===t?"green":"Consumer"===t?"blue":"grey"),children:t})})]}),(0,l.jsx)(U.default,{skin:"light",variant:"rounded",size:42})]})})},L=()=>{let{data:e}=(0,R.kJ)(M.fo),{data:r}=(0,R.kJ)(M.l_),{data:t}=(0,R.kJ)(M.wk);return(0,l.jsxs)(a.ZP,{container:!0,spacing:6,children:[(0,l.jsx)(a.ZP,{item:!0,md:3,xs:12,sm:6,children:(0,l.jsx)(G,{count:t.consumerUser.aggregate.count,title:"Consumer"})}),(0,l.jsx)(a.ZP,{item:!0,md:3,xs:12,sm:6,children:(0,l.jsx)(G,{count:t.dealerUser.aggregate.count,title:"Dealer"})}),(0,l.jsx)(a.ZP,{item:!0,md:3,xs:12,sm:6,children:(0,l.jsx)(G,{count:r.pendingUser.aggregate.count,title:"Pending"})}),(0,l.jsx)(a.ZP,{item:!0,md:3,xs:12,sm:6,children:(0,l.jsx)(G,{count:r.disabelUser.aggregate.count,title:"Disable"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,children:(0,l.jsx)(Q,{tableData:e.users})})]})}},76399:function(e,r,t){"use strict";t.d(r,{D:function(){return u}});var l=t(69395),a=t(121),n=t(49114),s=t(17839),i=t(60626),o=t(98153),c=t(2912),d=t(25207).Nq?a.useLayoutEffect:a.useEffect;function u(e,r){var t=(0,c.x)(null==r?void 0:r.client);(0,i.Vp)(e,i.n_.Mutation);var u=a.useState({called:!1,loading:!1,client:t}),x=u[0],h=u[1],m=a.useRef({result:x,mutationId:0,isMounted:!0,client:t,mutation:e,options:r});d(function(){Object.assign(m.current,{client:t,options:r,mutation:e})});var g=a.useCallback(function(e){void 0===e&&(e={});var r=m.current,t=r.options,a=r.mutation,i=(0,l.pi)((0,l.pi)({},t),{mutation:a}),c=e.client||m.current.client;m.current.result.loading||i.ignoreResults||!m.current.isMounted||h(m.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:c});var d=++m.current.mutationId,u=(0,n.J)(i,e);return c.mutate(u).then(function(r){var t,l,a=r.data,n=r.errors,i=n&&n.length>0?new o.cA({graphQLErrors:n}):void 0,x=e.onError||(null===(t=m.current.options)||void 0===t?void 0:t.onError);if(i&&x&&x(i,u),d===m.current.mutationId&&!u.ignoreResults){var g={called:!0,loading:!1,data:a,error:i,client:c};m.current.isMounted&&!(0,s.D)(m.current.result,g)&&h(m.current.result=g)}var p=e.onCompleted||(null===(l=m.current.options)||void 0===l?void 0:l.onCompleted);return i||null==p||p(r.data,u),r}).catch(function(r){if(d===m.current.mutationId&&m.current.isMounted){var t,l={loading:!1,error:r,data:void 0,called:!0,client:c};(0,s.D)(m.current.result,l)||h(m.current.result=l)}var a=e.onError||(null===(t=m.current.options)||void 0===t?void 0:t.onError);if(a)return a(r,u),{data:void 0,errors:r};throw r})},[]),p=a.useCallback(function(){if(m.current.isMounted){var e={called:!1,loading:!1,client:m.current.client};Object.assign(m.current,{mutationId:0,result:e}),h(e)}},[]);return a.useEffect(function(){var e=m.current;return e.isMounted=!0,function(){e.isMounted=!1}},[]),[g,(0,l.pi)({reset:p},x)]}},11616:function(e,r,t){"use strict";function l(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Object.create(null);return e.forEach(function(e){e&&Object.keys(e).forEach(function(r){var l=e[r];void 0!==l&&(t[r]=l)})}),t}t.d(r,{o:function(){return l}})},49114:function(e,r,t){"use strict";t.d(r,{J:function(){return n}});var l=t(69395),a=t(11616);function n(e,r){return(0,a.o)(e,r,r.variables&&{variables:(0,a.o)((0,l.pi)((0,l.pi)({},e&&e.variables),r.variables))})}}},function(e){e.O(0,[3307,8869,1055,4214,9253,4637,313,6431,7814,9276,9415,7020,4284,2163,1559,9993,5841,3443,7952,285,4076,5870,1029,6129,4170,6842,1744],function(){return e(e.s=23021)}),_N_E=e.O()}]);