(()=>{var e={};e.id=9270,e.ids=[9270],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},82361:e=>{"use strict";e.exports=require("events")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},81135:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),i(8261),i(88418),i(10634),i(35866);var a=i(23191),r=i(88716),s=i(37922),n=i.n(s),l=i(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);i.d(t,o);let c=["",{children:["[lang]",{children:["(dashboard)",{children:["news",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,8261)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\news\\edit\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\news\\edit\\[id]\\page.jsx"],x="/[lang]/(dashboard)/news/edit/[id]/page",u={require:i,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/[lang]/(dashboard)/news/edit/[id]/page",pathname:"/[lang]/news/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91539:(e,t,i)=>{Promise.resolve().then(i.bind(i,44449))},86391:(e,t,i)=>{"use strict";i.d(t,{Z:()=>A});var a=i(91367),r=i(45353),s=i(17577),n=i(41135),l=i(88634),o=i(11190),c=i(33662),d=i(51426),x=i(10326);let u=(0,d.Z)((0,x.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=(0,d.Z)((0,x.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,d.Z)((0,x.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var m=i(54641),g=i(2791),j=i(91703),v=i(27080),f=i(56385);let Z=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],b=e=>{let{classes:t,indeterminate:i,color:a,size:s}=e,n={root:["root",i&&"indeterminate",`color${(0,m.Z)(a)}`,`size${(0,m.Z)(s)}`]},o=(0,l.Z)(n,f.y,t);return(0,r.Z)({},t,o)},y=(0,j.ZP)(c.Z,{shouldForwardProp:e=>(0,v.Z)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.indeterminate&&t.indeterminate,t[`size${(0,m.Z)(i.size)}`],"default"!==i.color&&t[`color${(0,m.Z)(i.color)}`]]}})(({theme:e,ownerState:t})=>(0,r.Z)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,o.Fq)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${f.Z.checked}, &.${f.Z.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${f.Z.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),P=(0,x.jsx)(h,{}),w=(0,x.jsx)(u,{}),k=(0,x.jsx)(p,{}),A=s.forwardRef(function(e,t){var i,l;let o=(0,g.i)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=P,color:d="primary",icon:u=w,indeterminate:h=!1,indeterminateIcon:p=k,inputProps:m,size:j="medium",className:v}=o,f=(0,a.Z)(o,Z),A=h?p:u,_=h?p:c,C=(0,r.Z)({},o,{color:d,indeterminate:h,size:j}),N=b(C);return(0,x.jsx)(y,(0,r.Z)({type:"checkbox",inputProps:(0,r.Z)({"data-indeterminate":h},m),icon:s.cloneElement(A,{fontSize:null!=(i=A.props.fontSize)?i:j}),checkedIcon:s.cloneElement(_,{fontSize:null!=(l=_.props.fontSize)?l:j}),ownerState:C,ref:t,className:(0,n.Z)(N.root,v)},f,{classes:N}))})},56385:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n,y:()=>s});var a=i(71685),r=i(97898);function s(e){return(0,r.ZP)("MuiCheckbox",e)}let n=(0,a.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"])},44449:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>K});var a=i(10326),r=i(32634),s=i(99207),n=i(19518),l=i(67461),o=i(84187),c=i(78077),d=i(25609),x=i(48029),u=i.n(x),h=i(948),p=i(45367),m=i(75864),g=i(23661),j=i(77542),v=i(18500);i(59104);let f=({editor:e})=>e?(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[a.jsx(v.Z,{...e.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleBold().run(),children:a.jsx("i",{className:u()("ri-bold",{"text-textSecondary":!e.isActive("bold")})})}),a.jsx(v.Z,{...e.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleUnderline().run(),children:a.jsx("i",{className:u()("ri-underline",{"text-textSecondary":!e.isActive("underline")})})}),a.jsx(v.Z,{...e.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleItalic().run(),children:a.jsx("i",{className:u()("ri-italic",{"text-textSecondary":!e.isActive("italic")})})}),a.jsx(v.Z,{...e.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleStrike().run(),children:a.jsx("i",{className:u()("ri-strikethrough",{"text-textSecondary":!e.isActive("strike")})})}),a.jsx(v.Z,{...e.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:a.jsx("i",{className:u()("ri-align-left",{"text-textSecondary":!e.isActive({textAlign:"left"})})})}),a.jsx(v.Z,{...e.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:a.jsx("i",{className:u()("ri-align-center",{"text-textSecondary":!e.isActive({textAlign:"center"})})})}),a.jsx(v.Z,{...e.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:a.jsx("i",{className:u()("ri-align-right",{"text-textSecondary":!e.isActive({textAlign:"right"})})})}),a.jsx(v.Z,{...e.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:a.jsx("i",{className:u()("ri-align-justify",{"text-textSecondary":!e.isActive({textAlign:"justify"})})})})]}):null,Z=({setTitle:e,title:t,setDescription:i,description:x,errors:u})=>{let v=(0,h.jE)({extensions:[p.V,g.V.configure({placeholder:"Write something here..."}),j.P.configure({types:["heading","paragraph"]}),m.v],content:x,onUpdate:({editor:e})=>{i(e.getHTML())}});return(0,a.jsxs)(n.Z,{children:[a.jsx(l.Z,{title:"Post Information"}),(0,a.jsxs)(o.Z,{children:[a.jsx(r.ZP,{container:!0,spacing:5,className:"mbe-5",children:a.jsx(r.ZP,{item:!0,xs:12,children:a.jsx(c.Z,{fullWidth:!0,label:"Post Name",placeholder:"Enter Post Name",value:t,onChange:t=>e(t.target.value),error:!!u?.title,helperText:u?.title})})}),a.jsx(d.Z,{className:"mbe-1",children:"Description (Optional)"}),a.jsx(n.Z,{className:"p-0 border shadow-none",children:(0,a.jsxs)(o.Z,{className:"p-0",children:[a.jsx(f,{editor:v}),a.jsx(s.Z,{className:"mli-5"}),a.jsx(h.kg,{editor:v,className:"bs-[135px] overflow-y-auto flex ",value:x,onChange:e=>i(e.target.value)})]})})]})]})};var b=i(87700);let y=({handleDiscardProduct:e,handleEditNews:t})=>(0,a.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[a.jsx("div",{children:a.jsx(d.Z,{variant:"h4",className:"mbe-1",children:"Edit a new Post"})}),(0,a.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[a.jsx(b.Z,{variant:"outlined",color:"secondary",onClick:e,children:"Discard"}),a.jsx(b.Z,{variant:"contained",onClick:t,children:"Edit New Post"})]})]});var P=i(17577),w=i(48260),k=i(84979),A=i(71411),_=i(91703),C=i(23920),N=i(81547),z=i(40529),S=i(64926),D=i(24443);let I=(0,_.ZP)(S.Z)(({theme:e})=>({"& .dropzone":{minHeight:"unset",padding:e.spacing(12),[e.breakpoints.down("sm")]:{paddingInline:e.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:e.typography.body1.fontWeight}}})),q=({files:e,setFiles:t,newData:i,isImageChange:r,setIsImageChange:s})=>{let c;let{getRootProps:x,getInputProps:u}=(0,C.uI)({multiple:!1,onDrop:e=>{s(!0),t(e.map(e=>Object.assign(e)))}}),h=()=>{t([]),s(!1)};return a.jsx(I,{children:(0,a.jsxs)(n.Z,{children:[a.jsx(l.Z,{title:"Product Image",action:a.jsx(d.Z,{component:N.default,color:"primary",className:"font-medium",children:"Add media from URL"}),sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)("div",{...x({className:"dropzone"}),children:[a.jsx("input",{...u()}),(0,a.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[a.jsx(z.default,{variant:"rounded",skin:"light",color:"secondary",children:a.jsx("i",{className:"ri-upload-2-line"})}),a.jsx(d.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),a.jsx(d.Z,{color:"text.disabled",children:"or"}),a.jsx(b.Z,{variant:"outlined",size:"small",children:"Browse Image"})]})]}),a.jsx(k.Z,{children:(0,a.jsxs)(A.ZP,{className:"pis-4 plb-3",children:[(0,a.jsxs)("div",{className:"file-details",children:[a.jsx("div",{className:"file-preview",children:(c=e.length>0?e[0]:null,r&&c instanceof File?a.jsx("img",{width:38,height:38,alt:c.name,src:URL.createObjectURL(c)}):i?.image_url?a.jsx("img",{width:38,height:38,alt:"image",src:i.image_url}):a.jsx(d.Z,{children:"No image available"}))}),e.length>0&&(0,a.jsxs)("div",{children:[a.jsx(d.Z,{className:"file-name font-medium",color:"text.primary",children:e[0]?.name}),a.jsx(d.Z,{className:"file-size",variant:"body2",children:Math.round(e[0].size/100)/10>1e3?`${(Math.round(e[0].size/100)/1e4).toFixed(1)} mb`:`${(Math.round(e[0].size/100)/10).toFixed(1)} kb`})]})]}),e.length>0&&a.jsx(w.Z,{onClick:()=>h(e[0]),children:a.jsx("i",{className:"ri-close-line text-xl"})})]})}),a.jsx("div",{className:"buttons",children:a.jsx(b.Z,{color:"error",variant:"outlined",onClick:()=>{t([]),s(!1)},children:"Remove All"})})]})]})})};i(79913),i(11684),i(53190);var E=i(53913),M=i(918),R=i(37841),O=i(56390),H=i(86391),L=i(14853),T=i(36238),$=i(84875),J=i(29084);let U=({productId:e,setProductId:t,catId:i,setCatId:r,errors:s,newData:d})=>{let{data:x}=(0,$.kJ)(J.yf),{data:u}=(0,$.kJ)(J.XR),{data:h}=(0,$.kJ)(J.wC,{variables:{news_id:d.id}});return(0,P.useEffect)(()=>{d&&(r(d.news_category?.id),t(h&&h?.news_related_products?.map(e=>e?.product_id)))},[d]),(0,a.jsxs)(n.Z,{children:[a.jsx(l.Z,{title:"Organize"}),a.jsx(o.Z,{children:(0,a.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[(0,a.jsxs)(E.Z,{fullWidth:!0,children:[a.jsx(M.Z,{children:"Select News Category"}),a.jsx(O.Z,{label:"Select Category",value:i,onChange:e=>r(e.target.value),error:s?.catId,children:x?.news_categories?.map((e,t)=>a.jsx(R.Z,{value:e?.id,children:e?.title},t))}),a.jsx(T.Z,{sx:{color:"red"},children:s?.catId})]}),a.jsx(L.Z,{multiple:!0,value:e,onChange:(e,i)=>{t(i)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:u?.products||[],disableCloseOnSelect:!0,getOptionLabel:e=>e?.title||"",renderOption:(e,t,{selected:i})=>(0,P.createElement)("li",{...e,key:t.id,children:[a.jsx(H.Z,{style:{marginRight:8},checked:i}),t.title]}),renderInput:e=>a.jsx(c.Z,{...e,label:"Products",placeholder:"select products"})})]})})]})};var B=i(18753),F=i(5330),G=i(76865),V=i(71728),W=i(35047),X=i(26734),Y=i(32392);let K=()=>{let{id:e}=(0,W.useParams)(),t=(0,W.useRouter)(),{setGlobalMsg:i,loading:s,setLoading:n}=(0,G.q)(),[l,o]=(0,P.useState)(),[c,x]=(0,P.useState)(),[u,h]=(0,P.useState)(),[p,m]=(0,P.useState)([]),[g,j]=(0,P.useState)([]),[v,f]=(0,P.useState)(),[w,k]=(0,P.useState)(!1),[A]=(0,B.D)(D.dE),[_]=(0,B.D)(D.Hd),[C]=(0,B.D)(D.Sf),{data:z}=(0,$.kJ)(J.Ev,{variables:{id:e}}),S=z.news_by_pk,[I]=(0,B.D)(D.yn);(0,P.useEffect)(()=>{S&&(m(S.image_url),o(S.title),x(Y.ZP(S.body_html)[0]?.props?.children[0]))},[S]);let E=async()=>{n(!0);let e={},t=!1;if(l||(e.title="Title field is required",t=!0),u||(e.catId="Category field is required",t=!0),g||(e.productId="Product field is required",t=!0),t){f({...e}),n(!1);return}try{let e=S.image_url;if(p&&p!==S?.image_url){let{data:t}=await C({variables:{content_type:"image",folder:"products"}});e=await (0,X.c)(p[0],t.getFileUploadUrl.fileUploadUrl,"image")}let t=await A({variables:{id:S.id,data:{title:l,body_html:c,news_category_id:u,image_url:p!==S.image_url?e:S.image_url}}});await I({variables:{news_id:t.data.update_news_by_pk.id}}),g.map(async e=>await _({variables:{data:{news_id:t?.data?.update_news_by_pk.id,product_id:e.id?e.id:e}}})),n(!1),o(""),x(""),j([]),h(""),i("✅ New post has been updated")}catch(e){i("❌ Add News Error"),console.log(e.response)}};return s?a.jsx(V.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{component:N.default,to:t.back(),children:"Back"}),a.jsx(b.Z,{variant:"contained",onClick:()=>t.back(),children:"⬅️ Back"}),(0,a.jsxs)(r.ZP,{container:!0,spacing:6,children:[a.jsx(r.ZP,{item:!0,xs:12,children:a.jsx(y,{handleDiscardProduct:()=>{t.back()},handleEditNews:E})}),a.jsx(r.ZP,{item:!0,xs:12,md:8,children:(0,a.jsxs)(r.ZP,{container:!0,spacing:6,children:[a.jsx(r.ZP,{item:!0,xs:12,children:a.jsx(Z,{setTitle:o,title:l,setDescription:x,description:c,errors:v})}),a.jsx(r.ZP,{item:!0,xs:12,children:a.jsx(q,{files:p,setFiles:m,newData:S,isImageChange:w,setIsImageChange:k})})]})}),a.jsx(r.ZP,{item:!0,xs:12,md:4,children:a.jsx(r.ZP,{container:!0,spacing:6,children:a.jsx(r.ZP,{item:!0,xs:12,children:a.jsx(U,{catId:u,setCatId:h,productId:g,setProductId:j,errors:v,newData:S})})})})]}),a.jsx(F.Z,{})]})}},8261:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>l});var a=i(68570);let r=(0,a.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\app\[lang]\(dashboard)\news\edit\[id]\page.jsx`),{__esModule:s,$$typeof:n}=r;r.default;let l=(0,a.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\app\[lang]\(dashboard)\news\edit\[id]\page.jsx#default`)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),a=t.X(0,[8948,4471,4674,4366,8522,4313,2825,8077,1994,632,4073,6296,7730,2392,6860,7251,1684,274],()=>i(81135));module.exports=a})();