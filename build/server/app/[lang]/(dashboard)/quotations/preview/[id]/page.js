(()=>{var e={};e.id=6926,e.ids=[6926,6493],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},19468:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>l}),i(38006),i(88418),i(10634),i(35866);var r=i(23191),n=i(88716),a=i(37922),s=i.n(a),o=i(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);i.d(t,d);let l=["",{children:["[lang]",{children:["(dashboard)",{children:["quotations",{children:["preview",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,38006)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\quotations\\preview\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\quotations\\preview\\[id]\\page.jsx"],c="/[lang]/(dashboard)/quotations/preview/[id]/page",p={require:i,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/[lang]/(dashboard)/quotations/preview/[id]/page",pathname:"/[lang]/quotations/preview/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},10762:(e,t,i)=>{Promise.resolve().then(i.bind(i,76915))},57329:(e,t,i)=>{"use strict";i.d(t,{Z:()=>$});var r,n=i(91367),a=i(45353),s=i(17577),o=i(41135),d=i(88634),l=i(54641),u=i(25609),c=i(45011),p=i(65656),m=i(91703),_=i(71685),h=i(97898);function f(e){return(0,h.ZP)("MuiInputAdornment",e)}let x=(0,_.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var g=i(2791),v=i(10326);let y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=e=>{let{classes:t,disablePointerEvents:i,hiddenLabel:r,position:n,size:a,variant:s}=e,o={root:["root",i&&"disablePointerEvents",n&&`position${(0,l.Z)(n)}`,s,r&&"hiddenLabel",a&&`size${(0,l.Z)(a)}`]};return(0,d.Z)(o,f,t)},b=(0,m.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,t[`position${(0,l.Z)(i.position)}`],!0===i.disablePointerEvents&&t.disablePointerEvents,t[i.variant]]}})(({theme:e,ownerState:t})=>(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${x.positionStart}&:not(.${x.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),$=s.forwardRef(function(e,t){let i=(0,g.i)({props:e,name:"MuiInputAdornment"}),{children:d,className:l,component:m="div",disablePointerEvents:_=!1,disableTypography:h=!1,position:f,variant:x}=i,$=(0,n.Z)(i,y),P=(0,p.Z)()||{},S=x;x&&P.variant,P&&!S&&(S=P.variant);let w=(0,a.Z)({},i,{hiddenLabel:P.hiddenLabel,size:P.size,disablePointerEvents:_,position:f,variant:S}),k=j(w);return(0,v.jsx)(c.Z.Provider,{value:null,children:(0,v.jsx)(b,(0,a.Z)({as:m,ownerState:w,className:(0,o.Z)(k.root,l),ref:t},$,{children:"string"!=typeof d||h?(0,v.jsxs)(s.Fragment,{children:["start"===f?r||(r=(0,v.jsx)("span",{className:"notranslate",children:"​"})):null,d]}):(0,v.jsx)(u.Z,{color:"text.secondary",children:d})}))})})},5330:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(10326);i(17577);var n=i(38506),a=i(76865);let s=()=>{let{globalMsg:e,setGlobalMsg:t}=(0,a.q)();return r.jsx("div",{children:r.jsx(n.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>t(null),message:e})})}},11594:(e,t,i)=>{"use strict";i.d(t,{Pg:()=>o,c7:()=>n,sE:()=>s,uH:()=>r,zh:()=>a});let r={completed:"success",rejected:"error","received token":"info","picking up":"primary",processing:"warning",delivering:"secondary"},n={pending:"warning",completed:"success",accepted:"info",rejected:"error"},a={delivering:"secondary",completed:"success",ordered:"info",preparing:"primary",refunded:"warning",canceled:"error"},s={paid:"primary","partially paid":"info",completed:"success",unpaid:"error",pending:"warning"},o={verified:"success",pending:"warning",unverified:"primary",disable:"error"}},24443:(e,t,i)=>{"use strict";i.d(t,{BM:()=>N,DR:()=>R,Ff:()=>c,HT:()=>f,Hd:()=>x,J2:()=>H,J9:()=>d,JB:()=>E,KN:()=>C,Lh:()=>U,MP:()=>s,MZ:()=>M,O7:()=>T,Qm:()=>F,SB:()=>_,SZ:()=>S,Sf:()=>y,Si:()=>G,Zq:()=>Z,aY:()=>p,bc:()=>B,dE:()=>g,dn:()=>L,en:()=>Q,hB:()=>n,he:()=>I,hq:()=>a,jN:()=>O,ju:()=>h,mU:()=>P,mt:()=>z,oe:()=>m,rV:()=>A,tC:()=>q,tt:()=>j,tz:()=>$,u7:()=>u,uv:()=>l,vl:()=>D,wU:()=>b,yG:()=>k,yn:()=>v,z7:()=>w,zN:()=>o});var r=i(24293);let n=(0,r.Ps)`
  mutation adminSignIn($email: String!, $password: String!) {
    AdminSignIn(email: $email, password: $password) {
      token
      message
    }
  }
`,a=(0,r.Ps)`
  mutation addCategory($data: product_categories_insert_input!) {
    insert_product_categories_one(object: $data) {
      id
      title
      image_url
      created_at
      products_aggregate {
        aggregate {
          count
        }
      }
    }
  }
`,s=(0,r.Ps)`
  mutation addCategory($data: brands_insert_input!) {
    insert_brands_one(object: $data) {
      id
      title
      image_url
      created_at
      products_aggregate {
        aggregate {
          count
        }
      }
    }
  }
`,o=(0,r.Ps)`
  mutation addProduct(
    $title: String!
    $description_html: String!
    $brand_id: uuid!
    $category_id: uuid!
    $serial_number: String!
    $price: numeric!
    $product_medias: product_medias_arr_rel_insert_input!
  ) {
    insert_products_one(
      object: {
        title: $title
        description_html: $description_html
        brand_id: $brand_id
        category_id: $category_id
        serial_number: $serial_number
        price: $price
        product_medias: $product_medias
      }
    ) {
      id
    }
  }
`,d=(0,r.Ps)`
  mutation editProduct(
    $id: uuid!
    $title: String!
    $description_html: String!
    $brand_id: uuid!
    $category_id: uuid!
    $serial_number: String!
    $price: numeric!
  ) {
    update_products_by_pk(
      pk_columns: { id: $id }
      _set: {
        title: $title
        description_html: $description_html
        brand_id: $brand_id
        category_id: $category_id
        serial_number: $serial_number
        price: $price
      }
    ) {
      id
    }
  }
`,l=(0,r.Ps)`
  mutation addNews($data: news_insert_input!) {
    insert_news_one(object: $data) {
      id
      image_url
      body_html
      created_at
      news_category {
        title
        id
      }
      disabled
      news_category_id
      title
      updated_at
    }
  }
`,u=(0,r.Ps)`
  mutation deleteProduct($id: uuid!) {
    delete_products_by_pk(id: $id) {
      id
    }
  }
`,c=(0,r.Ps)`
  mutation deleteBrand($id: uuid!) {
    delete_brands_by_pk(id: $id) {
      id
    }
  }
`,p=(0,r.Ps)`
  mutation deleteProductCat($id: uuid!) {
    delete_product_categories_by_pk(id: $id) {
      id
    }
  }
`,m=(0,r.Ps)`
  mutation deleteNewCat($id: uuid!) {
    delete_news_categories_by_pk(id: $id) {
      id
    }
  }
`,_=(0,r.Ps)`
  mutation addNewCat($title: String!) {
    insert_news_categories_one(object: { title: $title }) {
      id
    }
  }
`,h=(0,r.Ps)`
  mutation deleteNews($id: uuid!) {
    delete_news_by_pk(id: $id) {
      id
    }
  }
`;(0,r.Ps)`
  mutation deleteInvoice($id: uuid!) {
    delete_invoices_by_pk(id: $id) {
      id
    }
  }
`;let f=(0,r.Ps)`
  mutation aa($id: uuid!) {
    delete_orders_by_pk(id: $id) {
      id
    }
  }
`;(0,r.Ps)`
  mutation deleteDealer($id: uuid!) {
    delete_dealers_by_pk(id: $id) {
      id
    }
  }
`,(0,r.Ps)`
  mutation addDealer($data: dealers_insert_input!) {
    insert_dealers_one(object: $data) {
      id
    }
  }
`;let x=(0,r.Ps)`
  mutation addNewProducts($data: news_related_products_insert_input!) {
    insert_news_related_products_one(object: $data) {
      id
    }
  }
`,g=(0,r.Ps)`
  mutation editNewProducts($id: uuid!, $data: news_set_input!) {
    update_news_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      image_url
      body_html
      created_at
      news_category {
        title
        id
      }
      disabled
      news_category_id
      title
      updated_at
    }
  }
`,v=(0,r.Ps)`
  mutation aa($news_id: uuid!) {
    delete_news_related_products(where: { news_id: { _eq: $news_id } }) {
      returning {
        id
      }
    }
  }
`,y=(0,r.Ps)`
  mutation aa($content_type: String!, $folder: String!) {
    getFileUploadUrl(content_type: $content_type, folder: $folder) {
      error
      message
      fileName
      fileUploadUrl
    }
  }
`,j=(0,r.Ps)`
  mutation orderStatus($order_id: uuid!, $status: String!) {
    updateOrderStatus(order_id: $order_id, status: $status) {
      message
    }
  }
`,b=(0,r.Ps)`
  mutation updateServiceStatus($service_token_id: uuid!, $status: String!) {
    updateServiceStatus(service_token_id: $service_token_id, status: $status) {
      message
    }
  }
`,$=(0,r.Ps)`
  mutation updateServiceStatus($is_warranty_valid: Boolean!, $service_fee: numeric!, $service_token_id: uuid!) {
    acceptServiceToken(
      is_warranty_valid: $is_warranty_valid
      service_fee: $service_fee
      service_token_id: $service_token_id
    ) {
      message
    }
  }
`,P=(0,r.Ps)`
  mutation rejectServiceToken($rejected_reason: String!, $service_token_id: uuid!) {
    rejectServiceToken(rejected_reason: $rejected_reason, service_token_id: $service_token_id) {
      message
    }
  }
`,S=(0,r.Ps)`
  mutation changeUserStatus($id: uuid!, $data: users_set_input!) {
    update_users_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      role
      status
    }
  }
`,w=(0,r.Ps)`
  mutation userStatus($user_id: uuid!, $is_verified: Boolean!) {
    updateUserStatus(user_id: $user_id, is_verified: $is_verified) {
      message
    }
  }
`,k=(0,r.Ps)`
  mutation updateQuotationStatus($quotation_id: uuid!, $status: String!) {
    updateQuotationStatus(quotation_id: $quotation_id, status: $status) {
      message
    }
  }
`,Z=(0,r.Ps)`
  mutation changeInvoiceStatus($id: uuid!, $data: invoices_set_input!) {
    update_invoices_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      status
    }
  }
`,N=(0,r.Ps)`
  mutation updateQuotationStatus($quotation_file_url: String!, $quotation_id: uuid!) {
    sendQuotationFIle(quotation_file_url: $quotation_file_url, quotation_id: $quotation_id) {
      message
    }
  }
`,q=(0,r.Ps)`
  mutation addPayment($amount: numeric!, $invoice_id: uuid!, $payment_date: timestamp!, $payment_method: String!) {
    addInvoicePayment(
      amount: $amount
      invoice_id: $invoice_id
      payment_date: $payment_date
      payment_method: $payment_method
    ) {
      message
    }
  }
`,C=(0,r.Ps)`
  mutation sendQInvoice($quotation_id: uuid!) {
    sendInvoice(quotation_id: $quotation_id) {
      message
    }
  }
`,D=(0,r.Ps)`
  mutation sendQuotationPdf($id: uuid!, $invoice_file_url: String!) {
    update_invoices_by_pk(pk_columns: { id: $id }, _set: { invoice_file_url: $invoice_file_url }) {
      id
    }
  }
`,M=(0,r.Ps)`
  mutation deleteAdmin($id: uuid!) {
    delete_admins_by_pk(id: $id) {
      id
    }
  }
`,R=(0,r.Ps)`
  mutation deleteServiceCenter($id: uuid!) {
    delete_service_centers_by_pk(id: $id) {
      id
    }
  }
`,E=(0,r.Ps)`
  mutation aa($email: String!, $password: String!, $name: String!, $role: String!) {
    AdminSignUp(email: $email, password: $password, name: $name, role: $role) {
      message
      token
    }
  }
`,A=(0,r.Ps)`
  mutation updateAdmin($id: uuid!, $data: admins_set_input!) {
    update_admins_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      name
      email
      role
    }
  }
`,O=(0,r.Ps)`
  mutation aa($name: String!, $password: String!, $role: String!, $phone: String!) {
    UserSignUp(name: $name, password: $password, role: $role, phone: $phone) {
      message
      token
    }
  }
`,T=(0,r.Ps)`
  mutation addSeriveCenter($data: service_centers_insert_input!) {
    insert_service_centers_one(object: $data) {
      id
      name
      phone
      address
      created_at
      updated_at
    }
  }
`,Q=(0,r.Ps)`
  mutation editService($id: uuid!, $data: service_tokens_set_input!) {
    update_service_tokens_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      service_fee
    }
  }
`,I=(0,r.Ps)`
  mutation editServiceCenter($id: uuid!, $data: service_centers_set_input!) {
    update_service_centers_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      name
      phone
      address
    }
  }
`,F=(0,r.Ps)`
  mutation deleteProductDiscount($id: uuid!) {
    delete_product_discounts_by_pk(id: $id) {
      id
    }
  }
`,z=(0,r.Ps)`
  mutation orderComplete($id: uuid!, $completion_photo_url: String!, $remark: String!) {
    update_orders_by_pk(
      pk_columns: { id: $id }
      _set: { completion_photo_url: $completion_photo_url, remark: $remark }
    ) {
      id
      completion_photo_url
      remark
    }
  }
`,U=(0,r.Ps)`
  mutation addDiscount($data: product_discounts_insert_input!) {
    insert_product_discounts_one(object: $data) {
      id
      min_order
      discount_type
      customer_type
      created_at
      updated_at
    }
  }
`,L=(0,r.Ps)`
  mutation updateProductDiscount($id: uuid!, $data: product_discounts_set_input!) {
    update_product_discounts_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      min_order
      discount_type
      customer_type
      created_at
      updated_at
    }
  }
`,B=(0,r.Ps)`
  mutation editCategory($id: uuid!, $data: product_categories_set_input!) {
    update_product_categories_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      title
      image_url
    }
  }
`,G=(0,r.Ps)`
  mutation eidtBrand($id: uuid!, $data: brands_set_input!) {
    update_brands_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      title
      image_url
    }
  }
`,H=(0,r.Ps)`
  mutation editNewCat($id: uuid!, $title: String!) {
    update_news_categories_by_pk(pk_columns: { id: $id }, _set: { title: $title }) {
      id
      title
    }
  }
`},76915:(e,t,i)=>{"use strict";i.d(t,{default:()=>E});var r=i(10326),n=i(32634),a=i(17577),s=i(35047),o=i(87700),d=i(19518),l=i(84187),u=i(19074),c=i(48260),p=i(25609),m=i(78077),_=i(99207),h=i(74723),f=i(18753),x=i(24443),g=i(19611),v=i(76865),y=i(57329),j=i(5330);let b=({open:e,handleClose:t,quotationData:i})=>{let[n,s]=(0,a.useState)(),[d]=(0,f.D)(x.Sf),[l]=(0,f.D)(x.BM),{setGlobalMsg:j}=(0,v.q)(),b=(0,a.useRef)(null),{control:$,reset:P,handleSubmit:S,formState:{errors:w}}=(0,h.cI)({defaultValues:{title:"",description:""}}),k=async e=>{try{let e=await d({variables:{content_type:"pdf",folder:"quotations"}}),t=await (0,g.c)(n[0],e.data.getFileUploadUrl.fileUploadUrl,"image"),r=await l({variables:{quotation_id:i.id,quotation_file_url:t}});console.log("res ",r),s(""),j("✅ Send Quotation file suceessful")}catch(e){j("❌ Send file error")}},Z=()=>{s(""),t()};return r.jsx(r.Fragment,{children:(0,r.jsxs)(u.ZP,{open:e,anchor:"right",variant:"temporary",onClose:Z,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(p.Z,{variant:"h5",children:"Send Quotation File"}),r.jsx(c.Z,{size:"small",onClick:()=>{t()},children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(_.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:S(e=>k(e)),className:"flex flex-col gap-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(m.Z,{size:"small",placeholder:"No file chosen",variant:"outlined",value:n?n[0].name:"",className:"flex-auto",InputProps:{readOnly:!0,endAdornment:n?r.jsx(y.Z,{position:"end",children:r.jsx(c.Z,{size:"small",edge:"end",onClick:()=>setFileName(""),children:r.jsx("i",{className:"ri-close-line"})})}):null}}),(0,r.jsxs)(o.Z,{component:"label",variant:"outlined",htmlFor:"contained-button-file",className:"min-is-fit",children:["Choose",r.jsx("input",{hidden:!0,id:"contained-button-file",type:"file",onChange:e=>{let{files:t}=e.target;t&&0!==t.length&&s(t)},ref:b})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(o.Z,{variant:"contained",type:"submit",children:"Add"}),r.jsx(o.Z,{variant:"outlined",color:"error",type:"reset",onClick:Z,children:"Discard"})]})]})})]})})},$=({open:e,handleClose:t,quotationData:i})=>{let[n,s]=(0,a.useState)(),[d]=(0,f.D)(x.Sf),[l]=(0,f.D)(x.KN),{setGlobalMsg:g}=(0,v.q)();(0,a.useRef)(null);let{control:y,reset:b,handleSubmit:$,formState:{errors:P}}=(0,h.cI)({defaultValues:{title:"",description:""}}),S=async e=>{try{await l({variables:{quotation_id:i.id,discounted_amount:e.price}}),g("✅ Send Quotation Invoice file suceessful")}catch(e){g("❌ Send file error")}},w=()=>{b({price:""}),t()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.ZP,{open:e,anchor:"right",variant:"temporary",onClose:w,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(p.Z,{variant:"h5",children:"Send Invoice "}),r.jsx(c.Z,{size:"small",onClick:()=>{t()},children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(_.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:$(e=>S(e)),className:"flex flex-col gap-5",children:[r.jsx(h.Qr,{name:"price",control:y,rules:{required:!0},render:({field:e})=>r.jsx(m.Z,{...e,fullWidth:!0,type:"number",label:"Amount",placeholder:"Enter discounted Amount",...P.price&&{error:!0,helperText:"This field is required."}})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(o.Z,{variant:"contained",type:"submit",children:"Send"}),r.jsx(o.Z,{variant:"outlined",color:"error",type:"reset",onClick:w,children:"Discard"})]})]})})]}),r.jsx(j.Z,{})]})},P=({open:e,handleClose:t,quotationData:i})=>{let[n,s]=(0,a.useState)(),[d]=(0,f.D)(x.Sf),[l]=(0,f.D)(x.BM),{setGlobalMsg:j}=(0,v.q)(),b=(0,a.useRef)(null),{control:$,reset:P,handleSubmit:S,formState:{errors:w}}=(0,h.cI)({defaultValues:{title:"",description:""}}),k=async e=>{try{let e=await d({variables:{content_type:"pdf",folder:"quotations"}}),t=await (0,g.c)(n[0],e.data.getFileUploadUrl.fileUploadUrl,"image");await l({variables:{quotation_id:i.id,quotation_file_url:t}}),s(""),j("✅ Send Quotation file suceessful")}catch(e){j("❌ Send file error")}},Z=()=>{s(""),t()};return r.jsx(r.Fragment,{children:(0,r.jsxs)(u.ZP,{open:e,anchor:"right",variant:"temporary",onClose:Z,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(p.Z,{variant:"h5",children:"Send Quotation File"}),r.jsx(c.Z,{size:"small",onClick:()=>{t()},children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(_.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:S(e=>k(e)),className:"flex flex-col gap-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(m.Z,{size:"small",placeholder:"No file chosen",variant:"outlined",value:n?n[0].name:"",className:"flex-auto",InputProps:{readOnly:!0,endAdornment:n?r.jsx(y.Z,{position:"end",children:r.jsx(c.Z,{size:"small",edge:"end",onClick:()=>setFileName(""),children:r.jsx("i",{className:"ri-close-line"})})}):null}}),(0,r.jsxs)(o.Z,{component:"label",variant:"outlined",htmlFor:"contained-button-file",className:"min-is-fit",children:["Choose",r.jsx("input",{hidden:!0,id:"contained-button-file",type:"file",onChange:e=>{let{files:t}=e.target;t&&0!==t.length&&s(t)},ref:b})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(o.Z,{variant:"contained",type:"submit",children:"Add"}),r.jsx(o.Z,{variant:"outlined",color:"error",type:"reset",onClick:Z,children:"Discard"})]})]})})]})})},S=({id:e,onButtonClick:t,quotationData:i})=>{let[n,u]=(0,a.useState)(!1),[c,p]=(0,a.useState)(!1),[m,_]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),{lang:x}=(0,s.useParams)();return(0,r.jsxs)(r.Fragment,{children:[("negotiation"===i.status||"accepted"===i.status)&&r.jsx(d.Z,{children:r.jsx(l.Z,{className:"flex flex-col gap-4",children:r.jsx(o.Z,{fullWidth:!0,color:"success",variant:"contained",className:"capitalize",startIcon:r.jsx("i",{className:"ri-send-plane-line"}),onClick:()=>p(!0),children:"Send Quotation File"})})}),r.jsx(P,{open:c,handleClose:()=>p(!1),quotationData:i}),r.jsx($,{open:h,handleClose:()=>f(!1),quotationData:i}),r.jsx(b,{open:m,handleClose:()=>_(!1),quotationData:i})]})};var w=i(64860),k=i(89307),Z=i.n(k);i(68780);var N=i(29084),q=i(13405),C=i(11594);let D=({quotationData:e})=>r.jsx(d.Z,{className:"previewCard",children:r.jsx(l.Z,{className:"sm:!p-12",children:(0,r.jsxs)(n.ZP,{container:!0,spacing:6,children:[r.jsx(n.ZP,{item:!0,xs:12,children:r.jsx("div",{className:"p-6 bg-actionHover rounded",children:(0,r.jsxs)("div",{className:"flex justify-between gap-y-4 flex-col sm:flex-row",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[r.jsx("div",{className:"flex items-center",children:r.jsx(w.Z,{})}),(0,r.jsxs)("div",{children:[r.jsx(p.Z,{color:"text.primary",children:"No. 297, Marlar Myaing Street,"}),r.jsx(p.Z,{color:"text.primary",children:"Tharkayta Industrial Zone,"}),r.jsx(p.Z,{color:"text.primary",children:"Yangon, Myanmar"}),r.jsx(p.Z,{color:"text.primary",children:"09- 428 694 996 09- 762 509 157"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-3",children:[r.jsx(p.Z,{variant:"h5",children:"Quotation"}),r.jsx(q.Z,{label:e?.status,color:C.c7[e.status],style:{textTransform:"capitalize"},variant:"tonal",size:"small"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)(p.Z,{color:"text.primary",children:["Quotation Number : ",e?.quotation_number]}),(0,r.jsxs)(p.Z,{color:"text.primary",children:["Date Due : ",new Date(e?.updated_at).toLocaleDateString()]})]})]})]})})}),r.jsx(n.ZP,{item:!0,xs:12,children:r.jsx(n.ZP,{container:!0,spacing:6,children:r.jsx(n.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[r.jsx(p.Z,{className:"font-medium",color:"text.primary",children:"Delivery Address To:"}),(0,r.jsxs)("div",{children:[r.jsx(p.Z,{children:e?.user?.orders[0]?.receiver_name}),r.jsx(p.Z,{className:"my-1",children:e?.user.orders[0]?.receiver_phone}),r.jsx(p.Z,{children:e?.user.orders[0]?.receiver_address})]})]})})})}),r.jsx(n.ZP,{item:!0,xs:12,children:r.jsx("div",{className:"overflow-x-auto border rounded",children:(0,r.jsxs)("table",{className:Z().table,children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-be",children:[r.jsx("th",{className:"!bg-transparent",children:"Product"}),r.jsx("th",{className:"!bg-transparent",children:"Brand"}),r.jsx("th",{className:"!bg-transparent",children:"Price"}),r.jsx("th",{className:"!bg-transparent",children:"Qty"})]})}),r.jsx("tbody",{children:e?.quotation_items.map((e,t)=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx(p.Z,{color:"text.primary",className:"w-60 text-wrap",children:e.product.title})}),r.jsx("td",{children:r.jsx(p.Z,{color:"text.primary",children:e.product.brand.title})}),r.jsx("td",{children:r.jsx(p.Z,{color:"text.primary",children:e.product.price})}),r.jsx("td",{children:r.jsx(p.Z,{color:"text.primary",children:e.quantity})})]},t))})]})})}),r.jsx(n.ZP,{item:!0,xs:12,children:r.jsx("div",{className:"flex justify-end flex-col gap-y-4 sm:flex-row",children:(0,r.jsxs)("div",{className:"min-is-[200px]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(p.Z,{children:"Subtotal:"}),r.jsx(p.Z,{className:"font-medium",color:"text.primary",children:e?.order?.items_total})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(p.Z,{children:"Discount:"}),r.jsx(p.Z,{className:"font-medium",color:"text.primary",children:e?.order?.discount})]}),r.jsx(_.Z,{className:"mlb-2"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(p.Z,{children:"Total:"}),r.jsx(p.Z,{className:"font-medium",color:"text.primary",children:e?.total})]})]})})}),r.jsx(n.ZP,{item:!0,xs:12,children:r.jsx(_.Z,{className:"border-dashed"})}),r.jsx(n.ZP,{item:!0,xs:12,children:(0,r.jsxs)(p.Z,{children:[(0,r.jsxs)(p.Z,{component:"span",className:"font-medium",color:"text.primary",children:["Dealer Remark :"," "]}),e.dealer_remark?e.dealer_remark:" - "]})})]})})}),M=({quotationData:e})=>{let{setGlobalMsg:t}=(0,v.q)(),[i]=(0,f.D)(x.yG,{refetchQueries:[N._n]}),[n]=(0,f.D)(x.KN,{refetchQueries:[N._n]}),a=async(e,r)=>{try{await i({variables:{quotation_id:e,status:r}}),t("✅ Change Quotation Status")}catch(e){console.log("Change Status Error ",e)}};return(0,r.jsxs)("div",{children:[r.jsx("div",{children:r.jsx(o.Z,{variant:"outlined",color:"primary",size:"large",fullWidth:!0,onClick:()=>a(e?.id,"negotiation"),children:"Negotiate"})}),(0,r.jsxs)("div",{className:"flex  justify-center gap-3 mt-4",children:[r.jsx(o.Z,{variant:"outlined",color:"info",size:"large",onClick:async()=>{await n({variables:{quotation_id:e.id}}),t("✅ Quotation Accepted")},children:"Accepted"}),r.jsx(o.Z,{variant:"outlined",color:"error",size:"large",onClick:()=>a(e?.id,"rejected"),children:"Reject"})]}),r.jsx(j.Z,{})]})};var R=i(84875);let E=()=>{let{id:e}=(0,s.useParams)(),{data:t}=(0,R.kJ)(N._n,{variables:{id:e}});return r.jsx(r.Fragment,{children:(0,r.jsxs)(n.ZP,{container:!0,spacing:6,children:[r.jsx(n.ZP,{item:!0,xs:12,md:9,children:r.jsx(D,{quotationData:t.quotations_by_pk})}),(0,r.jsxs)(n.ZP,{item:!0,xs:12,md:3,className:"flex flex-col gap-5",children:[r.jsx(M,{quotationData:t.quotations_by_pk}),r.jsx(S,{onButtonClick:()=>{window.print()},quotationData:t.quotations_by_pk})]})]})})}},89307:e=>{e.exports={table:"table_table__cB3AL",cellWithInput:"table_cellWithInput__N6u24"}},58585:(e,t,i)=>{"use strict";var r=i(61085);i.o(r,"redirect")&&i.d(t,{redirect:function(){return r.redirect}})},61085:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return r.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return r.permanentRedirect},redirect:function(){return r.redirect}});let r=i(83953),n=i(16399);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isNotFoundError:function(){return n},notFound:function(){return r}});let i="NEXT_NOT_FOUND";function r(){let e=Error(i);throw e.digest=i,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return i}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(i||(i={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,i)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RedirectType:function(){return r},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return _},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return p},isRedirectError:function(){return c},permanentRedirect:function(){return u},redirect:function(){return l}});let n=i(54580),a=i(72934),s=i(8586),o="NEXT_REDIRECT";function d(e,t,i){void 0===i&&(i=s.RedirectStatusCode.TemporaryRedirect);let r=Error(o);r.digest=o+";"+t+";"+e+";"+i+";";let a=n.requestAsyncStorage.getStore();return a&&(r.mutableCookies=a.mutableCookies),r}function l(e,t){void 0===t&&(t="replace");let i=a.actionAsyncStorage.getStore();throw d(e,t,(null==i?void 0:i.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let i=a.actionAsyncStorage.getStore();throw d(e,t,(null==i?void 0:i.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,i,r,n]=e.digest.split(";",4),a=Number(n);return t===o&&("replace"===i||"push"===i)&&"string"==typeof r&&!isNaN(a)&&a in s.RedirectStatusCode}function p(e){return c(e)?e.digest.split(";",3)[2]:null}function m(e){if(!c(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function _(e){if(!c(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38006:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var r=i(19510);i(58585);var n=i(68570);let a=(0,n.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\quotations\preview\index.jsx`),{__esModule:s,$$typeof:o}=a;a.default;let d=(0,n.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\quotations\preview\index.jsx#default`),l=async()=>r.jsx(d,{})},68780:()=>{},18753:(e,t,i)=>{"use strict";i.d(t,{D:()=>c});var r=i(65826),n=i(66126),a=i(34837),s=i(20208),o=i(76049),d=i(17267),l=i(88571),u=i(51047).Nq?n.useLayoutEffect:n.useEffect;function c(e,t){var i=(0,l.x)(null==t?void 0:t.client);(0,o.Vp)(e,o.n_.Mutation);var c=n.useState({called:!1,loading:!1,client:i}),p=c[0],m=c[1],_=n.useRef({result:p,mutationId:0,isMounted:!0,client:i,mutation:e,options:t});u(function(){Object.assign(_.current,{client:i,options:t,mutation:e})});var h=n.useCallback(function(e){void 0===e&&(e={});var t=_.current,i=t.options,n=t.mutation,o=(0,r.pi)((0,r.pi)({},i),{mutation:n}),l=e.client||_.current.client;_.current.result.loading||o.ignoreResults||!_.current.isMounted||m(_.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:l});var u=++_.current.mutationId,c=(0,a.J)(o,e);return l.mutate(c).then(function(t){var i,r,n=t.data,a=t.errors,o=a&&a.length>0?new d.cA({graphQLErrors:a}):void 0,p=e.onError||(null===(i=_.current.options)||void 0===i?void 0:i.onError);if(o&&p&&p(o,c),u===_.current.mutationId&&!c.ignoreResults){var h={called:!0,loading:!1,data:n,error:o,client:l};_.current.isMounted&&!(0,s.D)(_.current.result,h)&&m(_.current.result=h)}var f=e.onCompleted||(null===(r=_.current.options)||void 0===r?void 0:r.onCompleted);return o||null==f||f(t.data,c),t}).catch(function(t){if(u===_.current.mutationId&&_.current.isMounted){var i,r={loading:!1,error:t,data:void 0,called:!0,client:l};(0,s.D)(_.current.result,r)||m(_.current.result=r)}var n=e.onError||(null===(i=_.current.options)||void 0===i?void 0:i.onError);if(n)return n(t,c),{data:void 0,errors:t};throw t})},[]),f=n.useCallback(function(){if(_.current.isMounted){var e={called:!1,loading:!1,client:_.current.client};Object.assign(_.current,{mutationId:0,result:e}),m(e)}},[]);return n.useEffect(function(){var e=_.current;return e.isMounted=!0,function(){e.isMounted=!1}},[]),[h,(0,r.pi)({reset:f},p)]}},84875:(e,t,i)=>{"use strict";i.d(t,{kJ:()=>v});var r=i(65826),n=i(66126),a=i.t(n,2),s=i(67175),o=i(32015),d=i(17267),l=i(83757),u=i(88571),c=i(76049),p=Symbol.for("apollo.hook.wrappers"),m=i(37441),_=a.use||function(e){var t=(0,m.Bd)(e);switch(t.status){case"pending":throw t;case"rejected":throw t.reason;case"fulfilled":return t.value}},h=i(20208),f=i(26235),x=i(33736),g=Symbol.for("apollo.skipToken");function v(e,t){var i,r,n,a;return void 0===t&&(t=Object.create(null)),(i=y,(a=(n=(r=(0,u.x)("object"==typeof t?t.client:void 0).queryManager)&&r[p])&&n.useSuspenseQuery)?a(i):i)(e,t)}function y(e,t){var i,a,d,l,p,m,v,y=(0,u.x)(t.client),b=(0,f.Y)(y),$=(p=(i={client:y,query:e,options:t}).client,m=i.query,v=i.options,a=function(){if(v===g)return{query:m,fetchPolicy:"standby"};var e,t,i,n,a,o=v.fetchPolicy||(null===(a=p.defaultOptions.watchQuery)||void 0===a?void 0:a.fetchPolicy)||"cache-first",d=(0,r.pi)((0,r.pi)({},v),{fetchPolicy:o,query:m,notifyOnNetworkStatusChange:!1,nextFetchPolicy:void 0});return!1!==globalThis.__DEV__&&(t=d.query,i=d.fetchPolicy,n=d.returnPartialData,(0,c.Vp)(t,c.n_.Query),void 0===(e=i)&&(e="cache-first"),(0,s.kG)(["cache-first","network-only","no-cache","cache-and-network"].includes(e),58,e),"no-cache"===i&&n&&!1!==globalThis.__DEV__&&s.kG.warn(59)),v.skip&&(d.fetchPolicy="standby"),d},d=[p,v,m],(l=n.useRef()).current&&(0,h.D)(l.current.deps,d)||(l.current={value:a(),deps:d}),l.current.value),P=$.fetchPolicy,S=$.variables,w=t.queryKey,k=(0,r.ev)([e,(0,x.B)(S)],[].concat(void 0===w?[]:w),!0),Z=b.getQueryRef(k,function(){return y.watchQuery($)}),N=n.useState([Z.key,Z.promise]),q=N[0],C=N[1];q[0]!==Z.key&&(q[0]=Z.key,q[1]=Z.promise);var D=q[1];Z.didChangeOptions($)&&(q[1]=D=Z.applyOptions($)),n.useEffect(function(){var e=Z.retain(),t=Z.listen(function(e){C([Z.key,e])});return function(){t(),e()}},[Z]);var M=n.useMemo(function(){var e=j(Z.result);return{loading:!1,data:Z.result.data,networkStatus:e?o.Ie.error:o.Ie.ready,error:e}},[Z.result]),R="standby"===P?M:_(D),E=n.useCallback(function(e){var t=Z.fetchMore(e);return C([Z.key,Z.promise]),t},[Z]),A=n.useCallback(function(e){var t=Z.refetch(e);return C([Z.key,Z.promise]),t},[Z]),O=Z.observable.subscribeToMore;return n.useMemo(function(){return{client:y,data:R.data,error:j(R),networkStatus:R.networkStatus,fetchMore:E,refetch:A,subscribeToMore:O}},[y,E,A,R,O])}function j(e){return(0,l.O)(e.errors)?new d.cA({graphQLErrors:e.errors}):e.error}},76049:(e,t,i)=>{"use strict";i.d(t,{Vp:()=>c,n_:()=>r});var r,n,a=i(67175),s=i(86191),o=i(65910),d=i(54761);function l(e){var t;switch(e){case r.Query:t="Query";break;case r.Mutation:t="Mutation";break;case r.Subscription:t="Subscription"}return t}function u(e){n||(n=new s.s(o.Q.parser||1e3));var t,i,d=n.get(e);if(d)return d;(0,a.kG)(!!e&&!!e.kind,62,e);for(var l=[],u=[],c=[],p=[],m=0,_=e.definitions;m<_.length;m++){var h=_[m];if("FragmentDefinition"===h.kind){l.push(h);continue}if("OperationDefinition"===h.kind)switch(h.operation){case"query":u.push(h);break;case"mutation":c.push(h);break;case"subscription":p.push(h)}}(0,a.kG)(!l.length||u.length||c.length||p.length,63),(0,a.kG)(u.length+c.length+p.length<=1,64,e,u.length,p.length,c.length),i=u.length?r.Query:r.Mutation,u.length||c.length||(i=r.Subscription);var f=u.length?u:c.length?c:p;(0,a.kG)(1===f.length,65,e,f.length);var x=f[0];t=x.variableDefinitions||[];var g={name:x.name&&"Name"===x.name.kind?x.name.value:"data",type:i,variables:t};return n.set(e,g),g}function c(e,t){var i=u(e),r=l(t),n=l(i.type);(0,a.kG)(i.type===t,66,r,r,n)}(function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"})(r||(r={})),u.resetCache=function(){n=void 0},!1!==globalThis.__DEV__&&(0,d.zP)("parser",function(){return n?n.size:0})}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[8948,4471,4674,4366,8522,8077,4313,2825,1994,4723,9074,6860,7251],()=>i(19468));module.exports=r})();