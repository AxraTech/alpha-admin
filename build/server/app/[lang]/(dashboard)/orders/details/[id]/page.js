(()=>{var e={};e.id=844,e.ids=[844],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},67720:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(42811),a(88418),a(10634),a(35866);var s=a(23191),t=a(88716),i=a(37922),l=a.n(i),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(r,o);let d=["",{children:["[lang]",{children:["(dashboard)",{children:["orders",{children:["details",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,42811)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\orders\\details\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\orders\\details\\[id]\\page.jsx"],x="/[lang]/(dashboard)/orders/details/[id]/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/[lang]/(dashboard)/orders/details/[id]/page",pathname:"/[lang]/orders/details/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},95466:(e,r,a)=>{Promise.resolve().then(a.bind(a,20564))},98117:(e,r,a)=>{"use strict";a.d(r,{Z:()=>g});var s=a(45353),t=a(91367),i=a(17577),l=a(41135),n=a(88634),o=a(25609),d=a(91703),c=a(2791),x=a(64650),m=a(55733),p=a(10326);let h=["className","id"],u=e=>{let{classes:r}=e;return(0,n.Z)({root:["root"]},x.a,r)},j=(0,d.ZP)(o.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),g=i.forwardRef(function(e,r){let a=(0,c.i)({props:e,name:"MuiDialogTitle"}),{className:n,id:o}=a,d=(0,t.Z)(a,h),x=u(a),{titleId:g=o}=i.useContext(m.Z);return(0,p.jsx)(j,(0,s.Z)({component:"h2",className:(0,l.Z)(x.root,n),ownerState:a,ref:r,variant:"h6",id:null!=o?o:g},d))})},5330:(e,r,a)=>{"use strict";a.d(r,{Z:()=>l});var s=a(10326);a(17577);var t=a(38506),i=a(76865);let l=()=>{let{globalMsg:e,setGlobalMsg:r}=(0,i.q)();return s.jsx("div",{children:s.jsx(t.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>r(null),message:e})})}},20802:(e,r,a)=>{"use strict";a.d(r,{Q:()=>s});let s=e=>e.split(/\s/).reduce((e,r)=>e+=r.slice(0,1),"")},26734:(e,r,a)=>{"use strict";a.d(r,{c:()=>s});let s=async(e,r,a)=>{try{return(await fetch(r,{method:"PUT",headers:{"Content-Type":`${a}/*`,"x-amz-acl":"public-read"},body:e})).url.split("?")[0]}catch(e){throw alert(e),console.log(e),Error(e)}}},20564:(e,r,a)=>{"use strict";a.d(r,{default:()=>X});var s=a(10326),t=a(32634),i=a(87700),l=a(13405),n=a(25609);a(92474),a(4099);var o=a(18753),d=a(29084),c=a(24443),x=a(17577),m=a(5330),p=a(76865),h=a(69995),u=a(98117),j=a(28591),g=a(78077),v=a(10163),f=a(26734);let Z={completed:"success",canceled:"error",refunded:"warning",delivering:"primary",preparing:"info",ordered:"secondary"},b=({orderData:e})=>{let{setGlobalMsg:r}=(0,p.q)(),[a,t]=(0,x.useState)(!1),[b]=(0,o.D)(c.HT),[y]=(0,o.D)(c.tt,{refetchQueries:[d.Nz]}),[w]=(0,o.D)(c.mt),[P]=(0,o.D)(c.Sf),[N,_]=(0,x.useState)();(0,x.useRef)(null);let C=async(e,a)=>{try{await y({variables:{order_id:e,status:a}}),r("Change Order Status")}catch(e){console.log("Change Status Error ",e)}};return(0,s.jsxs)("div",{className:"flex flex-wrap justify-between sm:items-center max-sm:flex-col gap-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.Z,{variant:"h5",children:`Order - ${e?.order_number}`}),s.jsx(l.Z,{variant:"tonal",label:e?.status,color:Z[e?.status||""],size:"small"})]}),s.jsx(n.Z,{children:`${new Date(e?.ordered_at??"").toLocaleString()}`})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(i.Z,{color:"error",variant:"outlined",onClick:()=>t(!0),children:"Complete"}),s.jsx(i.Z,{variant:"outlined",color:"error",onClick:()=>C(e.id,"canceled"),children:"Cancel"}),s.jsx(i.Z,{variant:"outlined",color:"primary",onClick:()=>C(e.id,"delivering"),children:"Delivering"}),s.jsx(i.Z,{variant:"outlined",color:"info",onClick:()=>C(e.id,"preparing"),children:"Preparing"})]}),s.jsx("div",{children:(0,s.jsxs)(h.Z,{fullWidth:"md",open:a,onClose:()=>t(!1),PaperProps:{component:"form",onSubmit:async a=>{a.preventDefault();let s=Object.fromEntries(new FormData(a.currentTarget).entries()),i=s.remark,l=s.image,n=await P({variables:{content_type:"image",folder:"products"}}),o=await (0,f.c)(l,n.data.getFileUploadUrl.fileUploadUrl,"image");await w({variables:{completion_photo_url:o,id:e.id,remark:i}}),await C(e.id,"completed"),r("âœ… Image Send Successfull"),t(!1)}},children:[s.jsx(u.Z,{children:"Order Complete"}),(0,s.jsxs)(j.Z,{children:[s.jsx(g.Z,{multiline:!0,autoFocus:!0,margin:"dense",id:"remark",name:"remark",label:"Remark",fullWidth:!0,variant:"standard"}),s.jsx("br",{}),s.jsx("br",{}),s.jsx("br",{}),s.jsx(g.Z,{type:"file",autoFocus:!0,margin:"dense",id:"image",name:"image",alt:"image",fullWidth:!0,variant:"standard"})]}),(0,s.jsxs)(v.Z,{children:[s.jsx(i.Z,{color:"error",onClick:()=>t(!1),children:"Cancel"}),s.jsx(i.Z,{color:"success",type:"submit",children:"OK"})]})]})}),s.jsx(m.Z,{})]})};var y=a(19518),w=a(67461),P=a(84187),N=a(48029),_=a.n(N),C=a(5606),D=a(11798),S=a(86508);a(81547);var A=a(89307),R=a.n(A);let O=(e,r,a,s)=>{let t=(0,C.O4)(e.getValue(r),a);return s({itemRank:t}),t.passed},M=(0,D.Cl)(),T=({orderData:e})=>{let[r,a]=(0,x.useState)({}),[t,i]=(0,x.useState)(e.order_items),[l,o]=(0,x.useState)(""),d=(0,x.useMemo)(()=>[M.accessor("title",{header:"Product",cell:({row:e})=>s.jsx("div",{className:"flex items-center gap-3 text-wrap",children:(0,s.jsxs)("div",{className:"flex flex-col items-start  ",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium w-60 text-wrap",children:e.original.product.title}),s.jsx(n.Z,{variant:"body2",children:e.original.product.brand.title})]})})}),M.accessor("order_items?.unit_price",{header:"Price",cell:({row:e})=>(0,s.jsxs)(n.Z,{children:[`${e.original.unit_price.toLocaleString()}`," Ks"]})}),M.accessor("quantity",{header:"Qty",cell:({row:e})=>s.jsx(n.Z,{children:`${e.original.quantity}`})}),M.accessor("total",{header:"Total",cell:({row:e})=>(0,s.jsxs)(n.Z,{children:[`${e.original.total?.toLocaleString()}`," Ks"]})})],[]),c=(0,S.b7)({data:t,columns:d,filterFns:{fuzzy:O},state:{rowSelection:r,globalFilter:l},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:O,onRowSelectionChange:a,getCoreRowModel:(0,D.sC)(),onGlobalFilterChange:o,getFilteredRowModel:(0,D.vL)(),getSortedRowModel:(0,D.tj)(),getPaginationRowModel:(0,D.G_)(),getFacetedRowModel:(0,D.o6)(),getFacetedUniqueValues:(0,D.JG)(),getFacetedMinMaxValues:(0,D.HO)()});return s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:R().table,children:[s.jsx("thead",{children:c.getHeaderGroups().map(e=>s.jsx("tr",{children:e.headers.map(e=>s.jsx("th",{children:e.isPlaceholder?null:s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:_()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,S.ie)(e.column.columnDef.header,e.getContext()),{asc:s.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:s.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),c.getFilteredRowModel().rows?.length===0?s.jsx("tbody",{children:s.jsx("tr",{children:s.jsx("td",{colSpan:c.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):s.jsx("tbody",{className:"border-be",children:c.getRowModel().rows.slice(0,c.getState().pagination.pageSize).map(e=>s.jsx("tr",{className:_()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>s.jsx("td",{className:"first:is-14",children:(0,S.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})},k=({orderData:e})=>(0,s.jsxs)(y.Z,{children:[s.jsx(w.Z,{title:"Order Details"}),s.jsx(T,{orderData:e}),s.jsx(P.Z,{className:"flex justify-end",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[s.jsx(n.Z,{color:"text.primary",className:"min-is-[100px]",children:"Subtotal:"}),(0,s.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:[e?.items_total?.toLocaleString()," Ks"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium min-is-[100px]",children:"Total:"}),(0,s.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:[e?.total?.toLocaleString()," Ks"]})]})]})})]});var q=a(36925),L=a(75888),F=a(8273),E=a(36246),H=a(22869),G=a(91703),z=a(87164);let J=(0,G.ZP)(z.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"},"& .MuiTimelineContent-root:last-child":{paddingBottom:0},"&:nth-last-child(2) .MuiTimelineConnector-root":{backgroundColor:"transparent",borderInlineStart:"1px dashed var(--mui-palette-divider)"},"& .MuiTimelineConnector-root":{backgroundColor:"var(--mui-palette-primary-main)"}}}),I=({orderData:e})=>(0,s.jsxs)(y.Z,{children:[s.jsx(w.Z,{title:"Delivery Activity"}),s.jsx(P.Z,{children:(0,s.jsxs)(J,{children:[(0,s.jsxs)(L.Z,{children:[(0,s.jsxs)(E.Z,{children:[s.jsx(q.Z,{color:"primary"}),s.jsx(H.Z,{})]}),(0,s.jsxs)(F.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[(0,s.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:["Order was placed (Order ID: #",e.order_number,")"]}),s.jsx(n.Z,{variant:"caption",children:new Date(e.ordered_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order has been placed successfully"})]})]}),(0,s.jsxs)(L.Z,{children:[(0,s.jsxs)(E.Z,{children:[s.jsx(q.Z,{color:null===e.preparing_at?"grey":"primary"}),s.jsx(H.Z,{})]}),(0,s.jsxs)(F.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Preparing"}),null!==e.preparing_at&&s.jsx(n.Z,{variant:"caption",children:new Date(e?.preparing_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order is preparing"})]})]}),(0,s.jsxs)(L.Z,{children:[(0,s.jsxs)(E.Z,{children:[s.jsx(q.Z,{color:null===e.delivering_at?"grey":"primary"}),s.jsx(H.Z,{})]}),(0,s.jsxs)(F.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Delivering"}),null!==e.delivering_at&&s.jsx(n.Z,{variant:"caption",children:new Date(e?.delivering_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order is delivering "})]})]}),(0,s.jsxs)(L.Z,{children:[(0,s.jsxs)(E.Z,{children:[s.jsx(q.Z,{color:null===e.completed_at?"grey":"primary"}),s.jsx(H.Z,{})]}),(0,s.jsxs)(F.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Completed"}),null!==e.completed_at&&s.jsx(n.Z,{variant:"caption",children:new Date(e?.completed_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order has been completed "})]})]})]})})]});var U=a(45643);a(40529),a(72501);var $=a(20802);let K=e=>{let{avatar:r,customer:a}=e;return r?s.jsx(U.Z,{src:r}):s.jsx(U.Z,{children:(0,$.Q)(a)})},V=({orderData:e})=>s.jsx(y.Z,{children:(0,s.jsxs)(P.Z,{className:"flex flex-col gap-6",children:[s.jsx(n.Z,{variant:"h5",children:"Customer details"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[K({avatar:e?.avatar??"",customer:e?.user.profile_picture_url??""}),s.jsx("div",{className:"flex flex-col",children:s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:e?.user.name})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Contact info"})}),(0,s.jsxs)(n.Z,{children:["Mobile : ",e.user.phone]})]})]})});a(31094);let Q=({orderData:e})=>s.jsx(y.Z,{children:(0,s.jsxs)(P.Z,{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(n.Z,{variant:"h5",children:"Delivery Address"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)(n.Z,{children:["Receiver Name : ",e.receiver_name]}),s.jsx("br",{}),(0,s.jsxs)(n.Z,{children:["Receiver Phone : ",e.receiver_phone]}),s.jsx("br",{}),(0,s.jsxs)(n.Z,{children:["Receiver Address : ",e.receiver_address]})]})]})});var W=a(35047),B=a(84875);let X=()=>{let{id:e}=(0,W.useParams)(),{data:r}=(0,B.kJ)(d.Nz,{variables:{id:e}}),a=r?.orders_by_pk;return(0,s.jsxs)(t.ZP,{container:!0,spacing:6,children:[s.jsx(t.ZP,{item:!0,xs:12,children:s.jsx(b,{orderData:a})}),s.jsx(t.ZP,{item:!0,xs:12,md:8,children:(0,s.jsxs)(t.ZP,{container:!0,spacing:6,children:[s.jsx(t.ZP,{item:!0,xs:12,children:s.jsx(k,{orderData:a})}),s.jsx(t.ZP,{item:!0,xs:12,children:s.jsx(I,{orderData:a})})]})}),s.jsx(t.ZP,{item:!0,xs:12,md:4,children:(0,s.jsxs)(t.ZP,{container:!0,spacing:6,children:[s.jsx(t.ZP,{item:!0,xs:12,children:s.jsx(V,{orderData:a})}),s.jsx(t.ZP,{item:!0,xs:12,children:s.jsx(Q,{orderData:a})})]})})]})}},42811:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var s=a(19510);a(58585);var t=a(68570);let i=(0,t.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\orders\details\index.jsx`),{__esModule:l,$$typeof:n}=i;i.default;let o=(0,t.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\orders\details\index.jsx#default`),d=async()=>s.jsx(o,{})}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[8948,4471,4674,4366,8522,8077,4313,2825,1994,1798,8117,3054,7115,3954,4662,6860,7251,9345,2745],()=>a(67720));module.exports=s})();