(()=>{var e={};e.id=844,e.ids=[844],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},67720:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),s(42811),s(88418),s(10634),s(35866);var a=s(23191),t=s(88716),i=s(37922),l=s.n(i),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let c=["",{children:["[lang]",{children:["(dashboard)",{children:["orders",{children:["details",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,42811)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\orders\\details\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\orders\\details\\[id]\\page.jsx"],x="/[lang]/(dashboard)/orders/details/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/[lang]/(dashboard)/orders/details/[id]/page",pathname:"/[lang]/orders/details/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},95466:(e,r,s)=>{Promise.resolve().then(s.bind(s,20564))},51862:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});var a=s(17577);let t=function(e,r){var s,t;return a.isValidElement(e)&&-1!==r.indexOf(null!=(s=e.type.muiName)?s:null==(t=e.type)||null==(t=t._payload)||null==(t=t.value)?void 0:t.muiName)}},20802:(e,r,s)=>{"use strict";s.d(r,{Q:()=>a});let a=e=>e.split(/\s/).reduce((e,r)=>e+=r.slice(0,1),"")},20564:(e,r,s)=>{"use strict";s.d(r,{default:()=>V});var a=s(10326),t=s(32634),i=s(87700),l=s(13405),n=s(25609);s(92474),s(4099);var d=s(18753),c=s(29084),o=s(24443),x=s(17577),m=s(76865);let p={completed:"success",canceled:"error",refunded:"warning",delivering:"primary",preparing:"info",ordered:"secondary"},h=({orderData:e})=>{let{setGlobalMsg:r}=(0,m.q)(),[s]=(0,d.D)(o.HT),[t]=(0,d.D)(o.tt,{refetchQueries:[c.Nz]}),x=async(e,s)=>{try{await t({variables:{order_id:e,status:s}}),r("Change Order Status")}catch(e){console.log("Change Status Error ",e)}};return(0,a.jsxs)("div",{className:"flex flex-wrap justify-between sm:items-center max-sm:flex-col gap-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n.Z,{variant:"h5",children:`Order - ${e?.order_number}`}),a.jsx(l.Z,{variant:"tonal",label:e?.status,color:p[e?.status||""],size:"small"})]}),a.jsx(n.Z,{children:`${new Date(e?.ordered_at??"").toLocaleString()}`})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(i.Z,{variant:"outlined",color:"success",onClick:()=>x(e.id,"completed"),children:"Complete"}),a.jsx(i.Z,{variant:"outlined",color:"error",onClick:()=>x(e.id,"canceled"),children:"Cancel"}),a.jsx(i.Z,{variant:"outlined",color:"primary",onClick:()=>x(e.id,"delivering"),children:"Delivering"}),a.jsx(i.Z,{variant:"outlined",color:"info",onClick:()=>x(e.id,"preparing"),children:"Preparing"})]})]})};var u=s(19518),j=s(67461),g=s(84187),v=s(48029),f=s.n(v),Z=s(5606),b=s(11798),y=s(86508);s(81547);var N=s(89307),P=s.n(N);let w=(e,r,s,a)=>{let t=(0,Z.O4)(e.getValue(r),s);return a({itemRank:t}),t.passed},_=(0,b.Cl)(),C=({orderData:e})=>{let[r,s]=(0,x.useState)({}),[t,i]=(0,x.useState)(e.order_items),[l,d]=(0,x.useState)(""),c=(0,x.useMemo)(()=>[_.accessor("title",{header:"Product",cell:({row:e})=>a.jsx("div",{className:"flex items-center gap-3 text-wrap",children:(0,a.jsxs)("div",{className:"flex flex-col items-start  ",children:[a.jsx(n.Z,{color:"text.primary",className:"font-medium w-60 text-wrap",children:e.original.product.title}),a.jsx(n.Z,{variant:"body2",children:e.original.product.brand.title})]})})}),_.accessor("order_items?.unit_price",{header:"Price",cell:({row:e})=>(0,a.jsxs)(n.Z,{children:[`${e.original.unit_price.toLocaleString()}`," Ks"]})}),_.accessor("quantity",{header:"Qty",cell:({row:e})=>a.jsx(n.Z,{children:`${e.original.quantity}`})}),_.accessor("total",{header:"Total",cell:({row:e})=>(0,a.jsxs)(n.Z,{children:[`${e.original.total?.toLocaleString()}`," Ks"]})})],[]),o=(0,y.b7)({data:t,columns:c,filterFns:{fuzzy:w},state:{rowSelection:r,globalFilter:l},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:w,onRowSelectionChange:s,getCoreRowModel:(0,b.sC)(),onGlobalFilterChange:d,getFilteredRowModel:(0,b.vL)(),getSortedRowModel:(0,b.tj)(),getPaginationRowModel:(0,b.G_)(),getFacetedRowModel:(0,b.o6)(),getFacetedUniqueValues:(0,b.JG)(),getFacetedMinMaxValues:(0,b.HO)()});return a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:P().table,children:[a.jsx("thead",{children:o.getHeaderGroups().map(e=>a.jsx("tr",{children:e.headers.map(e=>a.jsx("th",{children:e.isPlaceholder?null:a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:f()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,y.ie)(e.column.columnDef.header,e.getContext()),{asc:a.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:a.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),o.getFilteredRowModel().rows?.length===0?a.jsx("tbody",{children:a.jsx("tr",{children:a.jsx("td",{colSpan:o.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):a.jsx("tbody",{className:"border-be",children:o.getRowModel().rows.slice(0,o.getState().pagination.pageSize).map(e=>a.jsx("tr",{className:f()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>a.jsx("td",{className:"first:is-14",children:(0,y.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})},D=({orderData:e})=>(0,a.jsxs)(u.Z,{children:[a.jsx(j.Z,{title:"Order Details"}),a.jsx(C,{orderData:e}),a.jsx(g.Z,{className:"flex justify-end",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-12",children:[a.jsx(n.Z,{color:"text.primary",className:"min-is-[100px]",children:"Subtotal:"}),(0,a.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:[e?.items_total?.toLocaleString()," Ks"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-12",children:[a.jsx(n.Z,{color:"text.primary",className:"min-is-[100px]",children:"Delivery Fee:"}),a.jsx(n.Z,{color:"text.primary",className:"font-medium",children:e?.delivery_fee?.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex items-center gap-12",children:[a.jsx(n.Z,{color:"text.primary",className:"font-medium min-is-[100px]",children:"Total:"}),(0,a.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:[e?.total?.toLocaleString()," Ks"]})]})]})})]});var S=s(36925),A=s(75888),R=s(8273),O=s(36246),L=s(22869),M=s(91703),q=s(87164);let T=(0,M.ZP)(q.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"},"& .MuiTimelineContent-root:last-child":{paddingBottom:0},"&:nth-last-child(2) .MuiTimelineConnector-root":{backgroundColor:"transparent",borderInlineStart:"1px dashed var(--mui-palette-divider)"},"& .MuiTimelineConnector-root":{backgroundColor:"var(--mui-palette-primary-main)"}}}),k=({orderData:e})=>(0,a.jsxs)(u.Z,{children:[a.jsx(j.Z,{title:"Delivery Activity"}),a.jsx(g.Z,{children:(0,a.jsxs)(T,{children:[(0,a.jsxs)(A.Z,{children:[(0,a.jsxs)(O.Z,{children:[a.jsx(S.Z,{color:"primary"}),a.jsx(L.Z,{})]}),(0,a.jsxs)(R.Z,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[(0,a.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:["Order was placed (Order ID: #",e.order_number,")"]}),a.jsx(n.Z,{variant:"caption",children:new Date(e.ordered_at).toLocaleString()})]}),a.jsx(n.Z,{className:"mbe-2",children:"Order has been placed successfully"})]})]}),(0,a.jsxs)(A.Z,{children:[(0,a.jsxs)(O.Z,{children:[a.jsx(S.Z,{color:null===e.preparing_at?"grey":"primary"}),a.jsx(L.Z,{})]}),(0,a.jsxs)(R.Z,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[a.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Preparing"}),null!==e.preparing_at&&a.jsx(n.Z,{variant:"caption",children:new Date(e?.preparing_at).toLocaleString()})]}),a.jsx(n.Z,{className:"mbe-2",children:"Order is preparing"})]})]}),(0,a.jsxs)(A.Z,{children:[(0,a.jsxs)(O.Z,{children:[a.jsx(S.Z,{color:null===e.delivering_at?"grey":"primary"}),a.jsx(L.Z,{})]}),(0,a.jsxs)(R.Z,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[a.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Delivering"}),null!==e.delivering_at&&a.jsx(n.Z,{variant:"caption",children:new Date(e?.delivering_at).toLocaleString()})]}),a.jsx(n.Z,{className:"mbe-2",children:"Order is delivering "})]})]}),(0,a.jsxs)(A.Z,{children:[(0,a.jsxs)(O.Z,{children:[a.jsx(S.Z,{color:null===e.completed_at?"grey":"primary"}),a.jsx(L.Z,{})]}),(0,a.jsxs)(R.Z,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[a.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Completed"}),null!==e.completed_at&&a.jsx(n.Z,{variant:"caption",children:new Date(e?.completed_at).toLocaleString()})]}),a.jsx(n.Z,{className:"mbe-2",children:"Order has been completed "})]})]})]})})]});var E=s(45643);s(40529),s(72501);var F=s(20802);let G=e=>{let{avatar:r,customer:s}=e;return r?a.jsx(E.Z,{src:r}):a.jsx(E.Z,{children:(0,F.Q)(s)})},H=({orderData:e})=>a.jsx(u.Z,{children:(0,a.jsxs)(g.Z,{className:"flex flex-col gap-6",children:[a.jsx(n.Z,{variant:"h5",children:"Customer details"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[G({avatar:e?.avatar??"",customer:e?.user.profile_picture_url??""}),a.jsx("div",{className:"flex flex-col",children:a.jsx(n.Z,{color:"text.primary",className:"font-medium",children:e?.user.name})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Contact info"})}),(0,a.jsxs)(n.Z,{children:["Mobile : ",e.user.phone]})]})]})});s(31094);let J=({orderData:e})=>a.jsx(u.Z,{children:(0,a.jsxs)(g.Z,{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx(n.Z,{variant:"h5",children:"Delivery Address"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)(n.Z,{children:["Receiver Name : ",e.receiver_name]}),a.jsx("br",{}),(0,a.jsxs)(n.Z,{children:["Receiver Phone : ",e.receiver_phone]}),a.jsx("br",{}),(0,a.jsxs)(n.Z,{children:["Receiver Address : ",e.receiver_address]})]})]})});var z=s(35047),I=s(84875);let V=()=>{let{id:e}=(0,z.useParams)(),{data:r}=(0,I.kJ)(c.Nz,{variables:{id:e}}),s=r?.orders_by_pk;return(0,a.jsxs)(t.ZP,{container:!0,spacing:6,children:[a.jsx(t.ZP,{item:!0,xs:12,children:a.jsx(h,{orderData:s})}),a.jsx(t.ZP,{item:!0,xs:12,md:8,children:(0,a.jsxs)(t.ZP,{container:!0,spacing:6,children:[a.jsx(t.ZP,{item:!0,xs:12,children:a.jsx(D,{orderData:s})}),a.jsx(t.ZP,{item:!0,xs:12,children:a.jsx(k,{orderData:s})})]})}),a.jsx(t.ZP,{item:!0,xs:12,md:4,children:(0,a.jsxs)(t.ZP,{container:!0,spacing:6,children:[a.jsx(t.ZP,{item:!0,xs:12,children:a.jsx(H,{orderData:s})}),a.jsx(t.ZP,{item:!0,xs:12,children:a.jsx(J,{orderData:s})})]})})]})}},42811:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(19510);s(58585);var t=s(68570);let i=(0,t.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\orders\details\index.jsx`),{__esModule:l,$$typeof:n}=i;i.default;let d=(0,t.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\orders\details\index.jsx#default`),c=async()=>a.jsx(d,{})}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[8948,4471,4674,4366,8522,4313,2825,1994,1798,8117,3054,4696,4662,6860,7251,9345,2745],()=>s(67720));module.exports=a})();