(()=>{var e={};e.id=844,e.ids=[844],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},90217:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d}),a(87063),a(5114),a(32687),a(85133);var s=a(79193),i=a(71854),t=a(33997),l=a.n(t),n=a(73320),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(r,c);let d=["",{children:["[lang]",{children:["(dashboard)",{children:["orders",{children:["details",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,87063)),"/home/axra/AXRA/office-cicd/alpha-admin/src/app/[lang]/(dashboard)/orders/details/[id]/page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5114)),"/home/axra/AXRA/office-cicd/alpha-admin/src/app/[lang]/(dashboard)/layout.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,32687)),"/home/axra/AXRA/office-cicd/alpha-admin/src/app/[lang]/layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,85133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/home/axra/AXRA/office-cicd/alpha-admin/src/app/[lang]/(dashboard)/orders/details/[id]/page.jsx"],x="/[lang]/(dashboard)/orders/details/[id]/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/[lang]/(dashboard)/orders/details/[id]/page",pathname:"/[lang]/orders/details/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64419:(e,r,a)=>{Promise.resolve().then(a.bind(a,61746))},4098:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});var s=a(618);let i=function(e,r){var a,i;return s.isValidElement(e)&&-1!==r.indexOf(null!=(a=e.type.muiName)?a:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},26808:(e,r,a)=>{"use strict";a.d(r,{Q:()=>s});let s=e=>e.split(/\s/).reduce((e,r)=>e+=r.slice(0,1),"")},61746:(e,r,a)=>{"use strict";a.d(r,{default:()=>$});var s=a(27486),i=a(97687),t=a(15532),l=a(52839),n=a(30675);a(5632),a(36839);var c=a(38860),d=a(25009),o=a(66718),x=a(618),m=a(22405);let p={completed:"success",canceled:"error",refunded:"warning",delivering:"primary",preparing:"info",ordered:"secondary"},h=({orderData:e})=>{let{setGlobalMsg:r}=(0,m.q)(),[a]=(0,c.D)(o.HT),[i]=(0,c.D)(o.tt,{refetchQueries:[d.Nz]}),x=async(e,a)=>{try{await i({variables:{order_id:e,status:a}}),r("Change Order Status")}catch(e){console.log("Change Status Error ",e)}};return(0,s.jsxs)("div",{className:"flex flex-wrap justify-between sm:items-center max-sm:flex-col gap-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.Z,{variant:"h5",children:`Order - ${e?.order_number}`}),s.jsx(l.Z,{variant:"tonal",label:e?.status,color:p[e?.status||""],size:"small"})]}),s.jsx(n.Z,{children:`${new Date(e?.ordered_at??"").toLocaleString()}`})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(t.Z,{variant:"outlined",color:"success",onClick:()=>x(e.id,"completed"),children:"Complete"}),s.jsx(t.Z,{variant:"outlined",color:"error",onClick:()=>x(e.id,"canceled"),children:"Cancel"}),s.jsx(t.Z,{variant:"outlined",color:"warning",onClick:()=>x(e.id,"refunded"),children:"Refund"}),s.jsx(t.Z,{variant:"outlined",color:"primary",onClick:()=>x(e.id,"delivering"),children:"Delivering"}),s.jsx(t.Z,{variant:"outlined",color:"info",onClick:()=>x(e.id,"preparing"),children:"Preparing"})]})]})};var u=a(42453),j=a(80018),g=a(35549),f=a(19396),v=a.n(f),Z=a(61359),y=a(36514),b=a(57229);a(36858);var N=a(31538),w=a.n(N);let _=(e,r,a,s)=>{let i=(0,Z.O4)(e.getValue(r),a);return s({itemRank:i}),i.passed},P=(0,y.Cl)(),S=({orderData:e})=>{let[r,a]=(0,x.useState)({}),[i,t]=(0,x.useState)(e.order_items),[l,c]=(0,x.useState)(""),d=(0,x.useMemo)(()=>[P.accessor("title",{header:"Product",cell:({row:e})=>s.jsx("div",{className:"flex items-center gap-3 text-wrap",children:(0,s.jsxs)("div",{className:"flex flex-col items-start  ",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium w-60 text-wrap",children:e.original.product.title}),s.jsx(n.Z,{variant:"body2",children:e.original.product.brand.title})]})})}),P.accessor("order_items?.unit_price",{header:"Price",cell:({row:e})=>(0,s.jsxs)(n.Z,{children:[`${e.original.unit_price.toLocaleString()}`," Ks"]})}),P.accessor("quantity",{header:"Qty",cell:({row:e})=>s.jsx(n.Z,{children:`${e.original.quantity}`})}),P.accessor("total",{header:"Total",cell:({row:e})=>(0,s.jsxs)(n.Z,{children:[`${e.original.total?.toLocaleString()}`," Ks"]})})],[]),o=(0,b.b7)({data:i,columns:d,filterFns:{fuzzy:_},state:{rowSelection:r,globalFilter:l},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:_,onRowSelectionChange:a,getCoreRowModel:(0,y.sC)(),onGlobalFilterChange:c,getFilteredRowModel:(0,y.vL)(),getSortedRowModel:(0,y.tj)(),getPaginationRowModel:(0,y.G_)(),getFacetedRowModel:(0,y.o6)(),getFacetedUniqueValues:(0,y.JG)(),getFacetedMinMaxValues:(0,y.HO)()});return s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:w().table,children:[s.jsx("thead",{children:o.getHeaderGroups().map(e=>s.jsx("tr",{children:e.headers.map(e=>s.jsx("th",{children:e.isPlaceholder?null:s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:v()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,b.ie)(e.column.columnDef.header,e.getContext()),{asc:s.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:s.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),o.getFilteredRowModel().rows?.length===0?s.jsx("tbody",{children:s.jsx("tr",{children:s.jsx("td",{colSpan:o.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):s.jsx("tbody",{className:"border-be",children:o.getRowModel().rows.slice(0,o.getState().pagination.pageSize).map(e=>s.jsx("tr",{className:v()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>s.jsx("td",{className:"first:is-14",children:(0,b.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})},C=({orderData:e})=>(0,s.jsxs)(u.Z,{children:[s.jsx(j.Z,{title:"Order Details"}),s.jsx(S,{orderData:e}),s.jsx(g.Z,{className:"flex justify-end",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[s.jsx(n.Z,{color:"text.primary",className:"min-is-[100px]",children:"Subtotal:"}),(0,s.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:[e?.items_total?.toLocaleString()," Ks"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[s.jsx(n.Z,{color:"text.primary",className:"min-is-[100px]",children:"Delivery Fee:"}),s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:e?.delivery_fee?.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium min-is-[100px]",children:"Total:"}),(0,s.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:[e?.total?.toLocaleString()," Ks"]})]})]})})]});var R=a(57158),D=a(42795),A=a(6425),M=a(51585),q=a(18876),k=a(6593),O=a(27673);let F=(0,k.ZP)(O.Z)({paddingLeft:0,paddingRight:0,"& .MuiTimelineItem-root":{width:"100%","&:before":{display:"none"},"& .MuiTimelineContent-root:last-child":{paddingBottom:0},"&:nth-last-child(2) .MuiTimelineConnector-root":{backgroundColor:"transparent",borderInlineStart:"1px dashed var(--mui-palette-divider)"},"& .MuiTimelineConnector-root":{backgroundColor:"var(--mui-palette-primary-main)"}}}),L=({orderData:e})=>(0,s.jsxs)(u.Z,{children:[s.jsx(j.Z,{title:"Shipping Activity"}),s.jsx(g.Z,{children:(0,s.jsxs)(F,{children:[(0,s.jsxs)(D.Z,{children:[(0,s.jsxs)(M.Z,{children:[s.jsx(R.Z,{color:"primary"}),s.jsx(q.Z,{})]}),(0,s.jsxs)(A.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[(0,s.jsxs)(n.Z,{color:"text.primary",className:"font-medium",children:["Order was placed (Order ID: #",e.order_number,")"]}),s.jsx(n.Z,{variant:"caption",children:new Date(e.ordered_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order has been placed successfully"})]})]}),(0,s.jsxs)(D.Z,{children:[(0,s.jsxs)(M.Z,{children:[s.jsx(R.Z,{variant:null===e.preparing_at?"outlined":"contained",color:null===e.preparing_at?"grey":"primary"}),s.jsx(q.Z,{})]}),(0,s.jsxs)(A.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Preparing"}),null!==e.preparing_at&&s.jsx(n.Z,{variant:"caption",children:new Date(e?.preparing_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order is preparing"})]})]}),(0,s.jsxs)(D.Z,{children:[(0,s.jsxs)(M.Z,{children:[s.jsx(R.Z,{variant:null===e.delivering_at?"outlined":"contained",color:null===e.delivering_at?"grey":"primary"}),s.jsx(q.Z,{})]}),(0,s.jsxs)(A.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Delivering"}),null!==e.delivering_at&&s.jsx(n.Z,{variant:"caption",children:new Date(e?.delivering_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order is delivering "})]})]}),(0,s.jsxs)(D.Z,{children:[(0,s.jsxs)(M.Z,{children:[s.jsx(R.Z,{variant:null===e.completed_at?"outlined":"contained",color:null===e.completed_at?"grey":"primary"}),s.jsx(q.Z,{})]}),(0,s.jsxs)(A.Z,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-x-2 mbe-2.5",children:[s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Completed"}),null!==e.completed_at&&s.jsx(n.Z,{variant:"caption",children:new Date(e?.completed_at).toLocaleString()})]}),s.jsx(n.Z,{className:"mbe-2",children:"Order has been completed "})]})]})]})})]});var G=a(48366);a(81636),a(16472);var T=a(26808);let z=e=>{let{avatar:r,customer:a}=e;return r?s.jsx(G.Z,{src:r}):s.jsx(G.Z,{children:(0,T.Q)(a)})},X=({orderData:e})=>s.jsx(u.Z,{children:(0,s.jsxs)(g.Z,{className:"flex flex-col gap-6",children:[s.jsx(n.Z,{variant:"h5",children:"Customer details"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[z({avatar:e?.avatar??"",customer:e?.user.profile_picture_url??""}),s.jsx("div",{className:"flex flex-col",children:s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:e?.user.name})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(n.Z,{color:"text.primary",className:"font-medium",children:"Contact info"})}),(0,s.jsxs)(n.Z,{children:["Mobile : ",e.user.phone]})]})]})});a(58232);let E=({orderData:e})=>s.jsx(u.Z,{children:(0,s.jsxs)(g.Z,{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx(n.Z,{variant:"h5",children:"Shipping Address"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)(n.Z,{children:["Receiver Name : ",e.receiver_name]}),s.jsx("br",{}),(0,s.jsxs)(n.Z,{children:["Receiver Phone : ",e.receiver_phone]}),s.jsx("br",{}),(0,s.jsxs)(n.Z,{children:["Receiver Address : ",e.receiver_address]})]})]})});var I=a(46811),V=a(45162);let $=()=>{let{id:e}=(0,I.useParams)(),{data:r}=(0,V.kJ)(d.Nz,{variables:{id:e}}),a=r?.orders_by_pk;return(0,s.jsxs)(i.ZP,{container:!0,spacing:6,children:[s.jsx(i.ZP,{item:!0,xs:12,children:s.jsx(h,{orderData:a})}),s.jsx(i.ZP,{item:!0,xs:12,md:8,children:(0,s.jsxs)(i.ZP,{container:!0,spacing:6,children:[s.jsx(i.ZP,{item:!0,xs:12,children:s.jsx(C,{orderData:a})}),s.jsx(i.ZP,{item:!0,xs:12,children:s.jsx(L,{orderData:a})})]})}),s.jsx(i.ZP,{item:!0,xs:12,md:4,children:(0,s.jsxs)(i.ZP,{container:!0,spacing:6,children:[s.jsx(i.ZP,{item:!0,xs:12,children:s.jsx(X,{orderData:a})}),s.jsx(i.ZP,{item:!0,xs:12,children:s.jsx(E,{orderData:a})})]})})]})}},87063:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var s=a(79703);a(31976);var i=a(92334);let t=(0,i.createProxy)(String.raw`/home/axra/AXRA/office-cicd/alpha-admin/src/views/orders/details/index.jsx`),{__esModule:l,$$typeof:n}=t;t.default;let c=(0,i.createProxy)(String.raw`/home/axra/AXRA/office-cicd/alpha-admin/src/views/orders/details/index.jsx#default`),d=async()=>s.jsx(c,{})}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[9357,6491,4588,3440,3198,7541,3133,7110,6514,5073,5095,2366,7208,751,5262,1894,1796],()=>a(90217));module.exports=s})();