(()=>{var e={};e.id=6387,e.ids=[6387],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},76671:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),r(18110),r(5114),r(32687),r(85133);var a=r(79193),i=r(71854),s=r(33997),n=r.n(s),d=r(73320),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let l=["",{children:["[lang]",{children:["(dashboard)",{children:["user",{children:["list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18110)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\user\\list\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5114)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32687)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,85133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\user\\list\\page.jsx"],u="/[lang]/(dashboard)/user/list/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/[lang]/(dashboard)/user/list/page",pathname:"/[lang]/user/list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},73305:(e,t,r)=>{Promise.resolve().then(r.bind(r,72019))},227:(e,t,r)=>{"use strict";r.d(t,{Z:()=>$});var a=r(6520),i=r(13211),s=r(618),n=r(69360),d=r(47150),o=r(72660),l=r(28502),c=r(26829),u=r(44451),p=r(27486);let m=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],_=e=>{let{classes:t}=e;return(0,d.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},u.J,t)},g=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,i.Z)({[`& .${u.Z.title}`]:t.title,[`& .${u.Z.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),x=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),h=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),v=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),$=s.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiCardHeader"}),{action:s,avatar:d,className:c,component:u="div",disableTypography:$=!1,subheader:j,subheaderTypographyProps:f,title:b,titleTypographyProps:y}=r,w=(0,a.Z)(r,m),P=(0,i.Z)({},r,{component:u,disableTypography:$}),S=_(P),Z=b;null==Z||Z.type===o.Z||$||(Z=(0,p.jsx)(o.Z,(0,i.Z)({variant:d?"body2":"h5",className:S.title,component:"span",display:"block"},y,{children:Z})));let k=j;return null==k||k.type===o.Z||$||(k=(0,p.jsx)(o.Z,(0,i.Z)({variant:d?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},f,{children:k}))),(0,p.jsxs)(g,(0,i.Z)({className:(0,n.Z)(S.root,c),as:u,ref:t,ownerState:P},w,{children:[d&&(0,p.jsx)(x,{className:S.avatar,ownerState:P,children:d}),(0,p.jsxs)(v,{className:S.content,ownerState:P,children:[Z,k]}),s&&(0,p.jsx)(h,{className:S.action,ownerState:P,children:s})]}))})},44451:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,Z:()=>n});var a=r(66875),i=r(62209);function s(e){return(0,i.ZP)("MuiCardHeader",e)}let n=(0,a.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"])},45336:(e,t,r)=>{"use strict";r(27486),r(19396),r(81636),r(25009)},91347:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(27486);r(618);var i=r(27319),s=r(22405);let n=()=>{let{globalMsg:e,setGlobalMsg:t}=(0,s.q)();return a.jsx("div",{children:a.jsx(i.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>t(null),message:e})})}},93889:(e,t,r)=>{"use strict";r.d(t,{Pg:()=>d,c7:()=>i,sE:()=>n,uH:()=>a,zh:()=>s});let a={completed:"success",rejected:"error","received token":"info","picking up":"primary",processing:"warning",delivering:"secondary"},i={pending:"warning",completed:"success",accepted:"info",rejected:"error",negotiation:"primary"},s={delivering:"secondary",completed:"success",ordered:"info",preparing:"primary",refunded:"warning",canceled:"error"},n={paid:"secondary","partially paid":"info",rejected:"error",unpaid:"primary",pending:"warning"},d={verified:"success",pending:"warning",unverified:"primary",disable:"error"}},66718:(e,t,r)=>{"use strict";r.d(t,{BM:()=>N,DR:()=>M,Ff:()=>u,HT:()=>x,Hd:()=>h,J2:()=>V,J9:()=>o,JB:()=>A,KN:()=>q,Lh:()=>F,MP:()=>n,MZ:()=>R,O7:()=>E,Qm:()=>H,SB:()=>_,SZ:()=>P,Sf:()=>j,Si:()=>Q,Zq:()=>k,aY:()=>p,bc:()=>L,dE:()=>v,dn:()=>O,en:()=>T,hB:()=>i,he:()=>z,hq:()=>s,jN:()=>U,ju:()=>g,mU:()=>w,mt:()=>J,oe:()=>m,pE:()=>W,rV:()=>I,si:()=>B,tC:()=>C,tt:()=>f,tz:()=>y,u7:()=>c,ui:()=>G,uv:()=>l,vl:()=>D,wU:()=>b,yG:()=>Z,yn:()=>$,z7:()=>S,zN:()=>d});var a=r(12738);let i=(0,a.Ps)`
  mutation adminSignIn($email: String!, $password: String!) {
    AdminSignIn(email: $email, password: $password) {
      token
      message
    }
  }
`,s=(0,a.Ps)`
  mutation addCategory($data: product_categories_insert_input!) {
    insert_product_categories_one(object: $data) {
      id
      title
      image_url
      created_at
      products_aggregate {
        aggregate {
          count
        }
      }
    }
  }
`,n=(0,a.Ps)`
  mutation addCategory($data: brands_insert_input!) {
    insert_brands_one(object: $data) {
      id
      title
      image_url
      created_at
      products_aggregate {
        aggregate {
          count
        }
      }
    }
  }
`,d=(0,a.Ps)`
  mutation addProduct(
    $title: String!
    $description_html: String!
    $brand_id: uuid!
    $category_id: uuid!
    $serial_number: String!
    $price: numeric!
    $product_medias: product_medias_arr_rel_insert_input!
  ) {
    insert_products_one(
      object: {
        title: $title
        description_html: $description_html
        brand_id: $brand_id
        category_id: $category_id
        serial_number: $serial_number
        price: $price
        product_medias: $product_medias
      }
    ) {
      id
    }
  }
`,o=(0,a.Ps)`
  mutation editProduct(
    $id: uuid!
    $title: String!
    $description_html: String!
    $brand_id: uuid!
    $category_id: uuid!
    $serial_number: String
    $price: numeric!
  ) {
    update_products_by_pk(
      pk_columns: { id: $id }
      _set: {
        title: $title
        description_html: $description_html
        brand_id: $brand_id
        category_id: $category_id
        serial_number: $serial_number
        price: $price
      }
    ) {
      id
    }
  }
`,l=(0,a.Ps)`
  mutation addNews($data: news_insert_input!) {
    insert_news_one(object: $data) {
      id
      image_url
      body_html
      created_at
      news_category {
        title
        id
      }
      disabled
      news_category_id
      title
      updated_at
    }
  }
`,c=(0,a.Ps)`
  mutation deleteProduct($id: uuid!) {
    delete_products_by_pk(id: $id) {
      id
    }
  }
`,u=(0,a.Ps)`
  mutation deleteBrand($id: uuid!) {
    delete_brands_by_pk(id: $id) {
      id
    }
  }
`,p=(0,a.Ps)`
  mutation deleteProductCat($id: uuid!) {
    delete_product_categories_by_pk(id: $id) {
      id
    }
  }
`,m=(0,a.Ps)`
  mutation deleteNewCat($id: uuid!) {
    delete_news_categories_by_pk(id: $id) {
      id
    }
  }
`,_=(0,a.Ps)`
  mutation addNewCat($title: String!) {
    insert_news_categories_one(object: { title: $title }) {
      id
    }
  }
`,g=(0,a.Ps)`
  mutation deleteNews($id: uuid!) {
    delete_news_by_pk(id: $id) {
      id
    }
  }
`;(0,a.Ps)`
  mutation deleteInvoice($id: uuid!) {
    delete_invoices_by_pk(id: $id) {
      id
    }
  }
`;let x=(0,a.Ps)`
  mutation aa($id: uuid!) {
    delete_orders_by_pk(id: $id) {
      id
    }
  }
`;(0,a.Ps)`
  mutation deleteDealer($id: uuid!) {
    delete_dealers_by_pk(id: $id) {
      id
    }
  }
`,(0,a.Ps)`
  mutation addDealer($data: dealers_insert_input!) {
    insert_dealers_one(object: $data) {
      id
    }
  }
`;let h=(0,a.Ps)`
  mutation addNewProducts($data: news_related_products_insert_input!) {
    insert_news_related_products_one(object: $data) {
      id
    }
  }
`,v=(0,a.Ps)`
  mutation editNewProducts($id: uuid!, $data: news_set_input!) {
    update_news_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      image_url
      body_html
      created_at
      news_category {
        title
        id
      }
      disabled
      news_category_id
      title
      updated_at
    }
  }
`,$=(0,a.Ps)`
  mutation aa($news_id: uuid!) {
    delete_news_related_products(where: { news_id: { _eq: $news_id } }) {
      returning {
        id
      }
    }
  }
`,j=(0,a.Ps)`
  mutation aa($content_type: String!, $folder: String!) {
    getFileUploadUrl(content_type: $content_type, folder: $folder) {
      error
      message
      fileName
      fileUploadUrl
    }
  }
`,f=(0,a.Ps)`
  mutation orderStatus($order_id: uuid!, $status: String!) {
    updateOrderStatus(order_id: $order_id, status: $status) {
      message
    }
  }
`,b=(0,a.Ps)`
  mutation updateServiceStatus($service_token_id: uuid!, $status: String!) {
    updateServiceStatus(service_token_id: $service_token_id, status: $status) {
      message
    }
  }
`,y=(0,a.Ps)`
  mutation updateServiceStatus($is_warranty_valid: Boolean!, $service_fee: numeric!, $service_token_id: uuid!) {
    acceptServiceToken(
      is_warranty_valid: $is_warranty_valid
      service_fee: $service_fee
      service_token_id: $service_token_id
    ) {
      message
    }
  }
`,w=(0,a.Ps)`
  mutation rejectServiceToken($rejected_reason: String!, $service_token_id: uuid!) {
    rejectServiceToken(rejected_reason: $rejected_reason, service_token_id: $service_token_id) {
      message
    }
  }
`,P=(0,a.Ps)`
  mutation changeUserStatus($id: uuid!, $data: users_set_input!) {
    update_users_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      role
      status
    }
  }
`,S=(0,a.Ps)`
  mutation userStatus($user_id: uuid!, $is_verified: Boolean!) {
    updateUserStatus(user_id: $user_id, is_verified: $is_verified) {
      message
    }
  }
`,Z=(0,a.Ps)`
  mutation updateQuotationStatus($quotation_id: uuid!, $status: String!, $rejected_reason: String) {
    updateQuotationStatus(quotation_id: $quotation_id, status: $status, rejected_reason: $rejected_reason) {
      message
    }
  }
`,k=(0,a.Ps)`
  mutation updateInvoiceStatus($invoice_id: uuid!, $status: String!, $rejected_reason: String) {
    updateInvoiceStatus(invoice_id: $invoice_id, status: $status, rejected_reason: $rejected_reason) {
      message
    }
  }
`,N=(0,a.Ps)`
  mutation updateQuotationStatus($quotation_file_url: String!, $quotation_id: uuid!) {
    sendQuotationFIle(quotation_file_url: $quotation_file_url, quotation_id: $quotation_id) {
      message
    }
  }
`,C=(0,a.Ps)`
  mutation addPayment($amount: numeric!, $invoice_id: uuid!, $payment_date: timestamp!, $payment_method: String!) {
    addInvoicePayment(
      amount: $amount
      invoice_id: $invoice_id
      payment_date: $payment_date
      payment_method: $payment_method
    ) {
      message
    }
  }
`,q=(0,a.Ps)`
  mutation sendQInvoice($quotation_id: uuid!) {
    sendInvoice(quotation_id: $quotation_id) {
      message
    }
  }
`,D=(0,a.Ps)`
  mutation sendQuotationPdf($id: uuid!, $invoice_file_url: String!) {
    update_invoices_by_pk(pk_columns: { id: $id }, _set: { invoice_file_url: $invoice_file_url }) {
      id
    }
  }
`,R=(0,a.Ps)`
  mutation deleteAdmin($id: uuid!) {
    delete_admins_by_pk(id: $id) {
      id
    }
  }
`,M=(0,a.Ps)`
  mutation deleteServiceCenter($id: uuid!) {
    delete_service_centers_by_pk(id: $id) {
      id
    }
  }
`,A=(0,a.Ps)`
  mutation aa($email: String!, $password: String!, $name: String!, $role: String!) {
    AdminSignUp(email: $email, password: $password, name: $name, role: $role) {
      message
      token
    }
  }
`,I=(0,a.Ps)`
  mutation updateAdmin($id: uuid!, $data: admins_set_input!) {
    update_admins_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      name
      email
      role
    }
  }
`,U=(0,a.Ps)`
  mutation aa($name: String!, $password: String!, $role: String!, $phone: String!) {
    UserSignUp(name: $name, password: $password, role: $role, phone: $phone) {
      message
      token
    }
  }
`,E=(0,a.Ps)`
  mutation addSeriveCenter($data: service_centers_insert_input!) {
    insert_service_centers_one(object: $data) {
      id
      name
      phone
      address
      created_at
      updated_at
    }
  }
`,T=(0,a.Ps)`
  mutation editService($id: uuid!, $data: service_tokens_set_input!) {
    update_service_tokens_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      service_fee
    }
  }
`,z=(0,a.Ps)`
  mutation editServiceCenter($id: uuid!, $data: service_centers_set_input!) {
    update_service_centers_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      name
      phone
      address
    }
  }
`,H=(0,a.Ps)`
  mutation deleteProductDiscount($id: uuid!) {
    delete_product_discounts_by_pk(id: $id) {
      id
    }
  }
`,J=(0,a.Ps)`
  mutation orderComplete($id: uuid!, $completion_photo_url: String!, $remark: String!) {
    update_orders_by_pk(
      pk_columns: { id: $id }
      _set: { completion_photo_url: $completion_photo_url, remark: $remark }
    ) {
      id
      completion_photo_url
      remark
    }
  }
`,F=(0,a.Ps)`
  mutation addDiscount($data: product_discounts_insert_input!) {
    insert_product_discounts_one(object: $data) {
      id
      min_order
      product_id
      discount_type
      discounted_value
      customer_type
      created_at
      updated_at
    }
  }
`,O=(0,a.Ps)`
  mutation updateProductDiscount($id: uuid!, $data: product_discounts_set_input!) {
    update_product_discounts_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      min_order
      discount_type
      customer_type
      discounted_value
      created_at
      updated_at
    }
  }
`,L=(0,a.Ps)`
  mutation editCategory($id: uuid!, $data: product_categories_set_input!) {
    update_product_categories_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      title
      image_url
    }
  }
`,Q=(0,a.Ps)`
  mutation eidtBrand($id: uuid!, $data: brands_set_input!) {
    update_brands_by_pk(pk_columns: { id: $id }, _set: $data) {
      id
      title
      image_url
    }
  }
`,V=(0,a.Ps)`
  mutation editNewCat($id: uuid!, $title: String!) {
    update_news_categories_by_pk(pk_columns: { id: $id }, _set: { title: $title }) {
      id
      title
    }
  }
`,W=(0,a.Ps)`
  mutation imageUpload($data: product_medias_insert_input!) {
    insert_product_medias_one(object: $data) {
      id
      product_id
      media_url
      media_type
    }
  }
`,B=(0,a.Ps)`
  mutation deleteProductImage($id: uuid!) {
    delete_product_medias_by_pk(id: $id) {
      id
      media_url
      media_type
    }
  }
`,G=(0,a.Ps)`
  mutation resetUserPassword($user_id: uuid!, $confirmNewPassword: String!, $newPassword: String!) {
    UpdateUserPassword(confirmNewPassword: $confirmNewPassword, user_id: $user_id, newPassword: $newPassword) {
      message
    }
  }
`},72019:(e,t,r)=>{"use strict";r.d(t,{default:()=>er});var a=r(27486),i=r(61766),s=r(618),n=r(38165),d=r(46811),o=r(69121),l=r(227),c=r(20700),u=r(12964),p=r(30785),m=r(72660),_=r(16561),g=r(9594),x=r(26829),h=r(2598),v=r(19396),$=r.n(v),j=r(61359),f=r(36514),b=r(57229),y=r(51259),w=r(44182),P=r(50822),S=r(23467),Z=r(95727),k=r(45882),N=r(25009);let C=({setData:e,tableData:t})=>{let[r,n]=(0,s.useState)(""),[d,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),{data:u}=(0,k.kJ)(N.pR);return(0,s.useEffect)(()=>{e(t?.filter(e=>(!r||e.role===r)&&(!d||e.currentPlan===d)&&(!l||e.status===l))||[])},[r,d,l,t,e]),a.jsx(y.Z,{children:(0,a.jsxs)(i.ZP,{container:!0,spacing:5,children:[a.jsx(i.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsxs)(w.Z,{fullWidth:!0,children:[a.jsx(P.Z,{id:"role-select",children:"Select Role"}),(0,a.jsxs)(Z.Z,{fullWidth:!0,id:"select-role",value:r,onChange:e=>n(e.target.value),label:"Select Role",labelId:"role-select",inputProps:{placeholder:"Select Role"},children:[a.jsx(S.Z,{value:"",children:"Select Role"}),u.user_roles.map(e=>a.jsx(S.Z,{value:e.role_name,children:e.role_name},e.id))]})]})}),a.jsx(i.ZP,{item:!0,xs:12,sm:4,children:(0,a.jsxs)(w.Z,{fullWidth:!0,children:[a.jsx(P.Z,{id:"status-select",children:"Select Status"}),(0,a.jsxs)(Z.Z,{fullWidth:!0,id:"select-status",label:"Select Status",value:l,onChange:e=>c(e.target.value),labelId:"status-select",inputProps:{placeholder:"Select Status"},children:[a.jsx(S.Z,{value:"",children:"Select Status"}),a.jsx(S.Z,{value:"pending",children:"Pending"}),a.jsx(S.Z,{value:"verified",children:"Verified"}),a.jsx(S.Z,{value:"unverified",children:"UnVerified"}),a.jsx(S.Z,{value:"disable",children:"Disabled"})]})]})})]})})};var q=r(64275),D=r(39800),R=r(38532),M=r(91347),A=r(58894),I=r(83398),U=r(66718),E=r(22405);let T={company:"",country:"",contact:""},z=e=>{let{setGlobalMsg:t,loading:r,setLoading:i}=(0,E.q)(),{open:n,handleClose:d,userData:o,setData:l}=e,[_]=(0,I.D)(U.jN),[x,h]=(0,s.useState)(T),{control:v,reset:$,handleSubmit:j,formState:{errors:f}}=(0,A.cI)({defaultValues:{name:"",phone:"",role:"",password:""}}),b=async e=>{i(!0);try{let r=await _({variables:{name:e.name,phone:e.phone,role:e.role,password:e.password}});i(!1),t("✅ Added New User"),l([...o??[],r]),d(),h(T),$({})}catch(e){t(`❌  ${e.message}`)}},y=()=>{d(),h(T)};return(0,a.jsxs)(D.ZP,{open:n,anchor:"right",variant:"temporary",onClose:y,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[a.jsx(m.Z,{variant:"h5",children:"Add New User"}),a.jsx(g.Z,{size:"small",onClick:y,children:a.jsx("i",{className:"ri-close-line text-2xl"})})]}),a.jsx(c.Z,{}),a.jsx("div",{className:"p-5",children:(0,a.jsxs)("form",{onSubmit:j(e=>b(e)),className:"flex flex-col gap-5",children:[a.jsx(A.Qr,{name:"name",control:v,rules:{required:!0},render:({field:e})=>a.jsx(p.Z,{...e,fullWidth:!0,label:"Name",placeholder:"Enter Name",...f.name&&{error:!0,helperText:"This field is required."}})}),a.jsx(A.Qr,{name:"phone",control:v,rules:{required:!0},render:({field:e})=>a.jsx(p.Z,{...e,fullWidth:!0,label:"Phone",placeholder:"Enter Phone",...f.phone&&{error:!0,helperText:"This field is required."}})}),a.jsx(A.Qr,{name:"password",control:v,rules:{required:!0},render:({field:e})=>a.jsx(p.Z,{...e,fullWidth:!0,type:"password",label:"Password",placeholder:"Enter Password",...f.password&&{error:!0,helperText:"This field is required."}})}),(0,a.jsxs)(w.Z,{fullWidth:!0,children:[a.jsx(P.Z,{id:"country",error:!!f.role,children:"Select Role"}),a.jsx(A.Qr,{name:"role",control:v,rules:{required:!0},render:({field:e})=>(0,a.jsxs)(Z.Z,{label:"Select Role",...e,error:!!f.role,children:[a.jsx(S.Z,{value:"dealer",children:"Dealer"}),a.jsx(S.Z,{value:"consumer",children:"Consumer"})]})}),f.role&&a.jsx(R.Z,{error:!0,children:"This field is required."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(q.Z,{variant:"contained",type:"submit",loading:r,children:"Submit"}),a.jsx(u.Z,{variant:"outlined",color:"error",type:"reset",onClick:()=>y(),children:"Cancel"})]})]})}),a.jsx(M.Z,{})]})};var H=r(57971);let J={confirm_password:"",new_password:""},F=e=>{let{setGlobalMsg:t,loading:r,setLoading:i}=(0,E.q)(),{open:n,handleClose:d,userData:o,setData:l}=e,[_]=(0,I.D)(U.ui),[x,h]=(0,s.useState)(J),[v,$]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!1),{control:b,reset:y,handleSubmit:w,formState:{errors:P}}=(0,A.cI)({defaultValues:{new_password:"",confirm_password:""}}),S=async e=>{i(!0);try{console.log("data ",e),await _({variables:{user_id:o.id,confirmNewPassword:e.confirm_password,newPassword:e.new_password}}),i(!1),t("✅ Reset User Password"),d(),h(J),y({})}catch(e){t(`❌  ${e.message}`)}},Z=()=>{f(!j)},k=()=>{d(),h(J)};return(0,a.jsxs)(D.ZP,{open:n,anchor:"right",variant:"temporary",onClose:k,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[a.jsx(m.Z,{variant:"h5",children:"Reset User Password"}),a.jsx(g.Z,{size:"small",onClick:k,children:a.jsx("i",{className:"ri-close-line text-2xl"})})]}),a.jsx(c.Z,{}),a.jsx("div",{className:"p-5",children:(0,a.jsxs)("form",{onSubmit:w(e=>S(e)),className:"flex flex-col gap-5",children:[a.jsx(A.Qr,{name:"new_password",control:b,rules:{required:!0},render:({field:e})=>a.jsx(p.Z,{...e,fullWidth:!0,label:"new_password",type:v?"text":"password",placeholder:"",error:!!P.new_password,helperText:P.new_password?"This field is required.":"",InputProps:{endAdornment:a.jsx(H.Z,{position:"end",children:a.jsx(g.Z,{"aria-label":"toggle password visibility",onClick:()=>$(!v),edge:"end",children:v?a.jsx("i",{className:"ri-eye-fill text-[22px] text-textSecondary"}):a.jsx("i",{className:" ri-eye-off-fill text-[22px] text-textSecondary"})})})}})}),a.jsx(A.Qr,{name:"confirm_password",control:b,rules:{required:!0},render:({field:e})=>a.jsx(p.Z,{...e,fullWidth:!0,label:"confirm_password",type:j?"text":"password",placeholder:"",error:!!P.confirm_password,helperText:P.confirm_password?"This field is required.":"",InputProps:{endAdornment:a.jsx(H.Z,{position:"end",children:a.jsx(g.Z,{"aria-label":"toggle password visibility",onClick:Z,edge:"end",children:j?a.jsx("i",{className:"ri-eye-fill text-[22px] text-textSecondary"}):a.jsx("i",{className:" ri-eye-off-fill text-[22px] text-textSecondary"})})})}})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(q.Z,{variant:"contained",type:"submit",loading:r,children:"Submit"}),a.jsx(u.Z,{variant:"outlined",color:"error",type:"reset",onClick:()=>k(),children:"Cancel"})]})]})}),a.jsx(M.Z,{})]})};r(48398);var O=r(81636),L=r(11158),Q=r(31538),V=r.n(Q),W=r(93889),B=r(24458);(0,x.ZP)("i")({});let G=(e,t,r,a)=>{let i=(0,j.O4)(e.getValue(t),r);return a({itemRank:i}),i.passed},K=({value:e,onChange:t,debounce:r=500,...i})=>{let[n,d]=(0,s.useState)(e);return(0,s.useEffect)(()=>{d(e)},[e]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{t(n)},r);return()=>clearTimeout(e)},[n]),a.jsx(p.Z,{...i,value:n,onChange:e=>d(e.target.value),size:"small"})},X=(0,f.Cl)(),Y=[{label:"Username",key:"name"},{label:"Phone",key:"phone"},{label:"Email",key:"email"},{label:"Status",key:"status"},{label:"role",key:"role"},{label:"Delivery Name",key:"delivery_name"},{label:"Delivery Phone",key:"delivery_phone"},{label:"Delivery Address",key:"delivery_address"},{label:"Created At",key:"created_at"},{label:"Updated At",key:"updated_at"}],ee=({tableData:e})=>{let[t,r]=(0,s.useState)(!1),[i,p]=(0,s.useState)({}),[x,v]=(0,s.useState)(e),[j,y]=(0,s.useState)(x),[w,P]=(0,s.useState)(""),[S,Z]=(0,s.useState)(!1),[k,N]=(0,s.useState)(),{lang:q}=(0,d.useParams)(),D=e=>{Z(!0),N(e)},R=(0,s.useMemo)(()=>[X.accessor("name",{header:"User",cell:({row:e})=>(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[I({avatar:e.original.profile_picture_url}),a.jsx("div",{className:"flex flex-col",children:a.jsx(m.Z,{variant:"body2",children:e.original.name})})]})}),X.accessor("phone",{header:"Phone",cell:({row:e})=>a.jsx(m.Z,{children:e.original.phone})}),X.accessor("role",{header:"Role",cell:({row:e})=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(m.Z,{className:"capitalize",color:"text.primary",children:e.original.role})})}),X.accessor("status",{header:"Status",cell:({row:e})=>a.jsx("div",{className:"flex items-center gap-3",children:a.jsx(_.Z,{variant:"tonal",label:e.original.status,size:"small",color:W.Pg[e.original.status],className:"capitalize"})})}),X.accessor("created_at",{header:"Join Date",cell:({row:e})=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(m.Z,{className:"capitalize",color:"text.primary",children:e.original?.created_at?.substring(0,10)})})}),X.accessor("action",{header:"Action",cell:({row:e})=>(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(g.Z,{children:a.jsx(n.default,{href:(0,L.U)("/user/view/"+e.original.id,q),className:"flex",children:a.jsx("i",{className:"ri-eye-line text-textSecondary"})})}),a.jsx(u.Z,{onClick:()=>D(e.original),children:a.jsx("i",{className:"ri-loop-left-line text-warning"})})]}),enableSorting:!1})],[x,j]),M=j.map(e=>({...e,created_at:new Date(e.created_at).toLocaleString(),updated_at:new Date(e.updated_at).toLocaleString()})),A=(0,b.b7)({data:j,columns:R,filterFns:{fuzzy:G},state:{rowSelection:i,globalFilter:w},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:G,onRowSelectionChange:p,getCoreRowModel:(0,f.sC)(),onGlobalFilterChange:P,getFilteredRowModel:(0,f.vL)(),getSortedRowModel:(0,f.tj)(),getPaginationRowModel:(0,f.G_)(),getFacetedRowModel:(0,f.o6)(),getFacetedUniqueValues:(0,f.JG)(),getFacetedMinMaxValues:(0,f.HO)()}),I=e=>{let{avatar:t}=e;return a.jsx(O.default,{src:t,skin:"light",size:34})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Z,{children:[a.jsx(l.Z,{title:"Filters"}),a.jsx(C,{setData:y,tableData:x}),a.jsx(c.Z,{}),(0,a.jsxs)("div",{className:"flex justify-between p-5 gap-4 flex-col items-start sm:flex-row sm:items-center",children:[a.jsx(u.Z,{color:"secondary",variant:"outlined",startIcon:a.jsx("i",{className:"ri-upload-2-line text-xl"}),className:"max-sm:is-full",children:a.jsx(B.CSVLink,{className:"exportBtn",data:M,headers:Y,filename:`all-users-${new Date().toISOString()}.csv`,children:"Export"})}),(0,a.jsxs)("div",{className:"flex items-center gap-x-4 gap-4 flex-col max-sm:is-full sm:flex-row",children:[a.jsx(K,{value:w??"",onChange:e=>P(String(e)),placeholder:"Search User",className:"max-sm:is-full"}),a.jsx(u.Z,{variant:"contained",onClick:()=>r(!t),className:"max-sm:is-full",children:"Add New User"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:V().table,children:[a.jsx("thead",{children:A.getHeaderGroups().map(e=>a.jsx("tr",{children:e.headers.map(e=>a.jsx("th",{children:e.isPlaceholder?null:a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:$()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,b.ie)(e.column.columnDef.header,e.getContext()),{asc:a.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:a.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),0===A.getFilteredRowModel().rows.length?a.jsx("tbody",{children:a.jsx("tr",{children:a.jsx("td",{colSpan:A.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):a.jsx("tbody",{children:A.getRowModel().rows.slice(0,A.getState().pagination.pageSize).map(e=>a.jsx("tr",{className:$()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>a.jsx("td",{children:(0,b.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),a.jsx(h.Z,{rowsPerPageOptions:[10,25,50],component:"div",className:"border-bs",count:A.getFilteredRowModel().rows.length,rowsPerPage:A.getState().pagination.pageSize,page:A.getState().pagination.pageIndex,SelectProps:{inputProps:{"aria-label":"rows per page"}},onPageChange:(e,t)=>{A.setPageIndex(t)},onRowsPerPageChange:e=>A.setPageSize(Number(e.target.value))})]}),a.jsx(z,{open:t,handleClose:()=>r(!t),userData:x,setData:v}),a.jsx(F,{open:S,userData:k,setData:v,handleClose:()=>Z(!S)})]})};r(45336);let et=({count:e,title:t})=>a.jsx(o.Z,{children:(0,a.jsxs)(y.Z,{className:"flex justify-between gap-1 ",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-grow",children:[a.jsx(m.Z,{color:"text.primary",variant:"h3",children:e}),a.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:a.jsx(m.Z,{variant:"h5",color:`${"Disable"===t?"red":"Pending"===t?"orange":"Dealer"===t?"green":"Consumer"===t?"blue":"grey"}`,children:t})})]}),a.jsx(O.default,{skin:"light",variant:"rounded",size:42})]})}),er=()=>{let{data:e}=(0,k.kJ)(N.fo),{data:t}=(0,k.kJ)(N.l_),{data:r}=(0,k.kJ)(N.wk);return(0,a.jsxs)(i.ZP,{container:!0,spacing:6,children:[a.jsx(i.ZP,{item:!0,md:3,xs:12,sm:6,children:a.jsx(et,{count:r.consumerUser.aggregate.count,title:"Consumer"})}),a.jsx(i.ZP,{item:!0,md:3,xs:12,sm:6,children:a.jsx(et,{count:r.dealerUser.aggregate.count,title:"Dealer"})}),a.jsx(i.ZP,{item:!0,md:3,xs:12,sm:6,children:a.jsx(et,{count:t.pendingUser.aggregate.count,title:"Pending"})}),a.jsx(i.ZP,{item:!0,md:3,xs:12,sm:6,children:a.jsx(et,{count:t.disabelUser.aggregate.count,title:"Disable"})}),a.jsx(i.ZP,{item:!0,xs:12,children:a.jsx(ee,{tableData:e.users})})]})}},31538:e=>{e.exports={table:"table_table__cB3AL",cellWithInput:"table_cellWithInput__N6u24"}},18110:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(79703),i=r(92334);let s=(0,i.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\views\user\list\index.jsx`),{__esModule:n,$$typeof:d}=s;s.default;let o=(0,i.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\views\user\list\index.jsx#default`),l=async()=>a.jsx(o,{})},83398:(e,t,r)=>{"use strict";r.d(t,{D:()=>u});var a=r(3513),i=r(86415),s=r(55480),n=r(93868),d=r(94491),o=r(34408),l=r(90406),c=r(31487).Nq?i.useLayoutEffect:i.useEffect;function u(e,t){var r=(0,l.x)(null==t?void 0:t.client);(0,d.Vp)(e,d.n_.Mutation);var u=i.useState({called:!1,loading:!1,client:r}),p=u[0],m=u[1],_=i.useRef({result:p,mutationId:0,isMounted:!0,client:r,mutation:e,options:t});c(function(){Object.assign(_.current,{client:r,options:t,mutation:e})});var g=i.useCallback(function(e){void 0===e&&(e={});var t=_.current,r=t.options,i=t.mutation,d=(0,a.pi)((0,a.pi)({},r),{mutation:i}),l=e.client||_.current.client;_.current.result.loading||d.ignoreResults||!_.current.isMounted||m(_.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:l});var c=++_.current.mutationId,u=(0,s.J)(d,e);return l.mutate(u).then(function(t){var r,a,i=t.data,s=t.errors,d=s&&s.length>0?new o.cA({graphQLErrors:s}):void 0,p=e.onError||(null===(r=_.current.options)||void 0===r?void 0:r.onError);if(d&&p&&p(d,u),c===_.current.mutationId&&!u.ignoreResults){var g={called:!0,loading:!1,data:i,error:d,client:l};_.current.isMounted&&!(0,n.D)(_.current.result,g)&&m(_.current.result=g)}var x=e.onCompleted||(null===(a=_.current.options)||void 0===a?void 0:a.onCompleted);return d||null==x||x(t.data,u),t}).catch(function(t){if(c===_.current.mutationId&&_.current.isMounted){var r,a={loading:!1,error:t,data:void 0,called:!0,client:l};(0,n.D)(_.current.result,a)||m(_.current.result=a)}var i=e.onError||(null===(r=_.current.options)||void 0===r?void 0:r.onError);if(i)return i(t,u),{data:void 0,errors:t};throw t})},[]),x=i.useCallback(function(){if(_.current.isMounted){var e={called:!1,loading:!1,client:_.current.client};Object.assign(_.current,{mutationId:0,result:e}),m(e)}},[]);return i.useEffect(function(){var e=_.current;return e.isMounted=!0,function(){e.isMounted=!1}},[]),[g,(0,a.pi)({reset:x},p)]}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9357,6491,1598,8743,8520,168,195,785,1766,6695,3697,8894,2598,9800,1908,5670,6532,6591],()=>r(76671));module.exports=a})();