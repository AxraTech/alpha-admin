(()=>{var e={};e.id=3513,e.ids=[3513],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},42835:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(21056),s(88418),s(10634),s(35866);var t=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(a,c);let o=["",{children:["[lang]",{children:["(dashboard)",{children:["invoice",{children:["preview",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21056)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\invoice\\preview\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\invoice\\preview\\[id]\\page.jsx"],x="/[lang]/(dashboard)/invoice/preview/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/[lang]/(dashboard)/invoice/preview/[id]/page",pathname:"/[lang]/invoice/preview/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},49018:(e,a,s)=>{Promise.resolve().then(s.bind(s,88836))},81547:(e,a,s)=>{"use strict";s.d(a,{default:()=>l});var t=s(10326),r=s(17577),i=s(90434);let l=(0,r.forwardRef)((e,a)=>{let{href:s,onClick:r,...l}=e;return t.jsx(i.default,{ref:a,...l,href:s||"/",onClick:r?e=>r(e):s?void 0:e=>e.preventDefault()})})},26734:(e,a,s)=>{"use strict";s.d(a,{c:()=>t});let t=async(e,a,s)=>{try{return(await fetch(a,{method:"PUT",headers:{"Content-Type":`${s}/*`,"x-amz-acl":"public-read"},body:e})).url.split("?")[0]}catch(e){throw alert(e),console.log(e),Error(e)}}},88836:(e,a,s)=>{"use strict";s.d(a,{default:()=>L});var t=s(10326),r=s(32634),i=s(17577);s(90434);var l=s(35047),n=s(19518),c=s(84187),o=s(87700),d=s(8299),x=s(19074),m=s(48260),h=s(25609),p=s(78077),u=s(99207),j=s(74723),v=s(18753),g=s(24443),f=s(26734),y=s(76865),b=s(57329);let N=({open:e,handleClose:a,invoiceData:s})=>{let[r,l]=(0,i.useState)(),[n]=(0,v.D)(g.Sf),[c]=(0,v.D)(g.vl),{setGlobalMsg:d}=(0,y.q)(),N=(0,i.useRef)(null),{control:Z,reset:w,handleSubmit:P,formState:{errors:_}}=(0,j.cI)({defaultValues:{title:"",description:""}}),D=async e=>{try{let e=await n({variables:{content_type:"pdf",folder:"invoices"}}),a=await (0,f.c)(r[0],e.data.getFileUploadUrl.fileUploadUrl,"image");await c({variables:{id:s.id,invoice_file_url:a}}),l(""),d("➕ Send Invoice file suceessful")}catch(e){d("❌ Send file error")}},C=()=>{l(""),a()};return(0,t.jsxs)(x.ZP,{open:e,anchor:"right",variant:"temporary",onClose:C,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[t.jsx(h.Z,{variant:"h5",children:"Send Invoice File"}),t.jsx(m.Z,{size:"small",onClick:C,children:t.jsx("i",{className:"ri-close-line text-2xl"})})]}),t.jsx(u.Z,{}),console.log("file ",r?r[0].name:"null"),t.jsx("div",{className:"p-5",children:(0,t.jsxs)("form",{onSubmit:P(e=>D(e)),className:"flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(p.Z,{size:"small",placeholder:"No file chosen",variant:"outlined",value:r?r[0].name:"",className:"flex-auto",InputProps:{readOnly:!0,endAdornment:r?t.jsx(b.Z,{position:"end",children:t.jsx(m.Z,{size:"small",edge:"end",onClick:()=>l(""),children:t.jsx("i",{className:"ri-close-line"})})}):null}}),(0,t.jsxs)(o.Z,{component:"label",variant:"outlined",htmlFor:"contained-button-file",className:"min-is-fit",children:["Choose",t.jsx("input",{hidden:!0,id:"contained-button-file",type:"file",onChange:e=>{let{files:a}=e.target;a&&0!==a.length&&l(a)},ref:N})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(o.Z,{variant:"contained",type:"submit",children:"Add"}),t.jsx(o.Z,{variant:"outlined",color:"error",type:"reset",onClick:C,children:"Discard"})]})]})})]})};s(86045);var Z=s(84875),w=s(29084);let P=({id:e,onButtonClick:a,invoiceData:s})=>{let[r,x]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),{data:p}=(0,Z.kJ)(w.i2),{lang:u}=(0,l.useParams)();return(0,t.jsxs)(t.Fragment,{children:[t.jsx(n.Z,{children:(0,t.jsxs)(c.Z,{className:"flex flex-col gap-4",children:[t.jsx(o.Z,{fullWidth:!0,variant:"contained",className:"capitalize",startIcon:t.jsx("i",{className:"ri-send-plane-line"}),onClick:()=>h(!0),children:"Send Invoice File"}),t.jsx(o.Z,{fullWidth:!0,color:"success",variant:"contained",className:"capitalize",onClick:()=>x(!0),startIcon:t.jsx("i",{className:"ri-money-dollar-circle-line"}),children:"Add Payment"})]})}),t.jsx(d.Z,{open:r,handleClose:()=>x(!1),invoiceData:s,paymentMethods:p}),t.jsx(N,{open:m,handleClose:()=>h(!1),invoiceData:s})]})};var _=s(64860),D=s(89307),C=s.n(D);s(3938);var S=s(13405),A=s(48029),k=s.n(A),M=s(5606),q=s(11798),R=s(86508);s(81547);let F=(e,a,s,t)=>{let r=(0,M.O4)(e.getValue(a),s);return t({itemRank:r}),r.passed},I=(0,q.Cl)(),T=({invoiceData:e})=>{let{data:a}=(0,Z.kJ)(w.jh,{variables:{invoice_id:e.invoices_by_pk.id},fetchPolicy:"network-only"}),[s,r]=(0,i.useState)({}),[l,n]=(0,i.useState)(a.payments),[c,o]=(0,i.useState)(""),d=(0,i.useMemo)(()=>[I.accessor("#",{header:"#",cell:({row:e})=>t.jsx("div",{className:"flex items-center gap-3 text-wrap",children:t.jsx("div",{className:"flex flex-col items-start  ",children:t.jsx(h.Z,{color:"text.primary",className:"font-medium ",children:e.index+1})})})}),I.accessor("amount",{header:"Amount",cell:({row:e})=>t.jsx("div",{className:"flex items-center gap-3 text-wrap",children:t.jsx("div",{className:"flex flex-col items-start  ",children:t.jsx(h.Z,{color:"text.primary",className:"font-medium ",children:e.original.amount})})})}),I.accessor("payment_method",{header:"Payment Method",cell:({row:e})=>(0,t.jsxs)(h.Z,{children:[`${e.original.payment_method}`," Ks"]})}),I.accessor("payment_date",{header:"Payment Date",cell:({row:e})=>t.jsx(h.Z,{children:`${new Date(e.original.payment_date).toLocaleDateString()}`})})],[]),x=(0,R.b7)({data:l,columns:d,filterFns:{fuzzy:F},state:{rowSelection:s,globalFilter:c},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:F,onRowSelectionChange:r,getCoreRowModel:(0,q.sC)(),onGlobalFilterChange:o,getFilteredRowModel:(0,q.vL)(),getSortedRowModel:(0,q.tj)(),getPaginationRowModel:(0,q.G_)(),getFacetedRowModel:(0,q.o6)(),getFacetedUniqueValues:(0,q.JG)(),getFacetedMinMaxValues:(0,q.HO)()});return(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"my-4",children:"Payment Table"}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:C().table,children:[t.jsx("thead",{children:x.getHeaderGroups().map(e=>t.jsx("tr",{children:e.headers.map(e=>t.jsx("th",{children:e.isPlaceholder?null:t.jsx(t.Fragment,{children:(0,t.jsxs)("div",{className:k()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,R.ie)(e.column.columnDef.header,e.getContext()),{asc:t.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:t.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),x.getFilteredRowModel().rows?.length===0?t.jsx("tbody",{children:t.jsx("tr",{children:t.jsx("td",{colSpan:x.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):t.jsx("tbody",{className:"border-be",children:x.getRowModel().rows.slice(0,x.getState().pagination.pageSize).map(e=>t.jsx("tr",{className:k()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>t.jsx("td",{className:"first:is-14",children:(0,R.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})]})},z={paid:"secondary","partially paid":"info",completed:"success",unpaid:"error",pending:"primary"},E=({invoiceData:e})=>{let a=e?.invoices_by_pk,{setGlobalMsg:s}=(0,y.q)(),[i]=(0,v.D)(g.Zq);return t.jsx(n.Z,{className:"previewCard",children:t.jsx(c.Z,{className:"sm:!p-12",children:(0,t.jsxs)(r.ZP,{container:!0,spacing:6,children:[t.jsx(r.ZP,{item:!0,xs:12,children:t.jsx("div",{className:"p-6 bg-actionHover rounded",children:(0,t.jsxs)("div",{className:"flex justify-between gap-y-4 flex-col sm:flex-row",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[t.jsx("div",{className:"flex items-center",children:t.jsx(_.Z,{})}),(0,t.jsxs)("div",{children:[t.jsx(h.Z,{color:"text.primary",children:"No. 297, Marlar Myaing Street,"}),t.jsx(h.Z,{color:"text.primary",children:"Tharkayta Industrial Zone,"}),t.jsx(h.Z,{color:"text.primary",children:"Yangon, Myanmar"}),t.jsx(h.Z,{color:"text.primary",children:"09- 428 694 996 09- 762 509 157"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-3",children:[t.jsx(h.Z,{variant:"h5",children:"Invoice "}),t.jsx(S.Z,{label:a?.status,color:z[a?.status],style:{textTransform:"capitalize"},variant:"tonal",size:"small"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)(h.Z,{color:"text.primary",children:["Invoice Number : ",a.invoice_number]}),(0,t.jsxs)(h.Z,{color:"text.primary",children:["Date Issued : ",new Date(a?.created_at).toLocaleDateString()]}),(0,t.jsxs)(h.Z,{color:"text.primary",children:["Date Due : ",new Date(a?.updated_at).toLocaleDateString()]})]})]})]})})}),t.jsx(r.ZP,{item:!0,xs:12,children:t.jsx(r.ZP,{container:!0,spacing:6,children:t.jsx(r.ZP,{item:!0,xs:12,sm:6,children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[t.jsx(h.Z,{className:"font-medium",color:"text.primary",children:"Delivery Address To:"}),(0,t.jsxs)("div",{children:[t.jsx(h.Z,{children:a.order.receiver_name}),t.jsx(h.Z,{className:"my-1",children:a?.order.receiver_phone}),t.jsx(h.Z,{children:a?.order.receiver_address})]})]})})})}),t.jsx(r.ZP,{item:!0,xs:12,children:t.jsx("div",{className:"overflow-x-auto border rounded",children:(0,t.jsxs)("table",{className:C().table,children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"border-be",children:[t.jsx("th",{className:"!bg-transparent",children:"Product"}),t.jsx("th",{className:"!bg-transparent",children:"Brand"}),t.jsx("th",{className:"!bg-transparent",children:"Price"}),t.jsx("th",{className:"!bg-transparent",children:"Qty"}),t.jsx("th",{className:"!bg-transparent",children:"Total"})]})}),(0,t.jsxs)("tbody",{children:["`",a?.order?.order_items.map((e,a)=>t.jsxs("tr",{children:[t.jsx("td",{className:"w-70 text-wrap",children:t.jsx(h.Z,{color:"text.primary",children:e.product.title})}),t.jsx("td",{children:t.jsx(h.Z,{color:"text.primary",children:e.product.brand.title})}),t.jsx("td",{children:t.jsx(h.Z,{color:"text.primary",children:e.product.price})}),t.jsx("td",{children:t.jsx(h.Z,{color:"text.primary",children:e.quantity})}),t.jsx("td",{children:t.jsx(h.Z,{color:"text.primary",children:e.total})})]},a))]})]})})}),t.jsx(r.ZP,{item:!0,xs:12,children:t.jsx("div",{className:"flex justify-end flex-col gap-y-4 sm:flex-row",children:(0,t.jsxs)("div",{className:"min-is-[200px]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(h.Z,{children:"Subtotal:"}),t.jsx(h.Z,{className:"font-medium",color:"text.primary",children:a.order.items_total})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[t.jsx(h.Z,{children:"Balance:"}),t.jsx(h.Z,{className:"font-medium",color:"text.primary",children:a.balance})]}),t.jsx(u.Z,{className:"mlb-2"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(h.Z,{children:"Total:"}),t.jsx(h.Z,{className:"font-medium",color:"text.primary",children:a.total})]})]})})}),t.jsx(r.ZP,{item:!0,xs:12,children:t.jsx(u.Z,{className:"border-dashed"})}),t.jsx(r.ZP,{item:!0,xs:12,children:(0,t.jsxs)(h.Z,{children:[(0,t.jsxs)(h.Z,{component:"span",className:"font-medium",color:"text.primary",children:["Note :"," "]}),a?.note]})}),t.jsx(r.ZP,{item:!0,xs:12,children:t.jsx(T,{invoiceData:e})})]})})})},L=()=>{let{id:e}=(0,l.useParams)(),{data:a}=(0,Z.kJ)(w.xU,{variables:{id:e}});return(0,t.jsxs)(r.ZP,{container:!0,spacing:6,children:[t.jsx(r.ZP,{item:!0,xs:12,md:9,children:t.jsx(E,{invoiceData:a})}),"paid"!==a.invoices_by_pk.status&&t.jsx(r.ZP,{item:!0,xs:12,md:3,children:t.jsx(P,{onButtonClick:()=>{window.print()},invoiceData:a?.invoices_by_pk})})]})}},89307:e=>{e.exports={table:"table_table__cB3AL",cellWithInput:"table_cellWithInput__N6u24"}},21056:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(19510);s(58585);var r=s(68570);let i=(0,r.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\invoice\preview\index.jsx`),{__esModule:l,$$typeof:n}=i;i.default;let c=(0,r.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\invoice\preview\index.jsx#default`),o=async()=>t.jsx(c,{})},3938:()=>{}};var a=require("../../../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,4471,4674,4366,8522,4313,2825,8077,1994,1798,8117,4723,9074,632,6493,6860,7251,1684,8299],()=>s(42835));module.exports=t})();