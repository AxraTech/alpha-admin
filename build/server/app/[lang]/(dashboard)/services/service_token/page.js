(()=>{var e={};e.id=1340,e.ids=[1340],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},61017:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(37151),t(5114),t(32687),t(85133);var r=t(79193),s=t(71854),l=t(33997),i=t.n(l),n=t(73320),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(a,c);let o=["",{children:["[lang]",{children:["(dashboard)",{children:["services",{children:["service_token",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,37151)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\services\\service_token\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5114)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32687)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,85133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\services\\service_token\\page.jsx"],u="/[lang]/(dashboard)/services/service_token/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/[lang]/(dashboard)/services/service_token/page",pathname:"/[lang]/services/service_token",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},75274:(e,a,t)=>{Promise.resolve().then(t.bind(t,49805))},93889:(e,a,t)=>{"use strict";t.d(a,{Pg:()=>n,c7:()=>s,sE:()=>i,uH:()=>r,zh:()=>l});let r={completed:"success",rejected:"error","received token":"info","picking up":"primary",processing:"warning",delivering:"secondary"},s={pending:"warning",completed:"success",accepted:"info",rejected:"error",negotiation:"primary"},l={delivering:"secondary",completed:"success",ordered:"info",preparing:"primary",refunded:"warning",canceled:"error"},i={paid:"secondary","partially paid":"info",rejected:"error",unpaid:"primary",pending:"warning"},n={verified:"success",pending:"warning",unverified:"primary",disable:"error"}},14413:(e,a,t)=>{},26808:(e,a,t)=>{"use strict";t.d(a,{Q:()=>r});let r=e=>e.split(/\s/).reduce((e,a)=>e+=a.slice(0,1),"")},49805:(e,a,t)=>{"use strict";t.d(a,{default:()=>D});var r=t(27486),s=t(61766),l=t(618),i=t(38165),n=t(46811),c=t(69121),o=t(51259),d=t(12964),u=t(72660),x=t(16561),p=t(9594),g=t(4081),m=t(44182),h=t(50822),v=t(95727),j=t(23467),f=t(2598),b=t(19396),_=t.n(b),w=t(61359),y=t(36514),P=t(57229);t(48398);var S=t(81636);t(26808);var k=t(11158),N=t(93889);t(14413);var C=t(31538),Z=t.n(C),A=t(45882),R=t(25009),E=t(86528),M=t(24458);let q=(e,a,t,r)=>{let s=(0,w.O4)(e.getValue(a),t);return r({itemRank:s}),s.passed},z=({value:e,onChange:a,debounce:t=500,...s})=>{let[i,n]=(0,l.useState)(e);return(0,l.useEffect)(()=>{n(e)},[e]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{a(i)},t);return()=>clearTimeout(e)},[i]),r.jsx(g.Z,{...s,value:i,onChange:e=>n(e.target.value),size:"small"})},T=(0,y.Cl)(),F=[{label:"Service Token Number",key:"token_number"},{label:"product",key:"product"},{label:"Is Warranty Valid",key:"is_warranty_valid"},{label:"Service Fee",key:"service_fee"},{label:"Status",key:"status"},{label:"Created At",key:"created_at"},{label:"Updated At",key:"updated_at"}],I=()=>{let{data:e}=(0,A.kJ)(R._b),a=e?.service_tokens,{data:t}=(0,A.kJ)(R.Pr),[s,g]=(0,l.useState)(""),[b,w]=(0,l.useState)({}),[S,C]=(0,l.useState)(a),[I,L]=(0,l.useState)(S),[D,H]=(0,l.useState)(""),{lang:J}=(0,n.useParams)(),O=I.map(e=>({...e,name:e.user.name,status:e.status,is_warranty_valid:!0===e.is_warranty_valid?"Yes":"No",created_at:new Date(e.created_at).toLocaleString(),updated_at:new Date(e.updated_at).toLocaleString()})),G=(0,l.useMemo)(()=>[T.accessor("id",{header:"Token Number",cell:({row:e})=>r.jsx(u.Z,{component:i.default,href:(0,k.U)(`/server_token/preview${e.original.id}`,J),color:"primary",children:`${e.original.token_number}`})}),T.accessor("user.name",{header:"Client",cell:({row:e})=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(E.Z,{src:e.original.user.profile_picture_url}),r.jsx("div",{className:"flex flex-col",children:r.jsx(u.Z,{className:"font-medium",color:"text.primary",children:e.original.user.name})})]})}),T.accessor("product",{header:"Product",cell:({row:e})=>r.jsx("div",{className:"flex items-center gap-3 w-40 text-wrap",children:r.jsx("div",{className:"flex flex-col",children:r.jsx(u.Z,{className:"font-medium",color:"text.primary",children:e.original.product})})})}),T.accessor("is_warranty_valid",{header:"Is Warranty Valid",cell:({row:e})=>r.jsx("div",{children:!0===e.original.is_warranty_valid?r.jsx(x.Z,{color:"success",label:"Yes",size:"small",variant:"tonal"}):r.jsx(x.Z,{label:"No",color:"error",size:"small",variant:"tonal"})})}),T.accessor("status",{header:"Status",cell:({row:e})=>r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("div",{className:"flex flex-col",children:r.jsx(x.Z,{label:e.original.status,color:N.uH[e.original.status],style:{textTransform:"capitalize"},variant:"tonal",size:"small"})})})}),T.accessor("created_at",{header:"Date",cell:({row:e})=>r.jsx(u.Z,{children:e.original.created_at.substring(0,10)})}),T.accessor("action",{header:"Action",cell:({row:e})=>r.jsx("div",{className:"flex items-center",children:r.jsx(p.Z,{children:r.jsx(i.default,{href:(0,k.U)(`/services/service_token/details/${e.original.id}`,J),className:"flex",children:r.jsx("i",{className:"ri-eye-line text-textSecondary"})})})}),enableSorting:!1})],[S,I]);(0,l.useEffect)(()=>{L(S?.filter(e=>!s||e.status.toLowerCase().replace(/\s+/g,"-")===s.toLowerCase().replace(/\s+/g,"-")))},[s,S,,L]);let V=(0,P.b7)({data:I,columns:G,filterFns:{fuzzy:q},state:{rowSelection:b,globalFilter:D},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:q,onRowSelectionChange:w,getCoreRowModel:(0,y.sC)(),onGlobalFilterChange:H,getFilteredRowModel:(0,y.vL)(),getSortedRowModel:(0,y.tj)(),getPaginationRowModel:(0,y.G_)(),getFacetedRowModel:(0,y.o6)(),getFacetedUniqueValues:(0,y.JG)(),getFacetedMinMaxValues:(0,y.HO)()});return(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(o.Z,{className:"flex justify-between gap-4 flex-wrap flex-col sm:flex-row items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row max-sm:is-full items-center gap-4",children:[r.jsx(z,{value:D??"",onChange:e=>H(String(e)),placeholder:"Search Service",className:"max-sm:is-full min-is-[200px]"}),(0,r.jsxs)(m.Z,{fullWidth:!0,size:"small",className:"min-is-[175px]",children:[r.jsx(h.Z,{id:"status-select",children:"Service Status"}),(0,r.jsxs)(v.Z,{fullWidth:!0,id:"select-status",value:s,onChange:e=>g(e.target.value),label:"Invoice Status",labelId:"status-select",children:[r.jsx(j.Z,{value:"",children:"none"}),t.service_status.map(e=>r.jsx(j.Z,{value:e.name,children:e.name},e.id))]})]})]}),r.jsx(d.Z,{color:"secondary",variant:"outlined",startIcon:r.jsx("i",{className:"ri-upload-2-line text-xl"}),className:"max-sm:is-full",children:r.jsx(M.CSVLink,{className:"exportBtn",data:O,headers:F,filename:`all-serviceTokens-${new Date().toISOString()}.csv`,children:"Export"})})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:Z().table,children:[r.jsx("thead",{children:V.getHeaderGroups().map(e=>r.jsx("tr",{children:e.headers.map(e=>r.jsx("th",{children:e.isPlaceholder?null:r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:_()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,P.ie)(e.column.columnDef.header,e.getContext()),{asc:r.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:r.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),0===V.getFilteredRowModel().rows.length?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:V.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):r.jsx("tbody",{children:V.getRowModel().rows.slice(0,V.getState().pagination.pageSize).map(e=>r.jsx("tr",{className:_()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>r.jsx("td",{children:(0,P.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),r.jsx(f.Z,{rowsPerPageOptions:[10,25,50],component:"div",className:"border-bs",count:V.getFilteredRowModel().rows.length,rowsPerPage:V.getState().pagination.pageSize,page:V.getState().pagination.pageIndex,SelectProps:{inputProps:{"aria-label":"rows per page"}},onPageChange:(e,a)=>{V.setPageIndex(a)},onRowsPerPageChange:e=>V.setPageSize(Number(e.target.value))})]})},L=({title:e,count:a})=>r.jsx("div",{children:r.jsx(c.Z,{children:(0,r.jsxs)(o.Z,{className:"flex justify-between gap-1 ",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1 flex-grow",children:[r.jsx(u.Z,{color:"text.primary",variant:"h3",children:a}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:r.jsx(u.Z,{variant:"h5",color:`${"Cancel"===e?"error":"Active"===e?"primary":"Receive"===e?"orange":"Complete"===e?"green":"grey"}`,children:e})})]}),r.jsx(S.default,{skin:"light",variant:"rounded",size:42,children:r.jsx("i",{class:`${"Active"===e?"ri-user-add-line":"Cancel"===e?"ri-close-circle-fill":"Receive"===e?"ri-safe-fill":"ri-check-double-line"}`})})]})})}),D=()=>{let{data:e}=(0,A.kJ)(R.Ak),{data:a}=(0,A.kJ)(R.My);return(0,r.jsxs)(s.ZP,{container:!0,spacing:6,children:[r.jsx(s.ZP,{item:!0,md:3,xs:12,sm:6,children:r.jsx(L,{count:e.activeService.aggregate.count,title:"Active"})}),r.jsx(s.ZP,{item:!0,md:3,xs:12,sm:6,children:r.jsx(L,{count:e.canceledService.aggregate.count,title:"Cancel"})}),r.jsx(s.ZP,{item:!0,md:3,xs:12,sm:6,children:r.jsx(L,{count:e.receivedService.aggregate.count,title:"Receive"})}),r.jsx(s.ZP,{item:!0,md:3,xs:12,sm:6,children:r.jsx(L,{count:e.completedService.aggregate.count,title:"Complete"})}),r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(I,{})})]})}},31538:e=>{e.exports={table:"table_table__cB3AL",cellWithInput:"table_cellWithInput__N6u24"}},37151:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var r=t(79703),s=t(92334);let l=(0,s.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\views\service_token\list\index.jsx`),{__esModule:i,$$typeof:n}=l;l.default;let c=(0,s.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\views\service_token\list\index.jsx#default`),o=async()=>r.jsx(c,{})}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[9357,6491,1598,8743,8520,4081,168,195,8119,6514,3697,2598,5670,6532,6591],()=>t(61017));module.exports=r})();