(()=>{var e={};e.id=8003,e.ids=[8003],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},82361:e=>{"use strict";e.exports=require("events")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},84394:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),i(7406),i(88418),i(10634),i(35866);var r=i(23191),s=i(88716),a=i(37922),l=i.n(a),n=i(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);i.d(t,d);let c=["",{children:["[lang]",{children:["(dashboard)",{children:["products",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,7406)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\products\\edit\\[id]\\page.jsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\products\\edit\\[id]\\page.jsx"],x="/[lang]/(dashboard)/products/edit/[id]/page",u={require:i,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/[lang]/(dashboard)/products/edit/[id]/page",pathname:"/[lang]/products/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83548:(e,t,i)=>{Promise.resolve().then(i.bind(i,36548))},36548:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Q});var r=i(10326),s=i(32634),a=i(87700),l=i(25609);let n=({handleDiscardProduct:e,handleEditProduct:t,productData:i})=>(0,r.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx(l.Z,{variant:"h4",className:"mbe-1",children:"Update"}),r.jsx(l.Z,{children:"Orders placed across your store"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[r.jsx(a.Z,{variant:"outlined",color:"secondary",onClick:e,children:"Discard"}),r.jsx(a.Z,{variant:"contained",onClick:t,children:"Edit Product"})]})]});var d=i(99207),c=i(19518),o=i(67461),x=i(84187),u=i(78077),p=i(48029),m=i.n(p),h=i(948),g=i(45367),j=i(75864),f=i(23661),v=i(77542),b=i(18500),Z=i(32392);i(59104);var P=i(17577);let y=({editor:e})=>e?(0,r.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[r.jsx(b.Z,{...e.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleBold().run(),children:r.jsx("i",{className:m()("ri-bold",{"text-textSecondary":!e.isActive("bold")})})}),r.jsx(b.Z,{...e.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleUnderline().run(),children:r.jsx("i",{className:m()("ri-underline",{"text-textSecondary":!e.isActive("underline")})})}),r.jsx(b.Z,{...e.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleItalic().run(),children:r.jsx("i",{className:m()("ri-italic",{"text-textSecondary":!e.isActive("italic")})})}),r.jsx(b.Z,{...e.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleStrike().run(),children:r.jsx("i",{className:m()("ri-strikethrough",{"text-textSecondary":!e.isActive("strike")})})}),r.jsx(b.Z,{...e.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:r.jsx("i",{className:m()("ri-align-left",{"text-textSecondary":!e.isActive({textAlign:"left"})})})}),r.jsx(b.Z,{...e.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:r.jsx("i",{className:m()("ri-align-center",{"text-textSecondary":!e.isActive({textAlign:"center"})})})}),r.jsx(b.Z,{...e.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:r.jsx("i",{className:m()("ri-align-right",{"text-textSecondary":!e.isActive({textAlign:"right"})})})}),r.jsx(b.Z,{...e.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:r.jsx("i",{className:m()("ri-align-justify",{"text-textSecondary":!e.isActive({textAlign:"justify"})})})})]}):null,A=({setTitle:e,title:t,setSNo:i,sNo:a,setDescription:n,description:p,errors:m,productData:b})=>{(0,P.useEffect)(()=>{b&&(e(b.title),i(b.serial_number),n(Z.ZP(b.description_html)[0]?.props?.children[0]))},[b]);let A=(0,h.jE)({extensions:[g.V,f.V.configure({placeholder:"Write something here..."}),v.P.configure({types:["heading","paragraph"]}),j.v],content:p,onUpdate:({editor:e})=>{n(e.getHTML())}});return(0,r.jsxs)(c.Z,{children:[r.jsx(o.Z,{title:"Product Information"}),(0,r.jsxs)(x.Z,{children:[(0,r.jsxs)(s.ZP,{container:!0,spacing:5,className:"mbe-5",children:[r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(u.Z,{fullWidth:!0,label:"Product Name",placeholder:"Enter Product Name",value:t,onChange:t=>e(t.target.value),error:!!m?.title,helperText:m?.title})}),r.jsx(s.ZP,{item:!0,xs:12,sm:6,children:r.jsx(u.Z,{fullWidth:!0,label:"Serial Number",placeholder:"0123-4567",value:a,onChange:e=>i(e.target.value),error:!!m?.sNo,helperText:m?.sNo})})]}),r.jsx(l.Z,{className:"mbe-1",children:"Description (Optional)"}),r.jsx(c.Z,{className:"p-0 border shadow-none",children:(0,r.jsxs)(x.Z,{className:"p-0",children:[r.jsx(y,{editor:A}),r.jsx(d.Z,{className:"mli-5"}),r.jsx(h.kg,{editor:A,className:"bs-[135px] overflow-y-auto flex "})]})})]})]})};var N=i(48260),_=i(84979),C=i(71411),k=i(91703),S=i(23920),D=i(81547),q=i(40529),w=i(64926);let E=(0,k.ZP)(w.Z)(({theme:e})=>({"& .dropzone":{minHeight:"unset",padding:e.spacing(12),[e.breakpoints.down("sm")]:{paddingInline:e.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:e.typography.body1.fontWeight}}})),T=({files:e,setFiles:t,productData:i})=>{let[s,n]=(0,P.useState)([]),{getRootProps:d,getInputProps:u}=(0,S.uI)({onDrop:e=>{t(t=>[...t,...e.map(e=>Object.assign(e,{preview:URL.createObjectURL(e)}))])}});(0,P.useEffect)(()=>{i?.product_medias&&t(i.product_medias.map(e=>({media_url:e.media_url,id:e.id,type:"image",name:"image"})))},[i]);let p=e=>e.media_url?r.jsx("img",{width:38,height:38,alt:e.name,src:e.media_url}):e.type.startsWith("image")?r.jsx("img",{width:38,height:38,alt:e.name,src:URL.createObjectURL(e)}):r.jsx("i",{className:"ri-file-text-line"}),m=i=>{t([...e.filter(e=>e.name!==i.name)])},h=e.map(e=>(0,r.jsxs)(C.ZP,{className:"pis-4 plb-3",children:[(0,r.jsxs)("div",{className:"file-details",children:[r.jsx("div",{className:"file-preview",children:p(e)}),(0,r.jsxs)("div",{children:[r.jsx(l.Z,{className:"file-name font-medium",color:"text.primary",children:e.name}),r.jsx(l.Z,{className:"file-size",variant:"body2",children:Math.round(e.size/100)/10>1e3?`${(Math.round(e.size/100)/1e4).toFixed(1)} mb`:`${(Math.round(e.size/100)/10).toFixed(1)} kb`})]})]}),r.jsx(N.Z,{onClick:()=>m(e),children:r.jsx("i",{className:"ri-close-line text-xl"})})]},e.name));return r.jsx(E,{children:(0,r.jsxs)(c.Z,{children:[r.jsx(o.Z,{title:"Product Image",action:r.jsx(l.Z,{component:D.default,color:"primary",className:"font-medium",children:"Add media from URL"}),sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,r.jsxs)(x.Z,{children:[(0,r.jsxs)("div",{...d({className:"dropzone"}),children:[r.jsx("input",{...u()}),(0,r.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[r.jsx(q.default,{variant:"rounded",skin:"light",color:"secondary",children:r.jsx("i",{className:"ri-upload-2-line"})}),r.jsx(l.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),r.jsx(l.Z,{color:"text.disabled",children:"or"}),r.jsx(a.Z,{variant:"outlined",size:"small",children:"Browse Image"})]})]}),e.length?(0,r.jsxs)(r.Fragment,{children:[r.jsx(_.Z,{children:h}),r.jsx("div",{className:"buttons",children:r.jsx(a.Z,{color:"error",variant:"outlined",onClick:()=>{t([])},children:"Remove All"})})]}):null]})]})})};var I=i(53913),z=i(918),L=i(37841),O=i(56390),R=i(14853),U=i(84875),H=i(29084),M=i(36238);let J=({status:e,setStatus:t,brandId:i,setBrandId:s,catId:a,setCatId:l,errors:n,productData:d})=>{let{data:p}=(0,U.kJ)(H.BD),{data:m}=(0,U.kJ)(H.xH);return(0,P.useEffect)(()=>{d&&(s(d.brand.id),l((m?.product_categories.find(e=>e.id===d.product_category.id)).id||null))},[d,m]),(0,r.jsxs)(c.Z,{children:[r.jsx(o.Z,{title:"Organize"}),r.jsx(x.Z,{children:(0,r.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[i&&(0,r.jsxs)(I.Z,{fullWidth:!0,children:[r.jsx(z.Z,{children:"Select Product Brand"}),r.jsx(O.Z,{label:"Select Vendor",value:i,onChange:e=>s(e.target.value),error:!!n?.brandId,helperText:n?.brandId,children:p?.brands?.map((e,t)=>r.jsx(L.Z,{value:e?.id,children:e?.title},t))}),r.jsx(M.Z,{sx:{color:"red"},children:n?.brandId})]}),r.jsx(R.Z,{value:a,onChange:(e,t)=>{l(t.id)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:m?.product_categories||[],disableCloseOnSelect:!0,getOptionLabel:e=>e?.title||"",renderOption:(e,t,{selected:i})=>(0,P.createElement)("li",{...e,key:t.id},t.title),renderInput:e=>r.jsx(u.Z,{...e,label:"Category",placeholder:"select category"})})]})})]})};i(95673);var B=i(53190);let W=({price:e,setPrice:t,errors:i,productData:s})=>((0,P.useEffect)(()=>{s&&t(s.price)},[s]),(0,r.jsxs)(c.Z,{children:[r.jsx(o.Z,{title:"Pricing"}),r.jsx(x.Z,{children:r.jsx(B.Z,{children:r.jsx(u.Z,{fullWidth:!0,label:"Base Price",placeholder:"Enter Base Price",className:"mbe-5",value:e,onChange:e=>t(e.target.value),error:!!i?.price,helperText:i?.price})})})]}));var F=i(18753),G=i(24443),$=i(5330),V=i(76865),X=i(71728),Y=i(19611),K=i(35047);let Q=()=>{let{id:e}=(0,K.useParams)(),{setGlobalMsg:t,loading:i,setLoading:a}=(0,V.q)(),[l,d]=(0,P.useState)(),[c,o]=(0,P.useState)(),[x,u]=(0,P.useState)(),[p,m]=(0,P.useState)(),[h,g]=(0,P.useState)(),[j,f]=(0,P.useState)(),[v,b]=(0,P.useState)(),[Z,y]=(0,P.useState)([]),[N]=(0,F.D)(G.J9),[_]=(0,F.D)(G.Sf),{data:C}=(0,U.kJ)(H.yZ,{variables:{id:e}}),k=C.products_by_pk,S=async()=>{a(!0);let e={},i=!1;if(l||(e.title="Title field is required",i=!0),l||(e.title="Title field is required",i=!0),h||(e.price="Price field is required",i=!0),j||(e.sNo="Serial Number field is required",i=!0),x||(e.brandId="Brand field is required",i=!0),p||(e.catId="Category field is required",i=!0),i){b({...e}),a(!1);return}try{await Promise.all(Z.map(async e=>{let t=await _({variables:{content_type:"image",folder:"products"}}),i=await (0,Y.c)(e,t.data.getFileUploadUrl.fileUploadUrl,"image");return{media_type:"image",media_url:i}})),await N({variables:{id:k.id,title:l,description_html:c,brand_id:x,category_id:p,serial_number:j,price:h}}),a(!1),d(""),g(""),o(""),f(""),u(""),m(""),t("✅ Product has been updated")}catch(e){t("❌ Add Product Error"),console.log(e.response)}};return i?r.jsx(X.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.ZP,{container:!0,spacing:6,children:[r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(n,{handleDiscardProduct:()=>{d(""),o(""),g(0),f(0),m(""),u("")},handleEditProduct:S,productData:k})}),r.jsx(s.ZP,{item:!0,xs:12,md:8,children:(0,r.jsxs)(s.ZP,{container:!0,spacing:6,children:[r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(A,{setTitle:d,title:l,setSNo:f,sNo:j,setDescription:o,description:c,errors:v,productData:k})}),r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(T,{files:Z,setFiles:y,productData:k})})]})}),r.jsx(s.ZP,{item:!0,xs:12,md:4,children:(0,r.jsxs)(s.ZP,{container:!0,spacing:6,children:[r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(W,{price:h,setPrice:g,errors:v,productData:k})}),r.jsx(s.ZP,{item:!0,xs:12,children:r.jsx(J,{brandId:x,setBrandId:u,catId:p,setCatId:m,errors:v,productData:k})})]})})]}),r.jsx($.Z,{})]})}},7406:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});var r=i(68570);let s=(0,r.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\app\[lang]\(dashboard)\products\edit\[id]\page.jsx`),{__esModule:a,$$typeof:l}=s;s.default;let n=(0,r.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\app\[lang]\(dashboard)\products\edit\[id]\page.jsx#default`)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[8948,4471,4674,4366,8522,8077,4313,2825,1994,632,4073,4184,2557,2392,6860,7251,1684,9932,5673],()=>i(84394));module.exports=r})();