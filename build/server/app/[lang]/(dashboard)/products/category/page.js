(()=>{var e={};e.id=8583,e.ids=[8583],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},89560:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>d}),a(48843),a(5114),a(32687),a(85133);var r=a(79193),s=a(71854),i=a(33997),l=a.n(i),n=a(73320),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["[lang]",{children:["(dashboard)",{children:["products",{children:["category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,48843)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\products\\category\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5114)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,32687)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,85133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\products\\category\\page.jsx"],u="/[lang]/(dashboard)/products/category/page",p={require:a,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/[lang]/(dashboard)/products/category/page",pathname:"/[lang]/products/category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90104:(e,t,a)=>{Promise.resolve().then(a.bind(a,24294))},57971:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Z});var r,s=a(6520),i=a(13211),l=a(618),n=a(69360),o=a(47150),d=a(46324),c=a(72660),u=a(19910),p=a(3488),g=a(26829),m=a(66875),x=a(62209);function h(e){return(0,x.ZP)("MuiInputAdornment",e)}let j=(0,m.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var f=a(28502),v=a(27486);let b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],P=e=>{let{classes:t,disablePointerEvents:a,hiddenLabel:r,position:s,size:i,variant:l}=e,n={root:["root",a&&"disablePointerEvents",s&&`position${(0,d.Z)(s)}`,l,r&&"hiddenLabel",i&&`size${(0,d.Z)(i)}`]};return(0,o.Z)(n,h,t)},y=(0,g.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`position${(0,d.Z)(a.position)}`],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})(({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${j.positionStart}&:not(.${j.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),Z=l.forwardRef(function(e,t){let a=(0,f.i)({props:e,name:"MuiInputAdornment"}),{children:o,className:d,component:g="div",disablePointerEvents:m=!1,disableTypography:x=!1,position:h,variant:j}=a,Z=(0,s.Z)(a,b),C=(0,p.Z)()||{},w=j;j&&C.variant,C&&!w&&(w=C.variant);let S=(0,i.Z)({},a,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:m,position:h,variant:w}),N=P(S);return(0,v.jsx)(u.Z.Provider,{value:null,children:(0,v.jsx)(y,(0,i.Z)({as:g,ownerState:S,className:(0,n.Z)(N.root,d),ref:t},Z,{children:"string"!=typeof o||x?(0,v.jsxs)(l.Fragment,{children:["start"===h?r||(r=(0,v.jsx)("span",{className:"notranslate",children:"​"})):null,o]}):(0,v.jsx)(c.Z,{color:"text.secondary",children:o})}))})})},48398:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var r=a(27486),s=a(618),i=a(38165),l=a(57559),n=a(63990),o=a(6386),d=a(23467),c=a(84961),u=a(8126),p=a(77673),g=a(24687),m=a(9594),x=a(20700),h=a(19396),j=a.n(h),f=a(63665);let v=e=>{let{tooltipProps:t,children:a}=e;return t?.title?r.jsx(l.Z,{...t,children:a}):a},b=({children:e,option:t})=>t.href?r.jsx(n.Z,{component:i.default,href:t.href,...t.linkProps,children:e}):r.jsx(r.Fragment,{children:e}),P=e=>{let{tooltipProps:t,icon:a,iconClassName:i,options:l,leftAlignMenu:n,iconButtonProps:h}=e,[P,y]=(0,s.useState)(!1),Z=(0,s.useRef)(null),{settings:C}=(0,f.r)(),w=e=>{Z.current&&Z.current.contains(e.target)||y(!1)};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(v,{tooltipProps:t,children:r.jsx(m.Z,{ref:Z,size:"small",onClick:()=>{y(e=>!e)},...h,children:"string"==typeof a?r.jsx("i",{className:j()(a,i)}):a||r.jsx("i",{className:j()("ri-more-2-line",i)})})}),r.jsx(o.Z,{open:P,anchorEl:Z.current,placement:n?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:({TransitionProps:e})=>r.jsx(p.Z,{...e,children:r.jsx(g.Z,{className:"bordered"===C.skin?"border shadow-none":"shadow-lg",children:r.jsx(u.d,{onClickAway:w,children:r.jsx(c.Z,{autoFocusItem:P,children:l.map((e,t)=>"string"==typeof e?r.jsx(d.Z,{onClick:w,children:e},t):"divider"in e?e.divider&&r.jsx(x.Z,{...e.dividerProps},t):r.jsx(d.Z,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:t=>{w(t),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,r.jsxs)(b,{option:e,children:[("string"==typeof e.icon?r.jsx("i",{className:e.icon}):e.icon)||null,e.text]})},t))})})})})})]})}},91347:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(27486);a(618);var s=a(27319),i=a(22405);let l=()=>{let{globalMsg:e,setGlobalMsg:t}=(0,i.q)();return r.jsx("div",{children:r.jsx(s.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>t(null),message:e})})}},24294:(e,t,a)=>{"use strict";a.d(t,{default:()=>F});var r=a(27486),s=a(618),i=a(69121),l=a(12964),n=a(9594),o=a(2598),d=a(30785),c=a(72660),u=a(19396),p=a.n(u),g=a(61359),m=a(36514),x=a(57229),h=a(39800),j=a(20700),f=a(57971),v=a(86016),b=a(58894),P=a(83398),y=a(66718),Z=a(91347),C=a(22405);let w=e=>{let{setGlobalMsg:t}=(0,C.q)(),{open:a,handleClose:i,categoryData:o,setData:u,loading:p,setLoading:g}=e,[m]=(0,P.D)(y.hq),[x]=(0,P.D)(y.Sf),[w,S]=(0,s.useState)(""),[N,_]=(0,s.useState)(""),R=(0,s.useRef)(null),{control:A,reset:E,handleSubmit:M,formState:{errors:q}}=(0,b.cI)({defaultValues:{title:"",image_url:""}}),I=async e=>{if(!w||0===w.length){_("Please Select Image");return}try{g(!0);let a=await x({variables:{content_type:"image",folder:"products"}}),r=await (0,v.c)(w[0],a.data.getFileUploadUrl.fileUploadUrl,"image"),s=await m({variables:{data:{title:e.title,image_url:r}}});g(!1),u([...o,s.data.insert_product_categories_one]),k(),i(),t("➕ Added New Category")}catch(e){console.log("Error ",e),t("❌ Title Must Be Unique")}},k=()=>{E({title:"",image_url:""}),S(""),R.current.value=""};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.ZP,{open:a,anchor:"right",variant:"temporary",onClose:k,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(c.Z,{variant:"h5",children:"Add Category"}),r.jsx(n.Z,{size:"small",onClick:i,children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(j.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:M(e=>I(e)),className:"flex flex-col gap-5",children:[r.jsx(b.Qr,{name:"title",control:A,rules:{required:!0},render:({field:e})=>r.jsx(d.Z,{...e,fullWidth:!0,label:"Title",placeholder:"",...q.title&&{error:!0,helperText:"This field is required."}})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(d.Z,{size:"small",placeholder:"No file chosen",variant:"outlined",value:w?w[0]?.name:"",className:"flex-auto",InputProps:{readOnly:!0,endAdornment:w?r.jsx(f.Z,{position:"end",children:r.jsx(n.Z,{size:"small",edge:"end",onClick:()=>S(""),children:r.jsx("i",{className:"ri-close-line"})})}):null}}),(0,r.jsxs)(l.Z,{component:"label",variant:"outlined",htmlFor:"contained-button-file",className:"min-is-fit",children:["Choose",r.jsx("input",{hidden:!0,id:"contained-button-file",type:"file",onChange:e=>{let{files:t}=e.target;t&&0!==t.length&&("image"!==t[0].type.split("/")[0]?(_("Please upload a valid image file."),S("")):(_(""),S(t)))},ref:R})]})]}),N&&r.jsx(c.Z,{color:"error",children:N}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(l.Z,{variant:"contained",type:"submit",loading:p,children:"Add"}),r.jsx(l.Z,{variant:"outlined",color:"error",type:"reset",onClick:k,children:"Discard"})]})]})})]}),r.jsx(Z.Z,{})]})};a(48398);var S=a(31538),N=a.n(S),_=a(45882),R=a(25009);let A=e=>{let{setGlobalMsg:t}=(0,C.q)(),{open:a,handleClose:i,categoryData:o,setData:u,loading:p,setLoading:g}=e,[m]=(0,P.D)(y.bc),[x]=(0,P.D)(y.Sf),[f,w]=(0,s.useState)(),[S,N]=(0,s.useState)(),[_,R]=(0,s.useState)(""),A=(0,s.useRef)(null),{control:E,reset:M,handleSubmit:q,formState:{errors:I}}=(0,b.cI)({defaultValues:{title:"",image_url:""}}),k=async e=>{try{g(!0);let a=o.image_url;if(f&&f!==o?.image_url){let{data:e}=await x({variables:{content_type:"image",folder:"products"}});a=await (0,v.c)(f,e.getFileUploadUrl.fileUploadUrl,"image")}let r=await m({variables:{id:o?.id,data:{title:e.title,image_url:a}}});u(e=>e.map(e=>e.id===o?.id?{...e,...r.data.update_product_categories_by_pk}:e)),F(),t("✅ Category has been updated")}catch(e){console.log("Error ",e)}};(0,s.useEffect)(()=>{o&&(N(o?.image_url),M({title:o.title}),w(o.image_url||""))},[o,M]);let F=()=>{i(),M({title:"",description:""}),w(""),R("")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.ZP,{open:a,anchor:"right",variant:"temporary",onClose:F,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(c.Z,{variant:"h5",children:"Edit Category"}),r.jsx(n.Z,{size:"small",onClick:F,children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(j.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:q(e=>k(e)),className:"flex flex-col gap-5",children:[r.jsx(b.Qr,{name:"title",control:E,rules:{required:!0},render:({field:e})=>r.jsx(d.Z,{...e,fullWidth:!0,label:"Title",placeholder:"",...I.title&&{error:!0,helperText:"This field is required."}})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("input",{type:"file",id:"contained-button-file",onChange:e=>{let{files:t}=e.target;if(t&&t.length>0){let e=t[0];["image/jpeg","image/png"].includes(e.type)?(R(""),w(e),N(URL.createObjectURL(e))):(R("Invalid file type. Please select an image (JPEG, PNG, GIF)."),w(null),N(null),A.current.value=null)}},ref:A})}),_&&r.jsx(c.Z,{color:"error",variant:"body2",children:_}),S&&r.jsx("div",{className:"mt-4",children:r.jsx("img",{src:S,alt:"Preview",style:{width:"100%",borderRadius:"4px"}})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(l.Z,{variant:"contained",type:"submit",loading:p,children:"Update"}),r.jsx(l.Z,{variant:"outlined",color:"error",type:"reset",onClick:i,children:"Cancel"})]})]})})]}),r.jsx(Z.Z,{})]})};var E=a(36839),M=a(5632);let q=(e,t,a,r)=>{let s=(0,g.O4)(e.getValue(t),a);return r({itemRank:s}),s.passed},I=({value:e,onChange:t,debounce:a=500,...i})=>{let[l,n]=(0,s.useState)(e);return(0,s.useEffect)(()=>{n(e)},[e]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{t(l)},a);return()=>clearTimeout(e)},[l]),r.jsx(d.Z,{...i,value:l,onChange:e=>n(e.target.value),size:"small"})},k=(0,m.Cl)(),F=()=>{let{setGlobalMsg:e}=(0,C.q)(),{data:t}=(0,_.kJ)(R.C9),[a,d]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[h,j]=(0,s.useState)({}),[f,v]=(0,s.useState)(t.product_categories),[b,P]=(0,s.useState)(""),[y,Z]=(0,s.useState)(!1),[S,F]=(0,s.useState)(),D=(e,t,a)=>({children:e,color:t,variant:a}),T=(0,s.useMemo)(()=>[k.accessor("title",{header:"Categories",cell:({row:e})=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:e.original.image_url,width:38,height:38,className:"rounded bg-actionHover"}),(0,r.jsxs)("div",{className:"flex flex-col items-start",children:[r.jsx(c.Z,{className:"font-medium",color:"text.primary",children:e.original.title}),r.jsx(c.Z,{variant:"body2",children:e.original.description})]})]})}),k.accessor("products_aggregate.aggregate.count",{header:"Total Products",cell:({row:e})=>r.jsx(c.Z,{children:e?.original?.products_aggregate?.aggregate?.count?.toLocaleString()})}),k.accessor("created_at",{header:"Date",cell:({row:e})=>r.jsx(c.Z,{children:e.original.created_at.substring(0,10)})}),k.accessor("actions",{header:"Actions",cell:({row:e})=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(n.Z,{size:"small",onClick:()=>{g(!u),F(e.original)},children:r.jsx("i",{className:"ri-edit-box-line text-[22px] text-textSecondary"})}),r.jsx(E.Z,{element:l.Z,elementProps:D(r.jsx("i",{className:"ri-delete-bin-7-line text-[22px] text-red-500"}),"error",""),dialog:M.Z,dialogProps:{type:"deleteProductCategory"},dataId:e.original.id,setData:v,data:f})]}),enableSorting:!1})],[f]),z=(0,x.b7)({data:f,columns:T,filterFns:{fuzzy:q},state:{rowSelection:h,globalFilter:b},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:q,onRowSelectionChange:j,getCoreRowModel:(0,m.sC)(),onGlobalFilterChange:P,getFilteredRowModel:(0,m.vL)(),getSortedRowModel:(0,m.tj)(),getPaginationRowModel:(0,m.G_)(),getFacetedRowModel:(0,m.o6)(),getFacetedUniqueValues:(0,m.JG)(),getFacetedMinMaxValues:(0,m.HO)()});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between max-sm:flex-col sm:items-center gap-y-4 p-5",children:[r.jsx(I,{value:b??"",onChange:e=>P(String(e)),placeholder:"Search",className:"max-sm:is-full"}),r.jsx("div",{className:"flex items-center max-sm:flex-col gap-4 max-sm:is-full is-auto",children:r.jsx(l.Z,{variant:"contained",className:"max-sm:is-full is-auto",onClick:()=>d(!a),startIcon:r.jsx("i",{className:"ri-add-line"}),children:"Add Category"})})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:N().table,children:[r.jsx("thead",{children:z.getHeaderGroups().map(e=>r.jsx("tr",{children:e.headers.map(e=>r.jsx("th",{children:e.isPlaceholder?null:r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:p()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,x.ie)(e.column.columnDef.header,e.getContext()),{asc:r.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:r.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),0===z.getFilteredRowModel().rows.length?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:z.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):r.jsx("tbody",{children:z.getRowModel().rows.slice(0,z.getState().pagination.pageSize).map(e=>r.jsx("tr",{className:p()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>r.jsx("td",{children:(0,x.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),r.jsx(o.Z,{rowsPerPageOptions:[10,15,25],component:"div",className:"border-bs",count:z.getFilteredRowModel().rows.length,rowsPerPage:z.getState().pagination.pageSize,page:z.getState().pagination.pageIndex,onPageChange:(e,t)=>{z.setPageIndex(t)},onRowsPerPageChange:e=>z.setPageSize(Number(e.target.value))})]}),r.jsx(w,{open:a,categoryData:f,setData:v,loading:y,setLoading:Z,handleClose:()=>d(!a)}),r.jsx(A,{open:u,categoryData:S,setData:v,loading:y,setLoading:Z,handleClose:()=>g(!u)})]})}},48843:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(79703),s=a(92334);let i=(0,s.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\views\products\category\ProductCategoryTable.jsx`),{__esModule:l,$$typeof:n}=i;i.default;let o=(0,s.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\views\products\category\ProductCategoryTable.jsx#default`),d=()=>r.jsx(o,{})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9357,6491,1598,8743,8520,168,195,785,6695,3697,8894,2598,9800,1738,5670,6532,1894],()=>a(89560));module.exports=r})();