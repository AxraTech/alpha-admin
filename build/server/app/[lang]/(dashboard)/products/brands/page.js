(()=>{var e={};e.id=8146,e.ids=[8146],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},14103:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(7835),a(88418),a(10634),a(35866);var r=a(23191),s=a(88716),i=a(37922),n=a.n(i),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["[lang]",{children:["(dashboard)",{children:["products",{children:["brands",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7835)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\products\\brands\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\products\\brands\\page.jsx"],u="/[lang]/(dashboard)/products/brands/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/[lang]/(dashboard)/products/brands/page",pathname:"/[lang]/products/brands",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7310:(e,t,a)=>{Promise.resolve().then(a.bind(a,20568))},19518:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var r=a(45353),s=a(91367),i=a(17577),n=a(41135),l=a(88634),o=a(91703),d=a(2791),c=a(89178),u=a(55336),m=a(10326);let p=["className","raised"],x=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},u.y,t)},h=(0,o.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),g=i.forwardRef(function(e,t){let a=(0,d.i)({props:e,name:"MuiCard"}),{className:i,raised:l=!1}=a,o=(0,s.Z)(a,p),c=(0,r.Z)({},a,{raised:l}),u=x(c);return(0,m.jsx)(h,(0,r.Z)({className:(0,n.Z)(u.root,i),elevation:l?8:void 0,ref:t,ownerState:c},o))})},55336:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n,y:()=>i});var r=a(71685),s=a(97898);function i(e){return(0,s.ZP)("MuiCard",e)}let n=(0,r.Z)("MuiCard",["root"])},57329:(e,t,a)=>{"use strict";a.d(t,{Z:()=>y});var r,s=a(91367),i=a(45353),n=a(17577),l=a(41135),o=a(88634),d=a(54641),c=a(25609),u=a(45011),m=a(65656),p=a(91703),x=a(71685),h=a(97898);function g(e){return(0,h.ZP)("MuiInputAdornment",e)}let j=(0,x.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var f=a(2791),v=a(10326);let b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],P=e=>{let{classes:t,disablePointerEvents:a,hiddenLabel:r,position:s,size:i,variant:n}=e,l={root:["root",a&&"disablePointerEvents",s&&`position${(0,d.Z)(s)}`,n,r&&"hiddenLabel",i&&`size${(0,d.Z)(i)}`]};return(0,o.Z)(l,g,t)},Z=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[`position${(0,d.Z)(a.position)}`],!0===a.disablePointerEvents&&t.disablePointerEvents,t[a.variant]]}})(({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${j.positionStart}&:not(.${j.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),y=n.forwardRef(function(e,t){let a=(0,f.i)({props:e,name:"MuiInputAdornment"}),{children:o,className:d,component:p="div",disablePointerEvents:x=!1,disableTypography:h=!1,position:g,variant:j}=a,y=(0,s.Z)(a,b),w=(0,m.Z)()||{},N=j;j&&w.variant,w&&!N&&(N=w.variant);let S=(0,i.Z)({},a,{hiddenLabel:w.hiddenLabel,size:w.size,disablePointerEvents:x,position:g,variant:N}),C=P(S);return(0,v.jsx)(u.Z.Provider,{value:null,children:(0,v.jsx)(Z,(0,i.Z)({as:p,ownerState:S,className:(0,l.Z)(C.root,d),ref:t},y,{children:"string"!=typeof o||h?(0,v.jsxs)(n.Fragment,{children:["start"===g?r||(r=(0,v.jsx)("span",{className:"notranslate",children:"​"})):null,o]}):(0,v.jsx)(c.Z,{color:"text.secondary",children:o})}))})})},60003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var r=a(10326),s=a(17577),i=a(90434),n=a(83708),l=a(71728),o=a(69035),d=a(37841),c=a(70034),u=a(47541),m=a(48467),p=a(89178),x=a(48260),h=a(99207),g=a(48029),j=a.n(g),f=a(65087);let v=e=>{let{tooltipProps:t,children:a}=e;return t?.title?r.jsx(n.Z,{...t,children:a}):a},b=({children:e,option:t})=>t.href?r.jsx(l.Z,{component:i.default,href:t.href,...t.linkProps,children:e}):r.jsx(r.Fragment,{children:e}),P=e=>{let{tooltipProps:t,icon:a,iconClassName:i,options:n,leftAlignMenu:l,iconButtonProps:g}=e,[P,Z]=(0,s.useState)(!1),y=(0,s.useRef)(null),{settings:w}=(0,f.r)(),N=e=>{y.current&&y.current.contains(e.target)||Z(!1)};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(v,{tooltipProps:t,children:r.jsx(x.Z,{ref:y,size:"small",onClick:()=>{Z(e=>!e)},...g,children:"string"==typeof a?r.jsx("i",{className:j()(a,i)}):a||r.jsx("i",{className:j()("ri-more-2-line",i)})})}),r.jsx(o.Z,{open:P,anchorEl:y.current,placement:l?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:({TransitionProps:e})=>r.jsx(m.Z,{...e,children:r.jsx(p.Z,{className:"bordered"===w.skin?"border shadow-none":"shadow-lg",children:r.jsx(u.d,{onClickAway:N,children:r.jsx(c.Z,{autoFocusItem:P,children:n.map((e,t)=>"string"==typeof e?r.jsx(d.Z,{onClick:N,children:e},t):"divider"in e?e.divider&&r.jsx(h.Z,{...e.dividerProps},t):r.jsx(d.Z,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:t=>{N(t),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(t)},children:(0,r.jsxs)(b,{option:e,children:[("string"==typeof e.icon?r.jsx("i",{className:e.icon}):e.icon)||null,e.text]})},t))})})})})})]})}},5330:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(10326);a(17577);var s=a(38506),i=a(76865);let n=()=>{let{globalMsg:e,setGlobalMsg:t}=(0,i.q)();return r.jsx("div",{children:r.jsx(s.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>t(null),message:e})})}},26734:(e,t,a)=>{"use strict";a.d(t,{c:()=>r});let r=async(e,t,a)=>{try{return(await fetch(t,{method:"PUT",headers:{"Content-Type":`${a}/*`,"x-amz-acl":"public-read"},body:e})).url.split("?")[0]}catch(e){throw alert(e),console.log(e),Error(e)}}},20568:(e,t,a)=>{"use strict";a.d(t,{default:()=>T});var r=a(10326),s=a(17577),i=a(19518),n=a(87700),l=a(48260),o=a(95684),d=a(78077),c=a(25609),u=a(48029),m=a.n(u),p=a(5606),x=a(11798),h=a(86508),g=a(19074),j=a(99207),f=a(57329),v=a(74723),b=a(18753),P=a(24443),Z=a(76865),y=a(26734);let w=e=>{let{setGlobalMsg:t}=(0,Z.q)(),{open:a,handleClose:i,brandData:o,setData:u,loading:m,setLoading:p}=e,[x]=(0,b.D)(P.MP),[h]=(0,b.D)(P.Sf),[w,N]=(0,s.useState)(""),S=(0,s.useRef)(null),{control:C,reset:A,handleSubmit:_,formState:{errors:D}}=(0,v.cI)({defaultValues:{title:"",description:""}}),R=async e=>{try{p(!0);let a=await h({variables:{content_type:"image",folder:"quotations"}}),r=await (0,y.c)(w[0],a.data.getFileUploadUrl.fileUploadUrl,"image"),s=await x({variables:{data:{title:e.title,image_url:r}}});u([...o,s.data.insert_brands_one]),t("➕ Add New Product Brand"),p(!1),i(),M()}catch(e){t("❌ Add Brand Error"),console.log("Add Error ",e)}},M=()=>{A({}),N("")};return(0,r.jsxs)(g.ZP,{open:a,anchor:"right",variant:"temporary",onClose:M,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(c.Z,{variant:"h5",children:"Add Brand"}),r.jsx(l.Z,{size:"small",onClick:()=>{i()},children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(j.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:_(e=>R(e)),className:"flex flex-col gap-5",children:[r.jsx(v.Qr,{name:"title",control:C,rules:{required:!0},render:({field:e})=>r.jsx(d.Z,{...e,fullWidth:!0,label:"Title",placeholder:"",...D.title&&{error:!0,helperText:"This field is required."}})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(d.Z,{size:"small",placeholder:"No file chosen",variant:"outlined",value:w[0]?.name,className:"flex-auto",InputProps:{readOnly:!0,endAdornment:w?r.jsx(f.Z,{position:"end",children:r.jsx(l.Z,{size:"small",edge:"end",onClick:()=>N(""),children:r.jsx("i",{className:"ri-close-line"})})}):null}}),(0,r.jsxs)(n.Z,{component:"label",variant:"outlined",htmlFor:"contained-button-file",className:"min-is-fit",children:["Choose",r.jsx("input",{hidden:!0,id:"contained-button-file",type:"file",onChange:e=>{let{files:t}=e.target;t&&0!==t.length&&N(t)},ref:S})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.Z,{variant:"contained",type:"submit",loading:m,children:"Add"}),r.jsx(n.Z,{variant:"outlined",color:"error",type:"reset",onClick:M,children:"Discard"})]})]})})]})};a(60003);var N=a(89307),S=a.n(N),C=a(84875),A=a(29084),_=a(5330);let D=e=>{let{setGlobalMsg:t}=(0,Z.q)(),{open:a,handleClose:i,brandData:o,setData:u,loading:m,setLoading:p}=e,[x]=(0,b.D)(P.Si),[h]=(0,b.D)(P.Sf),[f,w]=(0,s.useState)(""),[N,S]=(0,s.useState)(),C=(0,s.useRef)(null),{control:A,reset:_,handleSubmit:D,formState:{errors:R}}=(0,v.cI)({defaultValues:{title:"",image_url:""}}),M=async e=>{try{p(!0);let a=o.image_url;if(f&&f!==o?.image_url){let e=await h({variables:{content_type:"image",folder:"products"}});a=await (0,y.c)(f,e.data.getFileUploadUrl.fileUploadUrl,"image")}let r=await x({variables:{id:o.id,data:{title:e.title,image_url:a}}});u(e=>e.map(e=>e.id===o?.id?{...e,...r.data.update_brands_by_pk}:e)),t("✅ Brand Data has been updated"),E()}catch(e){t("❌ Add Brand Error"),console.log("Add Error ",e)}},E=()=>{i(),_({title:"",description:""}),w("")};return(0,s.useEffect)(()=>{o&&(S(o?.image_url),_({title:o.title}),w(o.image_url))},[o,_]),(0,r.jsxs)(g.ZP,{open:a,anchor:"right",variant:"temporary",onClose:E,ModalProps:{keepMounted:!0},sx:{"& .MuiDrawer-paper":{width:{xs:300,sm:400}}},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between pli-5 plb-4",children:[r.jsx(c.Z,{variant:"h5",children:"Edit Brand"}),r.jsx(l.Z,{size:"small",onClick:E,children:r.jsx("i",{className:"ri-close-line text-2xl"})})]}),r.jsx(j.Z,{}),r.jsx("div",{className:"p-5",children:(0,r.jsxs)("form",{onSubmit:D(e=>M(e)),className:"flex flex-col gap-5",children:[r.jsx(v.Qr,{name:"title",control:A,rules:{required:!0},render:({field:e})=>r.jsx(d.Z,{...e,fullWidth:!0,label:"Title",placeholder:"",...R.title&&{error:!0,helperText:"This field is required."}})}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("input",{type:"file",id:"contained-button-file",onChange:e=>{let{files:t}=e.target;if(t&&t.length>0){let e=t[0];w(e),S(URL.createObjectURL(e))}},ref:C})}),N&&r.jsx("div",{className:"mt-4",children:r.jsx("img",{src:N,alt:"Preview",style:{width:"100%",borderRadius:"4px"}})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.Z,{variant:"contained",type:"submit",children:"Update"}),r.jsx(n.Z,{variant:"outlined",color:"error",type:"reset",onClick:E,children:"Discard"})]})]})})]})};var R=a(4099),M=a(92474);let E=(e,t,a,r)=>{let s=(0,p.O4)(e.getValue(t),a);return r({itemRank:s}),s.passed},k=({value:e,onChange:t,debounce:a=500,...i})=>{let[n,l]=(0,s.useState)(e);return(0,s.useEffect)(()=>{l(e)},[e]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{t(n)},a);return()=>clearTimeout(e)},[n]),r.jsx(d.Z,{...i,value:n,onChange:e=>l(e.target.value),size:"small"})},q=(0,x.Cl)(),T=()=>{let{setGlobalMsg:e}=(0,Z.q)(),{data:t}=(0,C.kJ)(A.Sg),[a]=(0,b.D)(P.Ff),[d,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)({}),[j,f]=(0,s.useState)(t.brands),[v,y]=(0,s.useState)(""),[N,T]=(0,s.useState)(!1),[F,I]=(0,s.useState)(!1),[z,L]=(0,s.useState)(),O=(e,t,a)=>({children:e,color:t,variant:a}),U=(0,s.useMemo)(()=>[q.accessor("title",{header:"Brands",cell:({row:e})=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:e.original.image_url,width:38,height:38,className:"rounded bg-actionHover"}),r.jsx("div",{className:"flex flex-col items-start",children:r.jsx(c.Z,{className:"font-medium",color:"text.primary",children:e.original.title})})]})}),q.accessor("products_aggregate.aggregate.count",{header:"Total Products",cell:({row:e})=>r.jsx(c.Z,{children:e.original?.products_aggregate?.aggregate?.count.toLocaleString()})}),q.accessor("created_at",{header:"Date",cell:({row:e})=>r.jsx(c.Z,{children:e.original.created_at.substring(0,10)})}),q.accessor("actions",{header:"Actions",cell:({row:e})=>(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(l.Z,{size:"small",onClick:()=>{I(!F),L(e.original)},children:r.jsx("i",{className:"ri-edit-box-line text-[22px] text-textSecondary"})}),r.jsx(R.default,{element:n.Z,elementProps:O(r.jsx("i",{className:"ri-delete-bin-7-line text-[22px] text-red-500"}),"error",""),dialog:M.Z,dialogProps:{type:"deleteProductBrand"},dataId:e.original.id,setData:f,data:j})]}),enableSorting:!1})],[j]),H=(0,h.b7)({data:j,columns:U,filterFns:{fuzzy:E},state:{rowSelection:p,globalFilter:v},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:E,onRowSelectionChange:g,getCoreRowModel:(0,x.sC)(),onGlobalFilterChange:y,getFilteredRowModel:(0,x.vL)(),getSortedRowModel:(0,x.tj)(),getPaginationRowModel:(0,x.G_)(),getFacetedRowModel:(0,x.o6)(),getFacetedUniqueValues:(0,x.JG)(),getFacetedMinMaxValues:(0,x.HO)()});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between max-sm:flex-col sm:items-center gap-y-4 p-5",children:[r.jsx(k,{value:v??"",onChange:e=>y(String(e)),placeholder:"Search",className:"max-sm:is-full"}),r.jsx("div",{className:"flex items-center max-sm:flex-col gap-4 max-sm:is-full is-auto",children:r.jsx(n.Z,{variant:"contained",className:"max-sm:is-full is-auto",onClick:()=>u(!d),startIcon:r.jsx("i",{className:"ri-add-line"}),children:"Add Brand"})})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:S().table,children:[r.jsx("thead",{children:H.getHeaderGroups().map(e=>r.jsx("tr",{children:e.headers.map(e=>r.jsx("th",{children:e.isPlaceholder?null:r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:m()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,h.ie)(e.column.columnDef.header,e.getContext()),{asc:r.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:r.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),0===H.getFilteredRowModel().rows.length?r.jsx("tbody",{children:r.jsx("tr",{children:r.jsx("td",{colSpan:H.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):r.jsx("tbody",{children:H.getRowModel().rows.slice(0,H.getState().pagination.pageSize).map(e=>r.jsx("tr",{className:m()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>r.jsx("td",{children:(0,h.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),r.jsx(o.Z,{rowsPerPageOptions:[10,15,25],component:"div",className:"border-bs",count:H.getFilteredRowModel().rows.length,rowsPerPage:H.getState().pagination.pageSize,page:H.getState().pagination.pageIndex,onPageChange:(e,t)=>{H.setPageIndex(t)},onRowsPerPageChange:e=>H.setPageSize(Number(e.target.value))})]}),r.jsx(w,{open:d,brandData:j,setData:f,loading:N,setLoading:T,handleClose:()=>u(!d)}),r.jsx(D,{open:F,brandData:z,setData:f,loading:N,setLoading:T,handleClose:()=>I(!F)}),r.jsx(_.Z,{})]})}},7835:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(19510),s=a(68570);let i=(0,s.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\products\category copy\ProductBrandTable.jsx`),{__esModule:n,$$typeof:l}=i;i.default;let o=(0,s.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\views\products\category copy\ProductBrandTable.jsx#default`),d=()=>r.jsx(o,{})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,4471,4674,4366,8522,4313,2825,8077,1798,8117,4723,9074,5684,3054,6860,7251,9345],()=>a(14103));module.exports=r})();