(()=>{var e={};e.id=5974,e.ids=[5974],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},58472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),r(54256),r(88418),r(10634),r(35866);var i=r(23191),a=r(88716),s=r(37922),l=r.n(s),n=r(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let c=["",{children:["[lang]",{children:["(dashboard)",{children:["products",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,54256)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\products\\add\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,88418)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,10634)),"D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\ALPHA PROJECT\\Admin Dashboard\\alpha-admin\\src\\app\\[lang]\\(dashboard)\\products\\add\\page.jsx"],x="/[lang]/(dashboard)/products/add/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[lang]/(dashboard)/products/add/page",pathname:"/[lang]/products/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82466:(e,t,r)=>{Promise.resolve().then(r.bind(r,27983))},27983:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var i=r(10326),a=r(32634),s=r(46374),l=r(25609);let n=({handleDiscardProduct:e,handleAddProduct:t})=>(0,i.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[(0,i.jsxs)("div",{children:[i.jsx(l.Z,{variant:"h4",className:"mbe-1",children:"Add a new product"}),i.jsx(l.Z,{children:"Orders placed across your store"})]}),(0,i.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[i.jsx(s.Z,{variant:"outlined",color:"secondary",onClick:e,children:"Discard"}),i.jsx(s.Z,{variant:"contained",onClick:t,children:"Publish Product"})]})]});var d=r(99207),c=r(19518),o=r(67461),x=r(84187),u=r(78077),p=r(48029),h=r.n(p),m=r(948),g=r(45367),j=r(75864),f=r(23661),v=r(77542),b=r(18500);r(59104);var P=r(17577);let Z=({editor:e})=>e?(0,i.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[i.jsx(b.Z,{...e.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleBold().run(),children:i.jsx("i",{className:h()("ri-bold",{"text-textSecondary":!e.isActive("bold")})})}),i.jsx(b.Z,{...e.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleUnderline().run(),children:i.jsx("i",{className:h()("ri-underline",{"text-textSecondary":!e.isActive("underline")})})}),i.jsx(b.Z,{...e.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleItalic().run(),children:i.jsx("i",{className:h()("ri-italic",{"text-textSecondary":!e.isActive("italic")})})}),i.jsx(b.Z,{...e.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleStrike().run(),children:i.jsx("i",{className:h()("ri-strikethrough",{"text-textSecondary":!e.isActive("strike")})})}),i.jsx(b.Z,{...e.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:i.jsx("i",{className:h()("ri-align-left",{"text-textSecondary":!e.isActive({textAlign:"left"})})})}),i.jsx(b.Z,{...e.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:i.jsx("i",{className:h()("ri-align-center",{"text-textSecondary":!e.isActive({textAlign:"center"})})})}),i.jsx(b.Z,{...e.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:i.jsx("i",{className:h()("ri-align-right",{"text-textSecondary":!e.isActive({textAlign:"right"})})})}),i.jsx(b.Z,{...e.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:i.jsx("i",{className:h()("ri-align-justify",{"text-textSecondary":!e.isActive({textAlign:"justify"})})})})]}):null,y=({setTitle:e,title:t,setSNo:r,sNo:s,setDescription:n,description:p,errors:h,productData:b})=>{let y=(0,m.jE)({extensions:[g.V,f.V.configure({placeholder:"Write something here..."}),v.P.configure({types:["heading","paragraph"]}),j.v],content:p,onUpdate:({editor:e})=>{n(e.getHTML())}});return(0,P.useEffect)(()=>{b&&(e(b.title),r(b.serial_number))}),(0,i.jsxs)(c.Z,{children:[i.jsx(o.Z,{title:"Product Information"}),(0,i.jsxs)(x.Z,{children:[(0,i.jsxs)(a.ZP,{container:!0,spacing:5,className:"mbe-5",children:[i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(u.Z,{fullWidth:!0,label:"Product Name",placeholder:"Enter Product Name",value:t,onChange:t=>e(t.target.value),error:!!h?.title,helperText:h?.title})}),i.jsx(a.ZP,{item:!0,xs:12,sm:6,children:i.jsx(u.Z,{fullWidth:!0,label:"Serial Number",placeholder:"0123-4567",value:s,onChange:e=>r(e.target.value),error:!!h?.sNo,helperText:h?.sNo})})]}),i.jsx(l.Z,{className:"mbe-1",children:"Description (Optional)"}),i.jsx(c.Z,{className:"p-0 border shadow-none",children:(0,i.jsxs)(x.Z,{className:"p-0",children:[i.jsx(Z,{editor:y}),i.jsx(d.Z,{className:"mli-5"}),i.jsx(m.kg,{editor:y,className:"bs-[135px] overflow-y-auto flex "})]})})]})]})};r(4456),r(95673);var A=r(53190);let N=({price:e,setPrice:t,errors:r})=>(0,i.jsxs)(c.Z,{children:[i.jsx(o.Z,{title:"Pricing"}),i.jsx(x.Z,{children:i.jsx(A.Z,{children:i.jsx(u.Z,{fullWidth:!0,label:"Base Price",placeholder:"Enter Base Price",className:"mbe-5",value:e,onChange:e=>t(e.target.value),error:!!r?.price,helperText:r?.price})})})]});var S=r(53913),C=r(918),_=r(37841),w=r(56390),D=r(14853),k=r(84875),q=r(29084),I=r(36238);let T=({brandId:e,setBrandId:t,catId:r,setCatId:a,errors:s})=>{let{data:l}=(0,k.kJ)(q.BD),{data:n}=(0,k.kJ)(q.xH);return(0,i.jsxs)(c.Z,{children:[i.jsx(o.Z,{title:"Organize"}),i.jsx(x.Z,{children:(0,i.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[(0,i.jsxs)(S.Z,{fullWidth:!0,children:[i.jsx(C.Z,{children:"Select Product Brand"}),i.jsx(w.Z,{label:"Select Vendor",value:e,onChange:e=>t(e.target.value),error:!!s?.brandId,helperText:s?.brandId,children:l?.brands?.map((e,t)=>i.jsx(_.Z,{value:e?.id,children:e?.title},t))}),i.jsx(I.Z,{sx:{color:"red"},children:s?.brandId})]}),i.jsx(D.Z,{value:r,onChange:(e,t)=>{a(t.id)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:n?.product_categories||[],disableCloseOnSelect:!0,getOptionLabel:e=>e?.title||"",renderOption:(e,t,{selected:r})=>(0,P.createElement)("li",{...e,key:t.id},t.title),renderInput:e=>i.jsx(u.Z,{...e,label:"Category",placeholder:"select category"})})]})})]})};var E=r(18753),O=r(24443),z=r(5330),L=r(76865),H=r(71728);let R=()=>{let{setGlobalMsg:e,loading:t,setLoading:r}=(0,L.q)(),[s,l]=(0,P.useState)(),[d,c]=(0,P.useState)(),[o,x]=(0,P.useState)(),[u,p]=(0,P.useState)(),[h,m]=(0,P.useState)(),[g,j]=(0,P.useState)(),[f,v]=(0,P.useState)(),[b,Z]=(0,P.useState)([]),[A]=(0,E.D)(O.zN),[S]=(0,E.D)(O.Sf),C=async()=>{r(!0);let t={},i=!1;if(s||(t.title="Title field is required",i=!0),s||(t.title="Title field is required",i=!0),h||(t.price="Price field is required",i=!0),g||(t.sNo="Serial Number field is required",i=!0),o||(t.brandId="Brand field is required",i=!0),u||(t.catId="Category field is required",i=!0),i){v({...t}),r(!1);return}try{await A({variables:{title:s,description_html:d,brand_id:o,category_id:u,serial_number:g,price:h}}),r(!1),l(""),m(""),c(""),j(""),x(""),p(""),e("➕ Add New Product")}catch(t){e("❌ Add Product Error"),console.log(t.response)}};return t?i.jsx(H.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.ZP,{container:!0,spacing:6,children:[i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(n,{handleDiscardProduct:()=>{l(""),c(""),m(0),j(0),p(""),x("")},handleAddProduct:C})}),i.jsx(a.ZP,{item:!0,xs:12,md:8,children:i.jsx(a.ZP,{container:!0,spacing:6,children:i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(y,{setTitle:l,title:s,setSNo:j,sNo:g,setDescription:c,description:d,errors:f})})})}),i.jsx(a.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:6,children:[i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(N,{price:h,setPrice:m,errors:f})}),i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(T,{brandId:o,setBrandId:x,catId:u,setCatId:p,errors:f})})]})})]}),i.jsx(z.Z,{})]})}},4456:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var i=r(10326),a=r(17577),s=r(19518),l=r(67461),n=r(84187),d=r(46374),c=r(48260),o=r(84979),x=r(71411),u=r(25609),p=r(91703),h=r(19611),m=r(23920);r(81547);var g=r(40529),j=r(64926),f=r(24443),v=r(18753),b=r(76865);r(66562);let P=(0,p.ZP)(j.Z)(({theme:e})=>({"& .dropzone":{minHeight:"unset",padding:e.spacing(12),[e.breakpoints.down("sm")]:{paddingInline:e.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:e.typography.body1.fontWeight}}})),Z=({productId:e,productData:t})=>{let[r,p]=(0,a.useState)([]),[j]=(0,v.D)(f.Sf),[Z]=(0,v.D)(f.pE),[y]=(0,v.D)(f.si),{setGlobalMsg:A,loading:N,setLoading:S}=(0,b.q)();(0,a.useEffect)(()=>{p(t.product_medias)},[e]);let{getRootProps:C,getInputProps:_}=(0,m.uI)({onDrop:e=>{p(t=>[...t,...e.map(e=>Object.assign(e))]),w(e)}});console.log("product data ",t);let w=async t=>{try{S(!0);let r=await j({variables:{content_type:"image",folder:"products"}}),i=await (0,h.c)(t[0],r.data.getFileUploadUrl.fileUploadUrl,"image");await Z({variables:{data:{product_id:e,media_type:"image",media_url:i}}}),S(!1),A("✅ Image Upload Successful")}catch(e){console.log("Image upload error",e)}},D=e=>e?.type?.startsWith("image")?i.jsx("img",{width:38,height:38,alt:e.name,src:URL.createObjectURL(e)}):i.jsx("img",{width:38,height:38,alt:e.name,src:e.media_url}),k=async e=>{await y({variables:{id:e?.id}}),p([...r.filter(t=>t.name!==e.name)]),A("✅ Delete Successful")},q=r.map(e=>(0,i.jsxs)(x.ZP,{className:"pis-4 plb-3",children:[i.jsx("div",{className:"file-details",children:i.jsx("div",{className:"file-preview",children:D(e)})}),i.jsx(c.Z,{onClick:()=>k(e),children:i.jsx("i",{className:"ri-close-line text-xl"})})]},e.id));return i.jsx(P,{children:(0,i.jsxs)(s.Z,{children:[i.jsx(l.Z,{title:"Product Image",sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,i.jsxs)(n.Z,{children:[(0,i.jsxs)("div",{...C({className:"dropzone"}),children:[i.jsx("input",{..._()}),(0,i.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[i.jsx(g.default,{variant:"rounded",skin:"light",color:"secondary",children:i.jsx("i",{className:"ri-upload-2-line"})}),i.jsx(u.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),i.jsx(u.Z,{color:"text.disabled",children:"or"}),i.jsx(d.Z,{variant:"outlined",size:"small",loading:N,children:"Browse Image"})]})]}),r.length?i.jsx(i.Fragment,{children:i.jsx(o.Z,{children:q})}):null]})]})})}},54256:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>n});var i=r(68570);let a=(0,i.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\app\[lang]\(dashboard)\products\add\page.jsx`),{__esModule:s,$$typeof:l}=a;a.default;let n=(0,i.createProxy)(String.raw`D:\ALPHA PROJECT\Admin Dashboard\alpha-admin\src\app\[lang]\(dashboard)\products\add\page.jsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[8948,4471,5280,4366,8522,8077,4313,2825,1994,632,1411,4853,2548,5746,2557,6860,7251,1684,9932,5673],()=>r(58472));module.exports=i})();