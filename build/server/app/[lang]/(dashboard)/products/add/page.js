(()=>{var e={};e.id=5974,e.ids=[5974],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},11787:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(75427),t(5114),t(32687),t(85133);var i=t(79193),a=t(71854),s=t(33997),l=t.n(s),n=t(73320),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let c=["",{children:["[lang]",{children:["(dashboard)",{children:["products",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,75427)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\products\\add\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5114)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32687)),"D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,85133,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,85529))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\ALPHA PROJECT\\dashboard\\src\\app\\[lang]\\(dashboard)\\products\\add\\page.jsx"],x="/[lang]/(dashboard)/products/add/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/[lang]/(dashboard)/products/add/page",pathname:"/[lang]/products/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},10869:(e,r,t)=>{Promise.resolve().then(t.bind(t,73736))},73736:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>D});var i=t(27486),a=t(61766),s=t(12964),l=t(72660);let n=({handleDiscardProduct:e,handleAddProduct:r})=>(0,i.jsxs)("div",{className:"flex flex-wrap sm:items-center justify-between max-sm:flex-col gap-6",children:[(0,i.jsxs)("div",{children:[i.jsx(l.Z,{variant:"h4",className:"mbe-1",children:"Add a new product"}),i.jsx(l.Z,{children:"Orders placed across your store"})]}),(0,i.jsxs)("div",{className:"flex flex-wrap max-sm:flex-col gap-4",children:[i.jsx(s.Z,{variant:"outlined",color:"secondary",onClick:e,children:"Discard"}),i.jsx(s.Z,{variant:"contained",onClick:r,children:"Publish Product"})]})]});var d=t(28188),c=t(15103),o=t(618);t(55701),t(30576);var x=t(69121),u=t(227),h=t(51259),m=t(30785),p=t(7830);let g=({price:e,setPrice:r,errors:t,dealerPrice:a,setDealerPrice:s,consumerPrice:l,setConsumerPrice:n})=>(0,i.jsxs)(x.Z,{children:[i.jsx(u.Z,{title:"Pricing"}),i.jsx(h.Z,{children:(0,i.jsxs)(p.Z,{children:[i.jsx(m.Z,{fullWidth:!0,type:"number",label:"Based Price",placeholder:"Enter Based Price",className:"mbe-5",value:e,onChange:e=>r(e.target.value),error:!!t?.price,helperText:t?.price}),i.jsx(m.Z,{fullWidth:!0,type:"number",label:"Dealer Price",placeholder:"Enter Dealer Price",className:"mbe-5",value:e,onChange:e=>s(e.target.value),error:!!t?.dealerPrice,helperText:t?.dealerPrice}),i.jsx(m.Z,{fullWidth:!0,type:"number",label:"Consumer Price",placeholder:"Enter Consumer Price",className:"mbe-5",value:l,onChange:e=>n(e.target.value),error:!!t?.consumerPrice,helperText:t?.consumerPrice})]})})]});var j=t(44182),v=t(50822),f=t(23467),P=t(95727),b=t(76880),y=t(45882),Z=t(25009),A=t(38532);let N=({brandId:e,setBrandId:r,catId:t,setCatId:a,errors:s})=>{let{data:l}=(0,y.kJ)(Z.BD),{data:n}=(0,y.kJ)(Z.xH);return(0,i.jsxs)(x.Z,{children:[i.jsx(u.Z,{title:"Organize"}),i.jsx(h.Z,{children:(0,i.jsxs)("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col gap-5",children:[(0,i.jsxs)(j.Z,{fullWidth:!0,children:[i.jsx(v.Z,{children:"Select Product Brand"}),i.jsx(P.Z,{label:"Select Vendor",value:e||"",onChange:e=>r(e.target.value),error:!!s?.brandId,helperText:s?.brandId,children:l?.brands?.map((e,r)=>i.jsx(f.Z,{value:e?.id,children:e?.title},r))}),i.jsx(A.Z,{sx:{color:"red"},children:s?.brandId})]}),i.jsx(b.Z,{value:t,onChange:(e,r)=>{r?a(r?.id):a(null)},className:"overflow-y-auto h-[40vh]",id:"checkboxes-tags-demo",options:n?.product_categories||[],disableCloseOnSelect:!0,getOptionLabel:e=>e?.title||"",renderOption:(e,r,{selected:t})=>(0,o.createElement)("li",{...e,key:r.id},r?.title),renderInput:e=>i.jsx(m.Z,{...e,label:"Category",placeholder:"select category"})})]})})]})};var C=t(83398),S=t(66718),w=t(91347),_=t(22405),k=t(63990),q=t(86016),T=t(46811);let D=()=>{(0,T.useRouter)();let{setGlobalMsg:e,loading:r,setLoading:t}=(0,_.q)(),[s,l]=(0,o.useState)(),[x,u]=(0,o.useState)(),[h,m]=(0,o.useState)(),[p,j]=(0,o.useState)(),[v,f]=(0,o.useState)(),[P,b]=(0,o.useState)(),[y,Z]=(0,o.useState)(),[A,D]=(0,o.useState)(),[z,E]=(0,o.useState)(),[I,L]=(0,o.useState)(),[W,O]=(0,o.useState)([]),[H]=(0,C.D)(S.zN),[M]=(0,C.D)(S.Sf),R=async()=>{t(!0);let r={},i=!1;if(s||(r.title="Title field is required",i=!0),s||(r.title="Title field is required",i=!0),v||(r.price="Price field is required",i=!0),P||(r.dealerPrice="Dealer Price field is required",i=!0),y||(r.consumerPrice="Consumer Price field is required",i=!0),A||(r.sNo="Serial Number field is required",i=!0),z||(r.warrantyPeriod="Warranty Period field is required",i=!0),h||(r.brandId="Brand field is required",i=!0),p||(r.catId="Category field is required",i=!0),i){L({...r}),t(!1);return}try{let r=await Promise.all(W.map(async e=>{let r=await M({variables:{content_type:"image",folder:"products"}}),t=await (0,q.c)(e,r.data.getFileUploadUrl.fileUploadUrl,"image");return{media_type:"image",media_url:t}}));await H({variables:{title:s,description_html:x,brand_id:h,category_id:p,serial_number:A,warranty_period:z,price:Number(v),dealer_price:Number(P),consumer_price:Number(y),product_medias:{data:r}}}),t(!1),l(""),f(""),u(""),D(""),b(""),Z(""),m(""),j(""),e("➕ Add New Product")}catch(r){e("❌ Add Product Error"),console.log(r.response)}};return r?i.jsx(k.Z,{sx:{textAlign:"center"},children:"Loading..."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.ZP,{container:!0,spacing:6,children:[i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(n,{handleDiscardProduct:()=>{l(""),u(""),f(""),D(""),b(""),Z(""),E(""),m(),O([])},handleAddProduct:R})}),i.jsx(a.ZP,{item:!0,xs:12,md:8,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:6,children:[i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(d.Z,{setTitle:l,title:s,setSNo:D,sNo:A,warrantyPeriod:z,setWarrantyPeriod:E,setDescription:u,description:x,errors:I})}),i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(c.Z,{files:W,setFiles:O})})]})}),i.jsx(a.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:6,children:[i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(g,{price:v,setPrice:f,errors:I,dealerPrice:P,setDealerPrice:b,consumerPrice:y,setConsumerPrice:Z})}),i.jsx(a.ZP,{item:!0,xs:12,children:i.jsx(N,{brandId:h,setBrandId:m,catId:p,setCatId:j,errors:I})})]})})]}),i.jsx(w.Z,{})]})}},15103:(e,r,t)=>{"use strict";t.d(r,{Z:()=>v});var i=t(27486),a=t(618),s=t(69121),l=t(227),n=t(51259),d=t(12964),c=t(9594),o=t(47269),x=t(43022),u=t(72660),h=t(26829),m=t(59537);t(36858);var p=t(81636),g=t(5963);let j=(0,h.ZP)(g.Z)(({theme:e})=>({"& .dropzone":{minHeight:"unset",padding:e.spacing(12),[e.breakpoints.down("sm")]:{paddingInline:e.spacing(5)},"&+.MuiList-root .MuiListItem-root .file-name":{fontWeight:e.typography.body1.fontWeight}}})),v=({files:e,setFiles:r})=>{let[t,h]=(0,a.useState)([]),[g,v]=(0,a.useState)(!1),{getRootProps:f,getInputProps:P}=(0,m.uI)({onDrop:e=>{let t=e.filter(e=>e.type.startsWith("image"));t.length!==e.length?v("Only image files are allowed."):v(""),r(t.map(e=>Object.assign(e)))}}),b=e=>e.type.startsWith("image")?i.jsx("img",{width:38,height:38,alt:e.name,src:URL.createObjectURL(e)}):i.jsx("i",{className:"ri-file-text-line"}),y=t=>{r([...e.filter(e=>e.name!==t.name)])},Z=e.map(e=>(0,i.jsxs)(x.ZP,{className:"pis-4 plb-3",children:[(0,i.jsxs)("div",{className:"file-details",children:[i.jsx("div",{className:"file-preview",children:b(e)}),(0,i.jsxs)("div",{children:[i.jsx(u.Z,{className:"file-name font-medium",color:"text.primary",children:e.name}),i.jsx(u.Z,{className:"file-size",variant:"body2",children:Math.round(e.size/100)/10>1e3?`${(Math.round(e.size/100)/1e4).toFixed(1)} mb`:`${(Math.round(e.size/100)/10).toFixed(1)} kb`})]})]}),i.jsx(c.Z,{onClick:()=>y(e),children:i.jsx("i",{className:"ri-close-line text-xl"})})]},e.name));return i.jsx(j,{children:(0,i.jsxs)(s.Z,{children:[i.jsx(l.Z,{title:"Product Image",sx:{"& .MuiCardHeader-action":{alignSelf:"center"}}}),(0,i.jsxs)(n.Z,{children:[(0,i.jsxs)("div",{...f({className:"dropzone"}),children:[i.jsx("input",{...P()}),(0,i.jsxs)("div",{className:"flex items-center flex-col gap-2 text-center",children:[i.jsx(p.default,{variant:"rounded",skin:"light",color:"secondary",children:i.jsx("i",{className:"ri-upload-2-line"})}),i.jsx(u.Z,{variant:"h4",children:"Drag and Drop Your Image Here."}),i.jsx(u.Z,{color:"text.disabled",children:"or"}),i.jsx(d.Z,{variant:"outlined",size:"small",children:"Browse Image"})]})]}),g&&i.jsx(u.Z,{color:"error",variant:"body2",children:g}),e.length?(0,i.jsxs)(i.Fragment,{children:[i.jsx(o.Z,{children:Z}),i.jsx("div",{className:"buttons",children:i.jsx(d.Z,{color:"error",variant:"outlined",onClick:()=>{r([])},children:"Remove All"})})]}):null]})]})})}},28188:(e,r,t)=>{"use strict";t.d(r,{Z:()=>P});var i=t(27486),a=t(20700),s=t(61766),l=t(69121),n=t(227),d=t(51259),c=t(30785),o=t(72660),x=t(19396),u=t.n(x),h=t(4850),m=t(65669),p=t(64110),g=t(34489),j=t(3807),v=t(55701);t(77842),t(618);let f=({editor:e})=>e?(0,i.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 pbs-5 pbe-4 pli-5",children:[i.jsx(v.Z,{...e.isActive("bold")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleBold().run(),children:i.jsx("i",{className:u()("ri-bold",{"text-textSecondary":!e.isActive("bold")})})}),i.jsx(v.Z,{...e.isActive("underline")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleUnderline().run(),children:i.jsx("i",{className:u()("ri-underline",{"text-textSecondary":!e.isActive("underline")})})}),i.jsx(v.Z,{...e.isActive("italic")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleItalic().run(),children:i.jsx("i",{className:u()("ri-italic",{"text-textSecondary":!e.isActive("italic")})})}),i.jsx(v.Z,{...e.isActive("strike")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleStrike().run(),children:i.jsx("i",{className:u()("ri-strikethrough",{"text-textSecondary":!e.isActive("strike")})})}),i.jsx(v.Z,{...e.isActive("bulletList")&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().toggleBulletList().run(),children:i.jsx("i",{className:u()("ri-list-unordered",{"text-textSecondary":!e.isActive("bulletList")})})}),i.jsx(v.Z,{...e.isActive({textAlign:"left"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("left").run(),children:i.jsx("i",{className:u()("ri-align-left",{"text-textSecondary":!e.isActive({textAlign:"left"})})})}),i.jsx(v.Z,{...e.isActive({textAlign:"center"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("center").run(),children:i.jsx("i",{className:u()("ri-align-center",{"text-textSecondary":!e.isActive({textAlign:"center"})})})}),i.jsx(v.Z,{...e.isActive({textAlign:"right"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("right").run(),children:i.jsx("i",{className:u()("ri-align-right",{"text-textSecondary":!e.isActive({textAlign:"right"})})})}),i.jsx(v.Z,{...e.isActive({textAlign:"justify"})&&{color:"primary"},variant:"outlined",size:"small",onClick:()=>e.chain().focus().setTextAlign("justify").run(),children:i.jsx("i",{className:u()("ri-align-justify",{"text-textSecondary":!e.isActive({textAlign:"justify"})})})})]}):null,P=({setTitle:e,title:r,setSNo:t,sNo:x,setDescription:u,description:v,errors:P,productData:b,warrantyPeriod:y,setWarrantyPeriod:Z})=>{let A=(0,h.jE)({extensions:[m.V,g.V.configure({placeholder:"Write something here..."}),j.P.configure({types:["heading","paragraph"]}),p.v],content:v,onUpdate:({editor:e})=>{u(e.getHTML())}});return(0,i.jsxs)(l.Z,{children:[i.jsx(n.Z,{title:"Product Information"}),(0,i.jsxs)(d.Z,{children:[(0,i.jsxs)(s.ZP,{container:!0,spacing:5,className:"mbe-5",children:[i.jsx(s.ZP,{item:!0,xs:12,children:i.jsx(c.Z,{fullWidth:!0,label:"Product Name",placeholder:"Enter Product Name",value:r,onChange:r=>e(r.target.value),error:!!P?.title,helperText:P?.title})}),i.jsx(s.ZP,{item:!0,xs:12,sm:6,children:i.jsx(c.Z,{fullWidth:!0,label:"Warranty Period",placeholder:"Enter Warranty Period",value:y,onChange:e=>Z(e.target.value),error:!!P?.warrantyPeriod,helperText:P?.warrantyPeriod})}),i.jsx(s.ZP,{item:!0,xs:12,sm:6,children:i.jsx(c.Z,{fullWidth:!0,label:"Serial Number",placeholder:"0123-4567",value:x,onChange:e=>t(e.target.value),error:!!P?.sNo,helperText:P?.sNo})})]}),i.jsx(o.Z,{className:"mbe-1",children:"Description"}),i.jsx(l.Z,{className:"p-0 border shadow-none",children:(0,i.jsxs)(d.Z,{className:"p-0",children:[i.jsx(f,{editor:A}),i.jsx(a.Z,{className:"mli-5"}),i.jsx(h.kg,{editor:A,className:"bs-[135px] overflow-y-auto flex "})]})})]})]})}},75427:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>s,default:()=>n});var i=t(92334);let a=(0,i.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\app\[lang]\(dashboard)\products\add\page.jsx`),{__esModule:s,$$typeof:l}=a;a.default;let n=(0,i.createProxy)(String.raw`D:\ALPHA PROJECT\dashboard\src\app\[lang]\(dashboard)\products\add\page.jsx#default`)}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[9357,6491,1598,8743,8520,168,195,785,1766,264,5233,1769,6880,2988,1084,5670,6532,2475,6754,576],()=>t(11787));module.exports=i})();