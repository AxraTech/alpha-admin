"use strict";exports.id=5060,exports.ids=[5060],exports.modules={48398:(e,r,l)=>{l.r(r),l.d(r,{default:()=>S});var s=l(27486),t=l(618),i=l(38165),a=l(36370),n=l(29454),o=l(39926),c=l(48152),d=l(64037),u=l(29597),m=l(98108),x=l(5773),g=l(1416),p=l(7556),h=l(19396),j=l.n(h),f=l(63665);let v=e=>{let{tooltipProps:r,children:l}=e;return r?.title?s.jsx(a.Z,{...r,children:l}):l},w=({children:e,option:r})=>r.href?s.jsx(n.Z,{component:i.default,href:r.href,...r.linkProps,children:e}):s.jsx(s.Fragment,{children:e}),S=e=>{let{tooltipProps:r,icon:l,iconClassName:i,options:a,leftAlignMenu:n,iconButtonProps:h}=e,[S,N]=(0,t.useState)(!1),b=(0,t.useRef)(null),{settings:y}=(0,f.r)(),C=e=>{b.current&&b.current.contains(e.target)||N(!1)};return(0,s.jsxs)(s.Fragment,{children:[s.jsx(v,{tooltipProps:r,children:s.jsx(g.Z,{ref:b,size:"small",onClick:()=>{N(e=>!e)},...h,children:"string"==typeof l?s.jsx("i",{className:j()(l,i)}):l||s.jsx("i",{className:j()("ri-more-2-line",i)})})}),s.jsx(o.Z,{open:S,anchorEl:b.current,placement:n?"bottom-start":"bottom-end",transition:!0,disablePortal:!0,sx:{zIndex:1},children:({TransitionProps:e})=>s.jsx(m.Z,{...e,children:s.jsx(x.Z,{className:"bordered"===y.skin?"border shadow-none":"shadow-lg",children:s.jsx(u.d,{onClickAway:C,children:s.jsx(d.Z,{autoFocusItem:S,children:a.map((e,r)=>"string"==typeof e?s.jsx(c.Z,{onClick:C,children:e},r):"divider"in e?e.divider&&s.jsx(p.Z,{...e.dividerProps},r):s.jsx(c.Z,{...e.menuItemProps,...e.href&&{className:"p-0"},onClick:r=>{C(r),e.menuItemProps&&e.menuItemProps.onClick&&e.menuItemProps.onClick(r)},children:(0,s.jsxs)(w,{option:e,children:[("string"==typeof e.icon?s.jsx("i",{className:e.icon}):e.icon)||null,e.text]})},r))})})})})})]})}},91347:(e,r,l)=>{l.d(r,{Z:()=>a});var s=l(27486);l(618);var t=l(72277),i=l(22405);let a=()=>{let{globalMsg:e,setGlobalMsg:r}=(0,i.q)();return s.jsx("div",{children:s.jsx(t.Z,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!!e,autoHideDuration:3e3,onClose:()=>r(null),message:e})})}},93889:(e,r,l)=>{l.d(r,{Pg:()=>n,c7:()=>t,sE:()=>a,uH:()=>s,zh:()=>i});let s={completed:"success",canceled:"error","received token":"info","picking up":"primary",processing:"warning"},t={pending:"warning",completed:"success",accepted:"info",rejected:"error"},i={delivering:"secondary",completed:"success",ordered:"info",preparing:"primary",refunded:"warning",canceled:"error"},a={paid:"primary","partially paid":"info",completed:"success",unpaid:"error",pending:"warning"},n={verified:"success",pending:"warning",unverified:"primary",disable:"error"}},26808:(e,r,l)=>{l.d(r,{Q:()=>s});let s=e=>e.split(/\s/).reduce((e,r)=>e+=r.slice(0,1),"")},5060:(e,r,l)=>{l.d(r,{Z:()=>M});var s=l(27486),t=l(618),i=l(38165),a=l(46811),n=l(42453),o=l(35549),c=l(30675),d=l(1416),u=l(30965),m=l(46797),x=l(19396),g=l.n(x),p=l(61359),h=l(36514),j=l(57229);l(48398),l(81636),l(93889),l(26808);var f=l(11158),v=l(31538),w=l.n(v),S=l(45162),N=l(38860),b=l(25009),y=l(66718),C=l(22405),P=l(91347);let Z=(e,r,l,s)=>{let t=(0,p.O4)(e.getValue(r),l);return s({itemRank:t}),t.passed},F=({value:e,onChange:r,debounce:l=500,...i})=>{let[a,n]=(0,t.useState)(e);return(0,t.useEffect)(()=>{n(e)},[e]),(0,t.useEffect)(()=>{let e=setTimeout(()=>{r(a)},l);return()=>clearTimeout(e)},[a]),s.jsx(u.Z,{...i,value:a,onChange:e=>n(e.target.value),size:"small"})},k=(0,h.Cl)(),M=({productData:e})=>{let{data:r}=(0,S.kJ)(b.ef,{variables:{product_id:e.id},fetchPolicy:"network-only"}),{data:l}=(0,S.kJ)(b.DF),{setGlobalMsg:u}=(0,C.q)(),[x,p]=(0,t.useState)(""),[v,M]=(0,t.useState)({}),[R,z]=(0,t.useState)(r.product_discounts),[I,_]=(0,t.useState)(R),[D,E]=(0,t.useState)(""),[V]=(0,N.D)(y.Qm),H=async e=>{try{await V({variables:{id:e}}),z(R.filter(r=>r.id!==e)),u("âœ… Delete Successful")}catch(e){console.log("Error ",e)}},{lang:O}=(0,a.useParams)(),G=(0,t.useMemo)(()=>[k.accessor("id",{header:"#",cell:({row:e})=>s.jsx(c.Z,{component:i.default,href:(0,f.U)(`/products/discount/${e.original.id}`,O),color:"primary",children:`${e.original.id.substring(0,10)}`})}),k.accessor("min_order ",{header:"Minimal Order",cell:({row:e})=>s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"flex flex-col",children:s.jsx(c.Z,{className:"font-medium",color:"text.primary",children:e.original.min_order})})})}),k.accessor("customer_type ",{header:"Customer Type",cell:({row:e})=>s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"flex flex-col",children:s.jsx(c.Z,{className:"font-medium",color:"text.primary",children:e.original.customer_type})})})}),k.accessor("discounted_value",{header:"Discounted Value",cell:({row:e})=>s.jsx(c.Z,{children:`${null!==e.original.discounted_value?e.original.discounted_value.toLocaleString():"-"}`})}),k.accessor("action",{header:"Action",cell:({row:e})=>(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(d.Z,{onClick:()=>H(e.original.id),children:s.jsx("i",{className:"ri-delete-bin-7-line text-textSecondary text-red-600"})}),s.jsx(d.Z,{children:s.jsx(i.default,{href:(0,f.U)(`/products/discount/details/${e.original.id}`,O),className:"flex",children:s.jsx("i",{className:"ri-eye-line text-textSecondary"})})})]}),enableSorting:!1})],[R,I]),T=(0,j.b7)({data:I,columns:G,filterFns:{fuzzy:Z},state:{rowSelection:v,globalFilter:D},initialState:{pagination:{pageSize:10}},enableRowSelection:!0,globalFilterFn:Z,onRowSelectionChange:M,getCoreRowModel:(0,h.sC)(),onGlobalFilterChange:E,getFilteredRowModel:(0,h.vL)(),getSortedRowModel:(0,h.tj)(),getPaginationRowModel:(0,h.G_)(),getFacetedRowModel:(0,h.o6)(),getFacetedUniqueValues:(0,h.JG)(),getFacetedMinMaxValues:(0,h.HO)()});return(0,t.useEffect)(()=>{_(R?.filter(e=>!x||e.status.toLowerCase().replace(/\s+/g,"-")===x))},[x,R,_]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.Z,{children:[s.jsx(o.Z,{className:"flex justify-between gap-4 flex-wrap flex-col sm:flex-row items-center",children:s.jsx("div",{className:"flex flex-col sm:flex-row max-sm:is-full items-center gap-4",children:s.jsx(F,{value:D??"",onChange:e=>E(String(e)),placeholder:"Search Product Discount",className:"max-sm:is-full min-is-[200px]"})})}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:w().table,children:[s.jsx("thead",{children:T.getHeaderGroups().map(e=>s.jsx("tr",{children:e.headers.map(e=>s.jsx("th",{children:e.isPlaceholder?null:s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:g()({"flex items-center":e.column.getIsSorted(),"cursor-pointer select-none":e.column.getCanSort()}),onClick:e.column.getToggleSortingHandler(),children:[(0,j.ie)(e.column.columnDef.header,e.getContext()),{asc:s.jsx("i",{className:"ri-arrow-up-s-line text-xl"}),desc:s.jsx("i",{className:"ri-arrow-down-s-line text-xl"})}[e.column.getIsSorted()]??null]})})},e.id))},e.id))}),0===T.getFilteredRowModel().rows.length?s.jsx("tbody",{children:s.jsx("tr",{children:s.jsx("td",{colSpan:T.getVisibleFlatColumns().length,className:"text-center",children:"No data available"})})}):s.jsx("tbody",{children:T.getRowModel().rows.slice(0,T.getState().pagination.pageSize).map(e=>s.jsx("tr",{className:g()({selected:e.getIsSelected()}),children:e.getVisibleCells().map(e=>s.jsx("td",{children:(0,j.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),s.jsx(m.Z,{rowsPerPageOptions:[10,25,50],component:"div",className:"border-bs",count:T.getFilteredRowModel().rows.length,rowsPerPage:T.getState().pagination.pageSize,page:T.getState().pagination.pageIndex,SelectProps:{inputProps:{"aria-label":"rows per page"}},onPageChange:(e,r)=>{T.setPageIndex(r)},onRowsPerPageChange:e=>T.setPageSize(Number(e.target.value))})]}),s.jsx(P.Z,{})]})}}};